var COMPILED=true,goog=goog||{};goog.global=this;goog.DEBUG=true;goog.LOCALE="en";goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a];for(var f=a;f=f.substring(0,f.lastIndexOf("."));){if(goog.getObjectByName(f))break;goog.implicitNamespaces_[f]=true}}goog.exportPath_(a)};
goog.setTestOnly=function(a){if(COMPILED&&!goog.DEBUG)throw a=a||"",Error("Importing test-only code into non-debug environment"+a?": "+a:".");};if(!COMPILED)goog.isProvided_=function(a){return!goog.implicitNamespaces_[a]&&!!goog.getObjectByName(a)},goog.implicitNamespaces_={};goog.exportPath_=function(a,f,e){a=a.split(".");e=e||goog.global;!(a[0]in e)&&e.execScript&&e.execScript("var "+a[0]);for(var g;a.length&&(g=a.shift());)!a.length&&goog.isDef(f)?e[g]=f:e=e[g]?e[g]:e[g]={}};
goog.getObjectByName=function(a,f){for(var e=a.split("."),g=f||goog.global,h;h=e.shift();)if(goog.isDefAndNotNull(g[h]))g=g[h];else return null;return g};goog.globalize=function(a,f){var e=f||goog.global,g;for(g in a)e[g]=a[g]};
goog.addDependency=function(a,f,e){if(!COMPILED){for(var g,a=a.replace(/\\/g,"/"),h=goog.dependencies_,i=0;g=f[i];i++)h.nameToPath[g]=a,a in h.pathToNames||(h.pathToNames[a]={}),h.pathToNames[a][g]=true;for(g=0;f=e[g];g++)a in h.requires||(h.requires[a]={}),h.requires[a][f]=true}};goog.ENABLE_DEBUG_LOADER=true;
goog.require=function(a){if(!COMPILED&&!goog.isProvided_(a)){if(goog.ENABLE_DEBUG_LOADER){var f=goog.getPathFromDeps_(a);if(f){goog.included_[f]=true;goog.writeScripts_();return}}a="goog.require could not find: "+a;goog.global.console&&goog.global.console.error(a);throw Error(a);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(a){return a};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(a){a.getInstance=function(){return a.instance_||(a.instance_=new a)}};
if(!COMPILED&&goog.ENABLE_DEBUG_LOADER)goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return typeof a!="undefined"&&"write"in a},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("script"),f=a.length-1;f>=0;--f){var e=a[f].src,g=e.lastIndexOf("?"),
g=g==-1?e.length:g;if(e.substr(g-7,7)=="base.js"){goog.basePath=e.substr(0,g-7);break}}},goog.importScript_=function(a){var f=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[a]&&f(a)&&(goog.dependencies_.written[a]=true)},goog.writeScriptTag_=function(a){return goog.inHtmlDocument_()?(goog.global.document.write('<script type="text/javascript" src="'+a+'"><\/script>'),true):false},goog.writeScripts_=function(){function a(i){if(!(i in g.written)){if(!(i in g.visited)&&
(g.visited[i]=true,i in g.requires))for(var h in g.requires[i])if(!goog.isProvided_(h))if(h in g.nameToPath)a(g.nameToPath[h]);else throw Error("Undefined nameToPath for "+h);i in e||(e[i]=true,f.push(i))}}var f=[],e={},g=goog.dependencies_,h;for(h in goog.included_)g.written[h]||a(h);for(h=0;h<f.length;h++)if(f[h])goog.importScript_(goog.basePath+f[h]);else throw Error("Undefined script input");},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:
null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js");
goog.typeOf=function(a){var f=typeof a;if(f=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return f;var e=Object.prototype.toString.call(a);if(e=="[object Window]")return"object";if(e=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(e=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(f=="function"&&typeof a.call=="undefined")return"object";return f};goog.propertyIsEnumerableCustom_=function(a,f){if(f in a)for(var e in a)if(e==f&&Object.prototype.hasOwnProperty.call(a,f))return true;return false};goog.propertyIsEnumerable_=function(a,f){return a instanceof Object?Object.prototype.propertyIsEnumerable.call(a,f):goog.propertyIsEnumerableCustom_(a,f)};goog.isDef=function(a){return a!==void 0};goog.isNull=function(a){return a===null};
goog.isDefAndNotNull=function(a){return a!=null};goog.isArray=function(a){return goog.typeOf(a)=="array"};goog.isArrayLike=function(a){var f=goog.typeOf(a);return f=="array"||f=="object"&&typeof a.length=="number"};goog.isDateLike=function(a){return goog.isObject(a)&&typeof a.getFullYear=="function"};goog.isString=function(a){return typeof a=="string"};goog.isBoolean=function(a){return typeof a=="boolean"};goog.isNumber=function(a){return typeof a=="number"};
goog.isFunction=function(a){return goog.typeOf(a)=="function"};goog.isObject=function(a){a=goog.typeOf(a);return a=="object"||a=="array"||a=="function"};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.removeUid=function(a){"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(f){}};goog.UID_PROPERTY_="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36);goog.uidCounter_=0;
goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var f=goog.typeOf(a);if(f=="object"||f=="array"){if(a.clone)return a.clone();var f=f=="array"?[]:{},e;for(e in a)f[e]=goog.cloneObject(a[e]);return f}return a};goog.bindNative_=function(a,f,e){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,f,e){if(!a)throw Error();if(arguments.length>2){var g=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,g);return a.apply(f,e)}}else return function(){return a.apply(f,arguments)}};goog.bind=function(a,f,e){goog.bind=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bindNative_:goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,f){var e=Array.prototype.slice.call(arguments,1);return function(){var f=Array.prototype.slice.call(arguments);f.unshift.apply(f,e);return a.apply(this,f)}};goog.mixin=function(a,f){for(var e in f)a[e]=f[e]};goog.now=Date.now||function(){return+new Date};
goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null)goog.global.eval("var _et_ = 1;"),typeof goog.global._et_!="undefined"?(delete goog.global._et_,goog.evalWorksForGlobals_=true):goog.evalWorksForGlobals_=false;if(goog.evalWorksForGlobals_)goog.global.eval(a);else{var f=goog.global.document,e=f.createElement("script");e.type="text/javascript";e.defer=false;e.appendChild(f.createTextNode(a));f.body.appendChild(e);
f.body.removeChild(e)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(a,f){var e=function(a){return goog.cssNameMapping_[a]||a},g;g=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?e:function(a){for(var a=a.split("-"),f=[],g=0;g<a.length;g++)f.push(e(a[g]));return f.join("-")}:function(a){return a};return f?a+"-"+g(f):g(a)};goog.setCssNameMapping=function(a,f){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=f};
if(!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING)goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING;goog.getMsg=function(a,f){var e=f||{},g;for(g in e)var h=(""+e[g]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+g+"\\}","gi"),h);return a};goog.exportSymbol=function(a,f,e){goog.exportPath_(a,f,e)};goog.exportProperty=function(a,f,e){a[f]=e};goog.inherits=function(a,f){function e(){}e.prototype=f.prototype;a.superClass_=f.prototype;a.prototype=new e;a.prototype.constructor=a};
goog.base=function(a,f,e){var g=arguments.callee.caller;if(g.superClass_)return g.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var h=Array.prototype.slice.call(arguments,2),i=false,o=a.constructor;o;o=o.superClass_&&o.superClass_.constructor)if(o.prototype[f]===g)i=true;else if(i)return o.prototype[f].apply(a,h);if(a[f]===g)return a.constructor.prototype[f].apply(a,h);else throw Error("goog.base called from a method of one name to a method of a different name");};
goog.scope=function(a){a.call(goog.global)};var WebGLDebugUtils=function(){function a(a){if(o==null){o={};for(var f in a)typeof a[f]=="number"&&(o[a[f]]=f)}}function f(){if(o==null)throw"WebGLDebugUtils.init(ctx) not called";}function e(a){f();var e=o[a];return e!==void 0?e:"*UNKNOWN WebGL ENUM (0x"+a.toString(16)+")"}function g(a,f,g){a=i[a];return a!==void 0&&a[f]?e(g):g.toString()}function h(a){var f=a.getParameter(a.MAX_VERTEX_ATTRIBS),e=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,e);for(var i=0;i<f;++i)a.disableVertexAttribArray(i),a.vertexAttribPointer(i,
4,a.FLOAT,false,0,0),a.vertexAttrib1f(i,0);a.deleteBuffer(e);f=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);for(i=0;i<f;++i)a.activeTexture(a.TEXTURE0+i),a.bindTexture(a.TEXTURE_CUBE_MAP,null),a.bindTexture(a.TEXTURE_2D,null);a.activeTexture(a.TEXTURE0);a.useProgram(null);a.bindBuffer(a.ARRAY_BUFFER,null);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null);a.bindFramebuffer(a.FRAMEBUFFER,null);a.bindRenderbuffer(a.RENDERBUFFER,null);a.disable(a.BLEND);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);a.disable(a.DITHER);
a.disable(a.SCISSOR_TEST);a.blendColor(0,0,0,0);a.blendEquation(a.FUNC_ADD);a.blendFunc(a.ONE,a.ZERO);a.clearColor(0,0,0,0);a.clearDepth(1);a.clearStencil(-1);a.colorMask(true,true,true,true);a.cullFace(a.BACK);a.depthFunc(a.LESS);a.depthMask(true);a.depthRange(0,1);a.frontFace(a.CCW);a.hint(a.GENERATE_MIPMAP_HINT,a.DONT_CARE);a.lineWidth(1);a.pixelStorei(a.PACK_ALIGNMENT,4);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,false);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
false);a.UNPACK_COLORSPACE_CONVERSION_WEBGL&&a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.BROWSER_DEFAULT_WEBGL);a.polygonOffset(0,0);a.sampleCoverage(1,false);a.scissor(0,0,a.canvas.width,a.canvas.height);a.stencilFunc(a.ALWAYS,0,4294967295);a.stencilMask(4294967295);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);a.viewport(0,0,a.canvas.clientWidth,a.canvas.clientHeight);for(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT|a.STENCIL_BUFFER_BIT);a.getError(););}var i={enable:{0:true},disable:{0:true},getParameter:{0:true},
drawArrays:{0:true},drawElements:{0:true,2:true},createShader:{0:true},getShaderParameter:{1:true},getProgramParameter:{1:true},getVertexAttrib:{1:true},vertexAttribPointer:{2:true},bindTexture:{0:true},activeTexture:{0:true},getTexParameter:{0:true,1:true},texParameterf:{0:true,1:true},texParameteri:{0:true,1:true,2:true},texImage2D:{0:true,2:true,6:true,7:true},texSubImage2D:{0:true,6:true,7:true},copyTexImage2D:{0:true,2:true},copyTexSubImage2D:{0:true},generateMipmap:{0:true},bindBuffer:{0:true},
bufferData:{0:true,2:true},bufferSubData:{0:true},getBufferParameter:{0:true,1:true},pixelStorei:{0:true,1:true},readPixels:{4:true,5:true},bindRenderbuffer:{0:true},bindFramebuffer:{0:true},checkFramebufferStatus:{0:true},framebufferRenderbuffer:{0:true,1:true,2:true},framebufferTexture2D:{0:true,1:true,2:true},getFramebufferAttachmentParameter:{0:true,1:true,2:true},getRenderbufferParameter:{0:true,1:true},renderbufferStorage:{0:true,1:true},clear:{0:true},depthFunc:{0:true},blendFunc:{0:true,1:true},
blendFuncSeparate:{0:true,1:true,2:true,3:true},blendEquation:{0:true},blendEquationSeparate:{0:true,1:true},stencilFunc:{0:true},stencilFuncSeparate:{0:true,1:true},stencilMaskSeparate:{0:true},stencilOp:{0:true,1:true,2:true},stencilOpSeparate:{0:true,1:true,2:true,3:true},cullFace:{0:true},frontFace:{0:true}},o=null;return{init:a,mightBeEnum:function(a){f();return o[a]!==void 0},glEnumToString:e,glFunctionArgToString:g,makeDebugContext:function(f,i){function h(a,f){return function(){var e=a[f].apply(a,
arguments),g=a.getError();g!=0&&(o[g]=true,i(g,f,arguments));return e}}a(f);var i=i||function(a,f,i){for(var h="",p=0;p<i.length;++p)h+=(p==0?"":", ")+g(f,p,i[p]);a="WebGL error "+e(a)+" in "+f+"("+h+")";window.console&&window.console.log&&window.console.log(a)},o={},t={},w;for(w in f)t[w]=typeof f[w]=="function"?h(f,w):f[w];t.getError=function(){for(var a in o)if(o[a])return o[a]=false,a;return f.NO_ERROR};return t},makeLostContextSimulatingContext:function(a){function f(){for(var a=Object.keys(F),
e=0;e<a.length;++e)delete glErrorShdow_[a]}function e(a,f){var g=a[f];return function(){if(!x){var f;a:{f=arguments;for(var e=0;e<f.length;++e){var i=f[e];if(i instanceof WebGLBuffer||i instanceof WebGLFramebuffer||i instanceof WebGLProgram||i instanceof WebGLRenderbuffer||i instanceof WebGLShader||i instanceof WebGLTexture){f=i.__webglDebugContextLostId__==o;break a}}f=true}if(f)return g.apply(a,arguments);else F[a.INVALID_OPERATION]=true}}}function i(a){return typeof a=="function"?a:function(f){a.handleEvent(f)}}
var g={},o=1,x=false,J=[],E=void 0,C=void 0,I=void 0,F={},v;for(v in a)g[v]=typeof a[v]=="function"?e(a,v):a[v];g.loseContext=function(){if(!x){x=true;for(++o;a.getError(););f();F[a.CONTEXT_LOST_WEBGL]=true;setTimeout(function(){E&&E({statusMessage:"context lost"})},0)}};g.restoreContext=function(){if(x)if(C)setTimeout(function(){for(var f=0;f<J.length;++f){var e=J[f];e instanceof WebGLBuffer?a.deleteBuffer(e):e instanceof WebctxFramebuffer?a.deleteFramebuffer(e):e instanceof WebctxProgram?a.deleteProgram(e):
e instanceof WebctxRenderbuffer?a.deleteRenderbuffer(e):e instanceof WebctxShader?a.deleteShader(e):e instanceof WebctxTexture&&a.deleteTexture(e)}h(a);x=false;C&&(C=I,I=void 0,callback({statusMessage:"context restored"}))},0);else throw"You can not restore the context without a listener";};g.getError=function(){if(!x)for(var f;f=a.getError();)F[f]=true;for(f in F)if(F[f])return delete F[f],f;return a.NO_ERROR};var D="createBuffer,createFramebuffer,createProgram,createRenderbuffer,createShader,createTexture".split(",");
for(v=0;v<D.length;++v){var G=D[v];g[G]=function(f){return function(){if(x)return null;var e=f.apply(a,arguments);e.__webglDebugContextLostId__=o;J.push(e);return e}}(a[G])}D="getActiveAttrib,getActiveUniform,getBufferParameter,getContextAttributes,getAttachedShaders,getFramebufferAttachmentParameter,getParameter,getProgramParameter,getProgramInfoLog,getRenderbufferParameter,getShaderParameter,getShaderInfoLog,getShaderSource,getTexParameter,getUniform,getUniformLocation,getVertexAttrib".split(",");
for(v=0;v<D.length;++v)G=D[v],g[G]=function(f){return function(){return x?null:f.apply(a,arguments)}}(g[G]);D="isBuffer,isEnabled,isFramebuffer,isProgram,isRenderbuffer,isShader,isTexture".split(",");for(v=0;v<D.length;++v)G=D[v],g[G]=function(f){return function(){return x?false:f.apply(a,arguments)}}(g[G]);g.checkFramebufferStatus=function(f){return function(){return x?a.FRAMEBUFFER_UNSUPPORTED:f.apply(a,arguments)}}(g.checkFramebufferStatus);g.getAttribLocation=function(f){return function(){return x?
-1:f.apply(a,arguments)}}(g.getAttribLocation);g.getVertexAttribOffset=function(f){return function(){return x?0:f.apply(a,arguments)}}(g.getVertexAttribOffset);g.isContextLost=function(){return x};g.registerOnContextLostListener=function(a){E=i(a)};g.registerOnContextRestoredListener=function(a){x?I=i(a):C=i(a)};return g},resetToInitialState:h}}();var glslunit={ShaderVariable:function(a,f){this.globalVariables_={};this.name_=a;this.isTexture_=!!f;this.attributeLocation_=null}};glslunit.ShaderVariable.QualifierType={UNIFORM:1,ATTRIBUTE:2,VARYING:3};glslunit.ShaderVariable.prototype.getName=function(){if(this.renameMap_){var a=this.renameMap_[this.name_];if(a)return a}return this.name_};glslunit.ShaderVariable.prototype.setGlobalVariables=function(a,f){this.globalVariables_=a;this.renameMap_=f||null};
glslunit.ShaderVariable.prototype.getIsTexture=function(){return this.isTexture_};glslunit.ShaderVariable.prototype.cleanUp=function(a){this.attributeLocation_!=null&&a.disableVertexAttribArray(this.attributeLocation_)};
glslunit.ShaderVariable.prototype.getLocation=function(a,f){var e=this.getQualifierType();this.attributeLocation_=null;return e==glslunit.ShaderVariable.QualifierType.ATTRIBUTE?(e=a.getAttribLocation(f,this.getName()),e>=0?(a.enableVertexAttribArray(e),this.attributeLocation_=e):null):a.getUniformLocation(f,this.getName())};
glslunit.ShaderVariable.prototype.getQualifierType=function(){var a=this.globalVariables_[this.getName()];if(a&&(a=a.typeAttribute.qualifier))return glslunit.ShaderVariable.QualifierType[a.split(" ").slice(-1)[0].toUpperCase()];throw this.getName()+" was not an input variable to the shader program.";};glslunit.ShaderVariable.prototype.getTypeName=function(){return this.globalVariables_[this.getName()].typeAttribute.name};goog.debug={};goog.debug.Error=function(a){this.stack=Error().stack||"";if(a)this.message=String(a)};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.string={};goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(a,f){return a.lastIndexOf(f,0)==0};goog.string.endsWith=function(a,f){var e=a.length-f.length;return e>=0&&a.indexOf(f,e)==e};goog.string.caseInsensitiveStartsWith=function(a,f){return goog.string.caseInsensitiveCompare(f,a.substr(0,f.length))==0};goog.string.caseInsensitiveEndsWith=function(a,f){return goog.string.caseInsensitiveCompare(f,a.substr(a.length-f.length,f.length))==0};
goog.string.subs=function(a,f){for(var e=1;e<arguments.length;e++)var g=String(arguments[e]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,g);return a};goog.string.collapseWhitespace=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmpty=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.isEmptySafe=function(a){return goog.string.isEmpty(goog.string.makeSafe(a))};goog.string.isBreakingWhitespace=function(a){return!/[^\t\n\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};
goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return a==" "};goog.string.isUnicodeChar=function(a){return a.length==1&&a>=" "&&a<="~"||a>="\u0080"&&a<="\ufffd"};goog.string.stripNewlines=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};
goog.string.normalizeWhitespace=function(a){return a.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(a){return a.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};goog.string.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};
goog.string.caseInsensitiveCompare=function(a,f){var e=String(a).toLowerCase(),g=String(f).toLowerCase();return e<g?-1:e==g?0:1};goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g;
goog.string.numerateCompare=function(a,f){if(a==f)return 0;if(!a)return-1;if(!f)return 1;for(var e=a.toLowerCase().match(goog.string.numerateCompareRegExp_),g=f.toLowerCase().match(goog.string.numerateCompareRegExp_),h=Math.min(e.length,g.length),i=0;i<h;i++){var o=e[i],q=g[i];if(o!=q){e=parseInt(o,10);return!isNaN(e)&&(g=parseInt(q,10),!isNaN(g)&&e-g)?e-g:o<q?-1:1}}return e.length!=g.length?e.length-g.length:a<f?-1:1};goog.string.encodeUriRegExp_=/^[a-zA-Z0-9\-_.!~*'()]*$/;
goog.string.urlEncode=function(a){a=String(a);return!goog.string.encodeUriRegExp_.test(a)?encodeURIComponent(a):a};goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g," "))};goog.string.newLineToBr=function(a,f){return a.replace(/(\r\n|\r|\n)/g,f?"<br />":"<br>")};
goog.string.htmlEscape=function(a,f){if(f)return a.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;");else{if(!goog.string.allRe_.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(goog.string.amperRe_,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(goog.string.ltRe_,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(goog.string.gtRe_,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(goog.string.quotRe_,"&quot;"));return a}};
goog.string.amperRe_=/&/g;goog.string.ltRe_=/</g;goog.string.gtRe_=/>/g;goog.string.quotRe_=/\"/g;goog.string.allRe_=/[&<>\"]/;goog.string.unescapeEntities=function(a){return goog.string.contains(a,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};
goog.string.unescapeEntitiesUsingDom_=function(a){var f={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},e=document.createElement("div");return a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,h){var i=f[a];if(i)return i;if(h.charAt(0)=="#"){var o=Number("0"+h.substr(1));isNaN(o)||(i=String.fromCharCode(o))}if(!i)e.innerHTML=a+" ",i=e.firstChild.nodeValue.slice(0,-1);return f[a]=i})};
goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,e){switch(e){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if(e.charAt(0)=="#"){var g=Number("0"+e.substr(1));if(!isNaN(g))return String.fromCharCode(g)}return a}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(a,f){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),f)};
goog.string.stripQuotes=function(a,f){for(var e=f.length,g=0;g<e;g++){var h=e==1?f:f.charAt(g);if(a.charAt(0)==h&&a.charAt(a.length-1)==h)return a.substring(1,a.length-1)}return a};goog.string.truncate=function(a,f,e){e&&(a=goog.string.unescapeEntities(a));a.length>f&&(a=a.substring(0,f-3)+"...");e&&(a=goog.string.htmlEscape(a));return a};
goog.string.truncateMiddle=function(a,f,e,g){e&&(a=goog.string.unescapeEntities(a));if(g&&a.length>f){g>f&&(g=f);var h=a.length-g,a=a.substring(0,f-g)+"..."+a.substring(h)}else a.length>f&&(g=Math.floor(f/2),h=a.length-g,g+=f%2,a=a.substring(0,g)+"..."+a.substring(h));e&&(a=goog.string.htmlEscape(a));return a};goog.string.specialEscapeChars_={"\x00":"\\0","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\x0B",'"':'\\"',"\\":"\\\\"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(a){a=String(a);if(a.quote)return a.quote();else{for(var f=['"'],e=0;e<a.length;e++){var g=a.charAt(e),h=g.charCodeAt(0);f[e+1]=goog.string.specialEscapeChars_[g]||(h>31&&h<127?g:goog.string.escapeChar(g))}f.push('"');return f.join("")}};goog.string.escapeString=function(a){for(var f=[],e=0;e<a.length;e++)f[e]=goog.string.escapeChar(a.charAt(e));return f.join("")};
goog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[a];if(a in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];var f=a,e=a.charCodeAt(0);if(e>31&&e<127)f=a;else{if(e<256){if(f="\\x",e<16||e>256)f+="0"}else f="\\u",e<4096&&(f+="0");f+=e.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[a]=f};goog.string.toMap=function(a){for(var f={},e=0;e<a.length;e++)f[a.charAt(e)]=true;return f};
goog.string.contains=function(a,f){return a.indexOf(f)!=-1};goog.string.countOf=function(a,f){return a&&f?a.split(f).length-1:0};goog.string.removeAt=function(a,f,e){var g=a;f>=0&&f<a.length&&e>0&&(g=a.substr(0,f)+a.substr(f+e,a.length-f-e));return g};goog.string.remove=function(a,f){var e=RegExp(goog.string.regExpEscape(f),"");return a.replace(e,"")};goog.string.removeAll=function(a,f){var e=RegExp(goog.string.regExpEscape(f),"g");return a.replace(e,"")};
goog.string.regExpEscape=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=function(a,f){return Array(f+1).join(a)};goog.string.padNumber=function(a,f,e){a=goog.isDef(e)?a.toFixed(e):String(a);e=a.indexOf(".");if(e==-1)e=a.length;return goog.string.repeat("0",Math.max(0,f-e))+a};goog.string.makeSafe=function(a){return a==null?"":String(a)};goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")};
goog.string.getRandomString=function(){return Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^goog.now()).toString(36)};
goog.string.compareVersions=function(a,f){for(var e=0,g=goog.string.trim(String(a)).split("."),h=goog.string.trim(String(f)).split("."),i=Math.max(g.length,h.length),o=0;e==0&&o<i;o++){var q=g[o]||"",p=h[o]||"",z=RegExp("(\\d*)(\\D*)","g"),s=RegExp("(\\d*)(\\D*)","g");do{var t=z.exec(q)||["","",""],w=s.exec(p)||["","",""];if(t[0].length==0&&w[0].length==0)break;var e=t[1].length==0?0:parseInt(t[1],10),x=w[1].length==0?0:parseInt(w[1],10),e=goog.string.compareElements_(e,x)||goog.string.compareElements_(t[2].length==
0,w[2].length==0)||goog.string.compareElements_(t[2],w[2])}while(e==0)}return e};goog.string.compareElements_=function(a,f){if(a<f)return-1;else if(a>f)return 1;return 0};goog.string.HASHCODE_MAX_=4294967296;goog.string.hashCode=function(a){for(var f=0,e=0;e<a.length;++e)f=31*f+a.charCodeAt(e),f%=goog.string.HASHCODE_MAX_;return f};goog.string.uniqueStringCounter_=Math.random()*2147483648|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(a){var f=Number(a);return f==0&&goog.string.isEmpty(a)?NaN:f};goog.string.toCamelCaseCache_={};goog.string.toCamelCase=function(a){return goog.string.toCamelCaseCache_[a]||(goog.string.toCamelCaseCache_[a]=String(a).replace(/\-([a-z])/g,function(a,e){return e.toUpperCase()}))};goog.string.toSelectorCaseCache_={};goog.string.toSelectorCase=function(a){return goog.string.toSelectorCaseCache_[a]||(goog.string.toSelectorCaseCache_[a]=String(a).replace(/([A-Z])/g,"-$1").toLowerCase())};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(a,f){f.unshift(a);goog.debug.Error.call(this,goog.string.subs.apply(null,f));f.shift();this.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.doAssertFailure_=function(a,f,e,g){var h="Assertion failed";if(e){h+=": "+e;var i=g}else a&&(h+=": "+a,i=f);throw new goog.asserts.AssertionError(""+h,i||[]);};
goog.asserts.assert=function(a,f,e){goog.asserts.ENABLE_ASSERTS&&!a&&goog.asserts.doAssertFailure_("",null,f,Array.prototype.slice.call(arguments,2));return a};goog.asserts.fail=function(a,f){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};
goog.asserts.assertNumber=function(a,f,e){goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(a)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(a),a],f,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertString=function(a,f,e){goog.asserts.ENABLE_ASSERTS&&!goog.isString(a)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(a),a],f,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertFunction=function(a,f,e){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(a),a],f,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertObject=function(a,f,e){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(a),a],f,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertArray=function(a,f,e){goog.asserts.ENABLE_ASSERTS&&!goog.isArray(a)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(a),a],f,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertBoolean=function(a,f,e){goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(a)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(a),a],f,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertInstanceof=function(a,f,e,g){goog.asserts.ENABLE_ASSERTS&&!(a instanceof f)&&goog.asserts.doAssertFailure_("instanceof check failed.",null,e,Array.prototype.slice.call(arguments,3))};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=true;goog.array.peek=function(a){return a[a.length-1]};goog.array.ARRAY_PROTOTYPE_=Array.prototype;
goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.indexOf?function(a,f,e){goog.asserts.assert(a.length!=null);return goog.array.ARRAY_PROTOTYPE_.indexOf.call(a,f,e)}:function(a,f,e){e=e==null?0:e<0?Math.max(0,a.length+e):e;if(goog.isString(a))return!goog.isString(f)||f.length!=1?-1:a.indexOf(f,e);for(;e<a.length;e++)if(e in a&&a[e]===f)return e;return-1};
goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.lastIndexOf?function(a,f,e){goog.asserts.assert(a.length!=null);return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(a,f,e==null?a.length-1:e)}:function(a,f,e){e=e==null?a.length-1:e;e<0&&(e=Math.max(0,a.length+e));if(goog.isString(a))return!goog.isString(f)||f.length!=1?-1:a.lastIndexOf(f,e);for(;e>=0;e--)if(e in a&&a[e]===f)return e;return-1};
goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.forEach?function(a,f,e){goog.asserts.assert(a.length!=null);goog.array.ARRAY_PROTOTYPE_.forEach.call(a,f,e)}:function(a,f,e){for(var g=a.length,h=goog.isString(a)?a.split(""):a,i=0;i<g;i++)i in h&&f.call(e,h[i],i,a)};goog.array.forEachRight=function(a,f,e){var g=a.length,h=goog.isString(a)?a.split(""):a;for(g-=1;g>=0;--g)g in h&&f.call(e,h[g],g,a)};
goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.filter?function(a,f,e){goog.asserts.assert(a.length!=null);return goog.array.ARRAY_PROTOTYPE_.filter.call(a,f,e)}:function(a,f,e){for(var g=a.length,h=[],i=0,o=goog.isString(a)?a.split(""):a,q=0;q<g;q++)if(q in o){var p=o[q];f.call(e,p,q,a)&&(h[i++]=p)}return h};
goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.map?function(a,f,e){goog.asserts.assert(a.length!=null);return goog.array.ARRAY_PROTOTYPE_.map.call(a,f,e)}:function(a,f,e){for(var g=a.length,h=Array(g),i=goog.isString(a)?a.split(""):a,o=0;o<g;o++)o in i&&(h[o]=f.call(e,i[o],o,a));return h};goog.array.reduce=function(a,f,e,g){if(a.reduce)return g?a.reduce(goog.bind(f,g),e):a.reduce(f,e);var h=e;goog.array.forEach(a,function(e,o){h=f.call(g,h,e,o,a)});return h};
goog.array.reduceRight=function(a,f,e,g){if(a.reduceRight)return g?a.reduceRight(goog.bind(f,g),e):a.reduceRight(f,e);var h=e;goog.array.forEachRight(a,function(e,o){h=f.call(g,h,e,o,a)});return h};
goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.some?function(a,f,e){goog.asserts.assert(a.length!=null);return goog.array.ARRAY_PROTOTYPE_.some.call(a,f,e)}:function(a,f,e){for(var g=a.length,h=goog.isString(a)?a.split(""):a,i=0;i<g;i++)if(i in h&&f.call(e,h[i],i,a))return true;return false};
goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.every?function(a,f,e){goog.asserts.assert(a.length!=null);return goog.array.ARRAY_PROTOTYPE_.every.call(a,f,e)}:function(a,f,e){for(var g=a.length,h=goog.isString(a)?a.split(""):a,i=0;i<g;i++)if(i in h&&!f.call(e,h[i],i,a))return false;return true};goog.array.find=function(a,f,e){f=goog.array.findIndex(a,f,e);return f<0?null:goog.isString(a)?a.charAt(f):a[f]};
goog.array.findIndex=function(a,f,e){for(var g=a.length,h=goog.isString(a)?a.split(""):a,i=0;i<g;i++)if(i in h&&f.call(e,h[i],i,a))return i;return-1};goog.array.findRight=function(a,f,e){f=goog.array.findIndexRight(a,f,e);return f<0?null:goog.isString(a)?a.charAt(f):a[f]};goog.array.findIndexRight=function(a,f,e){var g=a.length,h=goog.isString(a)?a.split(""):a;for(g-=1;g>=0;g--)if(g in h&&f.call(e,h[g],g,a))return g;return-1};goog.array.contains=function(a,f){return goog.array.indexOf(a,f)>=0};
goog.array.isEmpty=function(a){return a.length==0};goog.array.clear=function(a){if(!goog.isArray(a))for(var f=a.length-1;f>=0;f--)delete a[f];a.length=0};goog.array.insert=function(a,f){goog.array.contains(a,f)||a.push(f)};goog.array.insertAt=function(a,f,e){goog.array.splice(a,e,0,f)};goog.array.insertArrayAt=function(a,f,e){goog.partial(goog.array.splice,a,e,0).apply(null,f)};
goog.array.insertBefore=function(a,f,e){var g;arguments.length==2||(g=goog.array.indexOf(a,e))<0?a.push(f):goog.array.insertAt(a,f,g)};goog.array.remove=function(a,f){var e=goog.array.indexOf(a,f),g;(g=e>=0)&&goog.array.removeAt(a,e);return g};goog.array.removeAt=function(a,f){goog.asserts.assert(a.length!=null);return goog.array.ARRAY_PROTOTYPE_.splice.call(a,f,1).length==1};goog.array.removeIf=function(a,f,e){f=goog.array.findIndex(a,f,e);return f>=0?(goog.array.removeAt(a,f),true):false};
goog.array.concat=function(a){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.clone=function(a){if(goog.isArray(a))return goog.array.concat(a);else{for(var f=[],e=0,g=a.length;e<g;e++)f[e]=a[e];return f}};goog.array.toArray=function(a){return goog.isArray(a)?goog.array.concat(a):goog.array.clone(a)};
goog.array.extend=function(a,f){for(var e=1;e<arguments.length;e++){var g=arguments[e],h;if(goog.isArray(g)||(h=goog.isArrayLike(g))&&g.hasOwnProperty("callee"))a.push.apply(a,g);else if(h)for(var i=a.length,o=g.length,q=0;q<o;q++)a[i+q]=g[q];else a.push(g)}};goog.array.splice=function(a,f,e,g){goog.asserts.assert(a.length!=null);return goog.array.ARRAY_PROTOTYPE_.splice.apply(a,goog.array.slice(arguments,1))};
goog.array.slice=function(a,f,e){goog.asserts.assert(a.length!=null);return arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(a,f):goog.array.ARRAY_PROTOTYPE_.slice.call(a,f,e)};goog.array.removeDuplicates=function(a,f){for(var e=f||a,g={},h=0,i=0;i<a.length;){var o=a[i++],q=goog.isObject(o)?"o"+goog.getUid(o):(typeof o).charAt(0)+o;Object.prototype.hasOwnProperty.call(g,q)||(g[q]=true,e[h++]=o)}e.length=h};
goog.array.binarySearch=function(a,f,e){return goog.array.binarySearch_(a,e||goog.array.defaultCompare,false,f)};goog.array.binarySelect=function(a,f,e){return goog.array.binarySearch_(a,f,true,void 0,e)};goog.array.binarySearch_=function(a,f,e,g,h){for(var i=0,o=a.length,q;i<o;){var p=i+o>>1,z;z=e?f.call(h,a[p],p,a):f(g,a[p]);z>0?i=p+1:(o=p,q=!z)}return q?i:~i};goog.array.sort=function(a,f){goog.asserts.assert(a.length!=null);goog.array.ARRAY_PROTOTYPE_.sort.call(a,f||goog.array.defaultCompare)};
goog.array.stableSort=function(a,f){for(var e=0;e<a.length;e++)a[e]={index:e,value:a[e]};var g=f||goog.array.defaultCompare;goog.array.sort(a,function(a,f){return g(a.value,f.value)||a.index-f.index});for(e=0;e<a.length;e++)a[e]=a[e].value};goog.array.sortObjectsByKey=function(a,f,e){var g=e||goog.array.defaultCompare;goog.array.sort(a,function(a,e){return g(a[f],e[f])})};
goog.array.isSorted=function(a,f,e){for(var f=f||goog.array.defaultCompare,g=1;g<a.length;g++){var h=f(a[g-1],a[g]);if(h>0||h==0&&e)return false}return true};goog.array.equals=function(a,f,e){if(!goog.isArrayLike(a)||!goog.isArrayLike(f)||a.length!=f.length)return false;for(var g=a.length,e=e||goog.array.defaultCompareEquality,h=0;h<g;h++)if(!e(a[h],f[h]))return false;return true};goog.array.compare=function(a,f,e){return goog.array.equals(a,f,e)};
goog.array.compare3=function(a,f,e){for(var e=e||goog.array.defaultCompare,g=Math.min(a.length,f.length),h=0;h<g;h++){var i=e(a[h],f[h]);if(i!=0)return i}return goog.array.defaultCompare(a.length,f.length)};goog.array.defaultCompare=function(a,f){return a>f?1:a<f?-1:0};goog.array.defaultCompareEquality=function(a,f){return a===f};goog.array.binaryInsert=function(a,f,e){e=goog.array.binarySearch(a,f,e);return e<0?(goog.array.insertAt(a,f,-(e+1)),true):false};
goog.array.binaryRemove=function(a,f,e){f=goog.array.binarySearch(a,f,e);return f>=0?goog.array.removeAt(a,f):false};goog.array.bucket=function(a,f){for(var e={},g=0;g<a.length;g++){var h=a[g],i=f(h,g,a);goog.isDef(i)&&(e[i]||(e[i]=[])).push(h)}return e};goog.array.repeat=function(a,f){for(var e=[],g=0;g<f;g++)e[g]=a;return e};goog.array.flatten=function(a){for(var f=[],e=0;e<arguments.length;e++){var g=arguments[e];goog.isArray(g)?f.push.apply(f,goog.array.flatten.apply(null,g)):f.push(g)}return f};
goog.array.rotate=function(a,f){goog.asserts.assert(a.length!=null);a.length&&(f%=a.length,f>0?goog.array.ARRAY_PROTOTYPE_.unshift.apply(a,a.splice(-f,f)):f<0&&goog.array.ARRAY_PROTOTYPE_.push.apply(a,a.splice(0,-f)));return a};goog.array.zip=function(a){if(!arguments.length)return[];for(var f=[],e=0;;e++){for(var g=[],h=0;h<arguments.length;h++){var i=arguments[h];if(e>=i.length)return f;g.push(i[e])}f.push(g)}};
goog.array.shuffle=function(a,f){for(var e=f||Math.random,g=a.length-1;g>0;g--){var h=Math.floor(e()*(g+1)),i=a[g];a[g]=a[h];a[h]=i}};glslunit.NumberShaderVariable=function(a,f){glslunit.ShaderVariable.call(this,a);this.values_=f;this.buffer_=this.bufferType_=null;this.bufferValueSize_=0};goog.inherits(glslunit.NumberShaderVariable,glslunit.ShaderVariable);glslunit.NumberShaderVariable.prototype.setBufferType=function(a){this.bufferType_=a};
glslunit.NumberShaderVariable.decomposeType_=function(a){var f=false,e;a=="float"?(e="f",a="1"):a=="int"||a=="bool"?(e="i",a="1"):(a.slice(0,3)=="mat"?(f=true,e="f"):a[0]=="i"||a[0]=="b"?(e="i",a=a.slice(1)):e="f",a=a.slice(3));return{glslType:e,size:a,isMatrix:f}};glslunit.NumberShaderVariable.prototype.getBufferType_=function(a){return this.bufferType_?this.bufferType_:a=="i"?Int32Array:Float32Array};
glslunit.NumberShaderVariable.prototype.bufferData=function(a,f,e){var g=this.getTypeName();if(g=="sampler2D")throw"Error while buffering "+this.getName()+": Expected a texture but got a numeric variable";var h=glslunit.NumberShaderVariable.decomposeType_(g),i=h.size;h.isMatrix&&(i*=i);if(this.values_.length!=i)throw"Error while buffering "+this.getName()+": Expected a variable of length "+i+" for a "+g+", but got a variable of length "+this.values_.length;g=this.getQualifierType();i=goog.array.clone(this.values_);
if(g==glslunit.ShaderVariable.QualifierType.ATTRIBUTE)for(var o=0;o<e-1;o++)[].push.apply(i,this.values_);e=new (this.getBufferType_(h.glslType))(i);g==glslunit.ShaderVariable.QualifierType.UNIFORM?(g="uniform"+(h.isMatrix?"Matrix":"")+h.size+h.glslType+"v",h.isMatrix?a[g].apply(a,[this.getLocation(a,f),false,e]):a[g].apply(a,[this.getLocation(a,f),e])):g==glslunit.ShaderVariable.QualifierType.ATTRIBUTE&&this.bufferAttribute(a,f,parseInt(h.size,10),e)};
glslunit.NumberShaderVariable.prototype.bufferAttribute=function(a,f,e,g){this.buffer_=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.buffer_);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,null);this.bufferValueSize_=e};
glslunit.NumberShaderVariable.prototype.bindData=function(a,f){if(this.buffer_&&this.bufferValueSize_){var e=this.getLocation(a,f);a.bindBuffer(a.ARRAY_BUFFER,this.buffer_);a.vertexAttribPointer(Number(e),this.bufferValueSize_,a.FLOAT,false,0,0);a.bindBuffer(a.ARRAY_BUFFER,null)}};glslunit.NumberShaderVariable.prototype.cleanUp=function(a){glslunit.NumberShaderVariable.superClass_.cleanUp.call(this,a);this.buffer_&&a.deleteBuffer(this.buffer_)};glslunit.testing={};glslunit.testing.InputValue=function(){};glslunit.testing.InputValue.prototype.getShaderVariable=function(){};goog.object={};goog.object.forEach=function(a,f,e){for(var g in a)f.call(e,a[g],g,a)};goog.object.filter=function(a,f,e){var g={},h;for(h in a)f.call(e,a[h],h,a)&&(g[h]=a[h]);return g};goog.object.map=function(a,f,e){var g={},h;for(h in a)g[h]=f.call(e,a[h],h,a);return g};goog.object.some=function(a,f,e){for(var g in a)if(f.call(e,a[g],g,a))return true;return false};goog.object.every=function(a,f,e){for(var g in a)if(!f.call(e,a[g],g,a))return false;return true};
goog.object.getCount=function(a){var f=0,e;for(e in a)f++;return f};goog.object.getAnyKey=function(a){for(var f in a)return f};goog.object.getAnyValue=function(a){for(var f in a)return a[f]};goog.object.contains=function(a,f){return goog.object.containsValue(a,f)};goog.object.getValues=function(a){var f=[],e=0,g;for(g in a)f[e++]=a[g];return f};goog.object.getKeys=function(a){var f=[],e=0,g;for(g in a)f[e++]=g;return f};
goog.object.getValueByKeys=function(a,f){for(var e=goog.isArrayLike(f),g=e?f:arguments,e=e?0:1;e<g.length;e++)if(a=a[g[e]],!goog.isDef(a))break;return a};goog.object.containsKey=function(a,f){return f in a};goog.object.containsValue=function(a,f){for(var e in a)if(a[e]==f)return true;return false};goog.object.findKey=function(a,f,e){for(var g in a)if(f.call(e,a[g],g,a))return g};goog.object.findValue=function(a,f,e){return(f=goog.object.findKey(a,f,e))&&a[f]};
goog.object.isEmpty=function(a){for(var f in a)return false;return true};goog.object.clear=function(a){for(var f in a)delete a[f]};goog.object.remove=function(a,f){var e;(e=f in a)&&delete a[f];return e};goog.object.add=function(a,f,e){if(f in a)throw Error('The object already contains the key "'+f+'"');goog.object.set(a,f,e)};goog.object.get=function(a,f,e){return f in a?a[f]:e};goog.object.set=function(a,f,e){a[f]=e};goog.object.setIfUndefined=function(a,f,e){return f in a?a[f]:a[f]=e};
goog.object.clone=function(a){var f={},e;for(e in a)f[e]=a[e];return f};goog.object.unsafeClone=function(a){var f=goog.typeOf(a);if(f=="object"||f=="array"){if(a.clone)return a.clone();var f=f=="array"?[]:{},e;for(e in a)f[e]=goog.object.unsafeClone(a[e]);return f}return a};goog.object.transpose=function(a){var f={},e;for(e in a)f[a[e]]=e;return f};goog.object.PROTOTYPE_FIELDS_="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
goog.object.extend=function(a,f){for(var e,g,h=1;h<arguments.length;h++){g=arguments[h];for(e in g)a[e]=g[e];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)e=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(g,e)&&(a[e]=g[e])}};
goog.object.create=function(a){var f=arguments.length;if(f==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(f%2)throw Error("Uneven number of arguments");for(var e={},g=0;g<f;g+=2)e[arguments[g]]=arguments[g+1];return e};goog.object.createSet=function(a){var f=arguments.length;if(f==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var e={},g=0;g<f;g++)e[arguments[g]]=true;return e};glslunit.utils={};glslunit.utils.getFunctionSuffix=function(a){return glslunit.utils.toTitleOrCamelCase(a,true)};glslunit.utils.toTitleOrCamelCase=function(a,f){var e=a.split("_").map(function(a){return a.slice(0,1).toUpperCase()+a.slice(1).toLowerCase()}).join("");f||(e=e.slice(0,1).toLowerCase()+e.slice(1));return e};glslunit.ASTVisitor=function(){};glslunit.ASTVisitor.prototype.getBeforeVisitFunction=function(a){return this["beforeVisit"+glslunit.utils.getFunctionSuffix(a.type)]};glslunit.ASTVisitor.prototype.getAfterVisitFunction=function(a){return this["afterVisit"+glslunit.utils.getFunctionSuffix(a.type)]};glslunit.ASTVisitor.prototype.getVisitFunction=function(a){return this["visit"+glslunit.utils.getFunctionSuffix(a.type)]};
glslunit.ASTVisitor.prototype.visitNode=function(a){if(a&&a.type){var f=this.getBeforeVisitFunction(a);f&&f.apply(this,[a]);(f=this.getVisitFunction(a))?f.apply(this,[a]):this.genericVisitor(a);(f=this.getAfterVisitFunction(a))&&f.apply(this,[a])}};glslunit.ASTVisitor.prototype.visitList=function(a){goog.array.forEach(a,function(a){this.visitNode(a)},this)};
glslunit.ASTVisitor.prototype.genericVisitor=function(a){for(var f in a){var e=a[f];goog.isArray(e)?this.visitList(e):goog.isObject(e)&&e.type&&this.visitNode(e)}};glslunit.ASTTransformer=function(){this.mixed_in_visitors_=[]};glslunit.ASTTransformer.nextId_=-1;glslunit.ASTTransformer.getNextId=function(){return glslunit.ASTTransformer.nextId_--};glslunit.ASTTransformer.cloneNode=function(a){a=goog.object.clone(a);a.id=glslunit.ASTTransformer.getNextId();return a};glslunit.ASTTransformer.prototype.mixinVisitor=function(a){this.mixed_in_visitors_.push(a)};glslunit.ASTTransformer.prototype.getTransformFunction=function(a){return this["transform"+glslunit.utils.getFunctionSuffix(a.type)]};
glslunit.ASTTransformer.prototype.mixinVisitFunctions_=function(a,f,e){var g=this[f+glslunit.utils.getFunctionSuffix(a.type)];return goog.bind(function(a){goog.array.forEach(this.mixed_in_visitors_,function(f){var g=e(f).apply(f,[a]);g&&g.apply(f,[a])});g&&g.apply(this,[a])},this)};glslunit.ASTTransformer.prototype.getBeforeTransformFunction=function(a){return this.mixinVisitFunctions_(a,"beforeTransform",function(a){return a.getBeforeVisitFunction})};
glslunit.ASTTransformer.prototype.getAfterTransformFunction=function(a){return this.mixinVisitFunctions_(a,"afterTransform",function(a){return a.getAfterVisitFunction})};
glslunit.ASTTransformer.prototype.transformNode=function(a){var f=false,e=this.getBeforeTransformFunction(a);e&&e.apply(this,[a]);var e=glslunit.ASTTransformer.cloneNode(a),g;for(g in a){var h=a[g];if(goog.isArray(h)){e[g]=[];for(var i=0;i<h.length;i++){var o=h[i],q=this.transformNode(o);q!=o&&(f=true);q!=null&&Array.prototype.push.apply(e[g],goog.isArray(q)?q:[q])}}else h.type&&(q=this.transformNode(h),q!=h&&(f=true,q!=null?e[g]=q:delete e[g]))}g=this.getTransformFunction(a);e=f?e:a;g&&(e=g.apply(this,
[e,a]));(f=this.getAfterTransformFunction(a))&&f.apply(this,[a,e]);return e};glslunit.FunctionRenameTransformer=function(a,f){glslunit.ASTTransformer.call(this);this.targetPrototype_=a;this.newName_=f};goog.inherits(glslunit.FunctionRenameTransformer,glslunit.ASTTransformer);glslunit.FunctionRenameTransformer.functionPrototypeEquals=function(a,f){return goog.array.equals(a.parameters,f.parameters,function(a,f){return a.type_name==f.type_name})&&a.name==f.name&&a.returnType.name==f.returnType.name?true:false};
glslunit.FunctionRenameTransformer.prototype.transformFunctionDeclaration=function(a){var f=a;if(glslunit.FunctionRenameTransformer.functionPrototypeEquals(a,this.targetPrototype_))f=glslunit.ASTTransformer.cloneNode(a),f.name=this.newName_;return f};glslunit.FunctionRenameTransformer.prototype.transformFunctionPrototype=glslunit.FunctionRenameTransformer.prototype.transformFunctionDeclaration;
glslunit.FunctionRenameTransformer.prototype.transformFunctionCall=function(a){var f=a;if(a.function_name==this.targetPrototype_.name&&a.parameters.length==this.targetPrototype_.parameters.length)f=glslunit.ASTTransformer.cloneNode(a),f.function_name=this.newName_;return f};glslunit.Generator=function(a,f){glslunit.ASTVisitor.call(this);this.newline_str_=a||"\n";this.debug_=!!f;this.sourceCode_="";this.currentIndent_=0};goog.inherits(glslunit.Generator,glslunit.ASTVisitor);glslunit.Generator.INDENT_STR_="  ";glslunit.Generator.OrderOfOperations={function_call:0,identifier:0,"float":0,"int":0,bool:0,postfix:1,unary:2,"*":3,"/":3,"%":3,"+":4,"-":4,"<<":5,">>":5,"<":6,">":6,"<=":6,">=":6,"==":7,"!=":7,"&":8,"^":9,"|":10,"&&":11,"||":12,ternary:13};
glslunit.Generator.getNodePrecedence=function(a){return a.type=="binary"?glslunit.Generator.OrderOfOperations[a.operator.operator]:glslunit.Generator.OrderOfOperations[a.type]};glslunit.Generator.getSourceCode=function(a,f,e){f=new glslunit.Generator(f,e);f.visitNode(a);return f.sourceCode_};glslunit.Generator.prototype.checkAndAdd=function(a,f,e){return f?a+f+e:""};glslunit.Generator.prototype.addNodesWithJoin_=function(a,f){for(var e=0;e<a.length;e++)e!=0&&(this.sourceCode_+=f),this.visitNode(a[e])};
glslunit.Generator.prototype.maybePrintNewline=function(){this.debug_&&(this.sourceCode_+=this.newline_str_+Array(this.currentIndent_+1).join(glslunit.Generator.INDENT_STR_))};glslunit.Generator.prototype.maybeUnindent=function(){if(this.debug_&&this.sourceCode_.slice(-1*glslunit.Generator.INDENT_STR_.length)==glslunit.Generator.INDENT_STR_)this.sourceCode_=this.sourceCode_.slice(0,-1*glslunit.Generator.INDENT_STR_.length)};
glslunit.Generator.prototype.visitStructDefinition=function(a){this.sourceCode_+=this.checkAndAdd("",a.qualifier," ");this.sourceCode_+="struct";this.sourceCode_+=this.checkAndAdd(" ",a.name,"");this.sourceCode_+="{";this.currentIndent_++;this.addNodesWithJoin_(a.members,"");this.currentIndent_--;this.maybeUnindent();this.sourceCode_+="}";a.declarators&&this.addNodesWithJoin_(a.declarators,",");this.sourceCode_+=";";this.maybePrintNewline()};
glslunit.Generator.prototype.visitScope=function(a){this.sourceCode_+="{";this.currentIndent_++;this.maybePrintNewline();this.addNodesWithJoin_(a.statements,"");this.currentIndent_--;this.maybeUnindent();this.sourceCode_+="}";this.maybePrintNewline()};glslunit.Generator.prototype.visitPrecision=function(a){this.sourceCode_+="precision "+a.precision+" "+a.typeName+";";this.maybePrintNewline()};
glslunit.Generator.prototype.visitInvariant=function(a){this.sourceCode_+="invariant ";this.addNodesWithJoin_(a.identifiers,",");this.sourceCode_+=";";this.maybePrintNewline()};
glslunit.Generator.prototype.visitParameter=function(a){this.sourceCode_+=this.checkAndAdd("",a.typeQualifier," ");this.sourceCode_+=this.checkAndAdd("",a.parameterQualifier," ");this.sourceCode_+=this.checkAndAdd("",a.precision," ");this.sourceCode_+=a.type_name+" "+a.name;a.arraySize&&(this.sourceCode_+="[",this.visitNode(a.arraySize),this.sourceCode_+="]")};
glslunit.Generator.prototype.generateFunctionPrototype_=function(a){this.visitNode(a.returnType);this.sourceCode_+=" "+a.name+"(";this.addNodesWithJoin_(a.parameters,",");this.sourceCode_+=")"};glslunit.Generator.prototype.visitFunctionPrototype=function(a){this.generateFunctionPrototype_(a);this.sourceCode_+=";";this.maybePrintNewline()};glslunit.Generator.prototype.visitFunctionDeclaration=function(a){this.generateFunctionPrototype_(a);this.visitNode(a.body)};
glslunit.Generator.prototype.visitPreprocessor=function(a){var f=this.sourceCode_.slice(-1*this.newline_str_.length);f&&f!=this.newline_str_&&(this.sourceCode_+=this.newline_str_);this.sourceCode_+=a.directive;this.sourceCode_+=this.checkAndAdd(" ",a.value,"");this.sourceCode_+=this.newline_str_;a.guarded_statements&&(this.addNodesWithJoin_(a.guarded_statements,""),a.elseBody&&this.visitNode(a.elseBody),a.directive.slice(0,3)=="#if"&&(f=this.sourceCode_.slice(-1*this.newline_str_.length),f!=this.newline_str_&&
(this.sourceCode_+=this.newline_str_),this.sourceCode_+="#endif"+this.newline_str_))};glslunit.Generator.prototype.generateWhile_=function(a){this.sourceCode_+="while(";this.visitNode(a.condition);this.sourceCode_+=")"};glslunit.Generator.prototype.visitDoStatement=function(a){this.sourceCode_+="do ";this.visitNode(a.body);this.generateWhile_(a)};glslunit.Generator.prototype.visitWhileStatement=function(a){this.generateWhile_(a);this.visitNode(a.body)};
glslunit.Generator.prototype.visitForStatement=function(a){this.sourceCode_+="for(";this.visitNode(a.initializer);this.visitNode(a.condition);this.sourceCode_+=";";this.visitNode(a.increment);this.sourceCode_+=")";this.visitNode(a.body)};glslunit.Generator.prototype.visitIfStatement=function(a){this.sourceCode_+="if(";this.visitNode(a.condition);this.sourceCode_+=")";this.visitNode(a.body);a.elseBody&&(this.sourceCode_+="else ",this.visitNode(a.elseBody))};
glslunit.Generator.prototype.visitDeclaratorItem=function(a){this.visitNode(a.name);a.isArray&&(this.sourceCode_+="[",a.arraySize&&this.visitNode(a.arraySize),this.sourceCode_+="]");a.initializer&&(this.sourceCode_+="=",this.visitNode(a.initializer))};glslunit.Generator.prototype.visitDeclarator=function(a){this.visitNode(a.typeAttribute);this.sourceCode_+=" ";this.addNodesWithJoin_(a.declarators,",");this.sourceCode_+=";";this.maybePrintNewline()};
glslunit.Generator.prototype.visitType=function(a){this.sourceCode_+=this.checkAndAdd("",a.qualifier," ");this.sourceCode_+=this.checkAndAdd("",a.precision," ");this.sourceCode_+=a.name};glslunit.Generator.prototype.visitExpression=function(a){this.visitNode(a.expression);this.sourceCode_+=";";this.maybePrintNewline()};glslunit.Generator.prototype.visitJump=function(a){this.sourceCode_+=a.type;a.value&&(this.sourceCode_+=" ",this.visitNode(a.value));this.sourceCode_+=";";this.maybePrintNewline()};
glslunit.Generator.prototype.visitReturn=glslunit.Generator.prototype.visitJump;glslunit.Generator.prototype.visitBreak=glslunit.Generator.prototype.visitJump;glslunit.Generator.prototype.visitDiscard=glslunit.Generator.prototype.visitJump;glslunit.Generator.prototype.visitContinue=glslunit.Generator.prototype.visitJump;
glslunit.Generator.prototype.visitUnary=function(a){var f=glslunit.Generator.getNodePrecedence(a);this.sourceCode_.slice(-1)==a.operator.operator&&(this.sourceCode_+=" ");this.visitNode(a.operator);this.maybeParenthiseNode_(a.expression,f)};glslunit.Generator.prototype.visitPostfix=function(a){var f=glslunit.Generator.getNodePrecedence(a);this.maybeParenthiseNode_(a.expression,f);this.visitNode(a.operator)};glslunit.Generator.prototype.visitOperator=function(a){this.sourceCode_+=a.operator};
glslunit.Generator.prototype.visitFieldSelector=function(a){this.sourceCode_+="."+a.selection};glslunit.Generator.prototype.visitAccessor=function(a){this.sourceCode_+="[";this.visitNode(a.index);this.sourceCode_+="]"};glslunit.Generator.prototype.visitFunctionCall=function(a){this.sourceCode_+=a.function_name+"(";this.addNodesWithJoin_(a.parameters,",");this.sourceCode_+=")"};glslunit.Generator.prototype.visitIdentifier=function(a){this.sourceCode_+=a.name};
glslunit.Generator.formatFloat=function(a){if(a==0)return"0.";a=(""+a).toLowerCase().replace("+","");a.indexOf(".")==-1&&a.indexOf("e")==-1&&(a+=".");return a.replace(/^0*|0*$/g,"")};glslunit.Generator.prototype.visitFloat=function(a){this.sourceCode_+=glslunit.Generator.formatFloat(a.value)};glslunit.Generator.prototype.visitValue=function(a){this.sourceCode_+=a.value};glslunit.Generator.prototype.visitInt=glslunit.Generator.prototype.visitValue;glslunit.Generator.prototype.visitBool=glslunit.Generator.prototype.visitValue;
glslunit.Generator.prototype.visitBinary=function(a){var f=glslunit.Generator.getNodePrecedence(a);this.maybeParenthiseNode_(a.left,f);this.visitNode(a.operator);this.maybeParenthiseNode_(a.right,f)};glslunit.Generator.prototype.visitTernary=function(a){var f=glslunit.Generator.getNodePrecedence(a);this.maybeParenthiseNode_(a.condition,f);this.sourceCode_+="?";this.maybeParenthiseNode_(a.is_true,f);this.sourceCode_+=":";this.maybeParenthiseNode_(a.is_false,f)};
glslunit.Generator.prototype.maybeParenthiseNode_=function(a,f){var e=glslunit.Generator.getNodePrecedence(a);e>f&&(this.sourceCode_+="(");this.visitNode(a);e>f&&(this.sourceCode_+=")")};glslunit.glsl={};
glslunit.glsl.parser=function(){var a={parse:function(a,e){function g(a){var b=a.charCodeAt(0);if(b<=255)var a="x",d=2;else a="u",d=4;var a="\\"+a,f=b.toString(16).toUpperCase(),b=f;d-=f.length;for(f=0;f<d;f++)b="0"+b;return a+b}function h(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,g)+'"'}function i(a){b<O||(b>O&&(O=b,va=[]),va.push(a))}function o(){var e="newLine@"+b,c=n[e];if(c)return b=c.nextPos,c.result;a.substr(b).match(/^[\n]/)!==
null?(c=a.charAt(b),b++):(c=null,k&&i("[\\n]"));c=c!==null?"\n":null;n[e]={nextPos:b,result:c};return c}function q(){var e="EOF@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=k;k=false;if(a.length>b){var m=a.charAt(b);b++}else m=null,k&&i("any character");k=d;m===null?d="":(d=null,b=c);n[e]={nextPos:b,result:d};return d}function p(){var e="_@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=k;k=false;var d=o();d===null&&(a.substr(b).match(/^[\r\t\u000c\u000b ]/)!==null?(d=a.charAt(b),b++):(d=null,
k&&i("[\\r\t\u000c\u000b ]")),d===null&&(d=z(),d=d!==null?d:null));if(d!==null)for(var m=[];d!==null;)m.push(d),d=o(),d===null&&(a.substr(b).match(/^[\r\t\u000c\u000b ]/)!==null?(d=a.charAt(b),b++):(d=null,k&&i("[\\r\t\u000c\u000b ]")),d===null&&(d=z(),d=d!==null?d:null));else m=null;(k=c)&&m===null&&i("whitespace");n[e]={nextPos:b,result:m};return m}function z(){var e="comment@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=k;k=false;var d=b;if(a.substr(b,2)==="/*"){var m="/*";b+=2}else m=null,k&&
i('"/*"');if(m!==null){var l=[],j=b,g=b,h=k;k=false;if(a.substr(b,2)==="*/"){var u="*/";b+=2}else u=null,k&&i('"*/"');k=h;u===null?h="":(h=null,b=g);h!==null?(a.length>b?(g=a.charAt(b),b++):(g=null,k&&i("any character")),g!==null?g=[h,g]:(g=null,b=j)):(g=null,b=j);for(;g!==null;)l.push(g),g=j=b,h=k,k=false,a.substr(b,2)==="*/"?(u="*/",b+=2):(u=null,k&&i('"*/"')),k=h,u===null?h="":(h=null,b=g),h!==null?(a.length>b?(g=a.charAt(b),b++):(g=null,k&&i("any character")),g!==null?g=[h,g]:(g=null,b=j)):(g=
null,b=j);l!==null?(a.substr(b,2)==="*/"?(j="*/",b+=2):(j=null,k&&i('"*/"')),j!==null?m=[m,l,j]:(m=null,b=d)):(m=null,b=d)}else m=null,b=d;if(m!==null)d=m;else{d=b;a.substr(b,2)==="//"?(m="//",b+=2):(m=null,k&&i('"//"'));if(m!==null){l=[];a.substr(b).match(/^[^\n]/)!==null?(j=a.charAt(b),b++):(j=null,k&&i("[^\\n]"));for(;j!==null;)l.push(j),a.substr(b).match(/^[^\n]/)!==null?(j=a.charAt(b),b++):(j=null,k&&i("[^\\n]"));l!==null?(j=o(),j===null&&(j=q(),j=j!==null?j:null),j!==null?m=[m,l,j]:(m=null,
b=d)):(m=null,b=d)}else m=null,b=d;d=m!==null?m:null}(k=c)&&d===null&&i("comment");n[e]={nextPos:b,result:d};return d}function s(){var e="semicolon@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=p(),d=d!==null?d:"";if(d!==null){if(a.substr(b,1)===";"){var m=";";b+=1}else m=null,k&&i('";"');if(m!==null){var l=p(),l=l!==null?l:"";l!==null?d=[d,m,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;n[e]={nextPos:b,result:d};return d}function t(){var e="comma@"+b,c=n[e];if(c)return b=c.nextPos,c.result;
var c=b,d=p(),d=d!==null?d:"";if(d!==null){if(a.substr(b,1)===","){var m=",";b+=1}else m=null,k&&i('","');if(m!==null){var l=p(),l=l!==null?l:"";l!==null?d=[d,m,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;n[e]={nextPos:b,result:d};return d}function w(){var e="left_bracket@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=p(),d=d!==null?d:"";if(d!==null){if(a.substr(b,1)==="["){var m="[";b+=1}else m=null,k&&i('"["');if(m!==null){var l=p(),l=l!==null?l:"";l!==null?d=[d,m,l]:(d=null,b=c)}else d=
null,b=c}else d=null,b=c;n[e]={nextPos:b,result:d};return d}function x(){var e="right_bracket@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=p(),d=d!==null?d:"";if(d!==null){if(a.substr(b,1)==="]"){var m="]";b+=1}else m=null,k&&i('"]"');if(m!==null){var l=p(),l=l!==null?l:"";l!==null?d=[d,m,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;n[e]={nextPos:b,result:d};return d}function J(){var e="equals@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=p(),d=d!==null?d:"";if(d!==null){if(a.substr(b,
1)==="="){var m="=";b+=1}else m=null,k&&i('"="');if(m!==null){var l=p(),l=l!==null?l:"";l!==null?d=[d,m,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;n[e]={nextPos:b,result:d};return d}function E(){var e="left_paren@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=p(),d=d!==null?d:"";if(d!==null){if(a.substr(b,1)==="("){var m="(";b+=1}else m=null,k&&i('"("');if(m!==null){var l=p(),l=l!==null?l:"";l!==null?d=[d,m,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;n[e]={nextPos:b,result:d};return d}
function C(){var e="right_paren@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=p(),d=d!==null?d:"";if(d!==null){if(a.substr(b,1)===")"){var m=")";b+=1}else m=null,k&&i('")"');if(m!==null){var l=p(),l=l!==null?l:"";l!==null?d=[d,m,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;n[e]={nextPos:b,result:d};return d}function I(){var e="left_brace@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=p(),d=d!==null?d:"";if(d!==null){if(a.substr(b,1)==="{"){var m="{";b+=1}else m=null,k&&i('"{"');
if(m!==null){var l=p(),l=l!==null?l:"";l!==null?d=[d,m,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;n[e]={nextPos:b,result:d};return d}function F(){var e="right_brace@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=p(),d=d!==null?d:"";if(d!==null){if(a.substr(b,1)==="}"){var m="}";b+=1}else m=null,k&&i('"}"');if(m!==null){var l=p(),l=l!==null?l:"";l!==null?d=[d,m,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;n[e]={nextPos:b,result:d};return d}function v(){var a="external_statement_list@"+
b,c=n[a];if(c)return b=c.nextPos,c.result;for(var c=[],d=D();d!==null;)c.push(d),d=D();if(c!==null){for(var d=new r({type:"root",statements:[]}),f=0;f<c.length;f++)if(c[f])d.statements=d.statements.concat(c[f]);c=d}else c=null;n[a]={nextPos:b,result:c};return c}function D(){var a="external_statement@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=Ua();c===null&&(c=G(),c=c!==null?c:null);c=c!==null?c:null;c===null&&(c=p()!==null?"":null,c=c!==null?c:null);n[a]={nextPos:b,result:c};return c}function G(){var a=
"external_declaration@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=Va();c===null&&(c=Wa(),c===null&&(c=ra(),c===null&&(c=Xa(),c=c!==null?c:null)));n[a]={nextPos:b,result:c};return c}function ra(){var e="preprocessor_operator@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,1)==="#"){var d="#";b+=1}else d=null,k&&i('"#"');if(d!==null){if(a.substr(b,6)==="define"){var m="define";b+=6}else m=null,k&&i('"define"');m===null&&(a.substr(b,5)==="undef"?(m="undef",b+=5):(m=null,k&&i('"undef"')),
m===null&&(a.substr(b,6)==="pragma"?(m="pragma",b+=6):(m=null,k&&i('"pragma"')),m===null&&(a.substr(b,7)==="version"?(m="version",b+=7):(m=null,k&&i('"version"')),m===null&&(a.substr(b,5)==="error"?(m="error",b+=5):(m=null,k&&i('"error"')),m===null&&(a.substr(b,9)==="extension"?(m="extension",b+=9):(m=null,k&&i('"extension"')),m===null&&(a.substr(b,4)==="line"?(m="line",b+=4):(m=null,k&&i('"line"')),m=m!==null?m:null))))));if(m!==null){var l=p();if(l!==null){var j=[];if(a.substr(b).match(/^[^\n]/)!==
null){var g=a.charAt(b);b++}else g=null,k&&i("[^\\n]");for(;g!==null;)j.push(g),a.substr(b).match(/^[^\n]/)!==null?(g=a.charAt(b),b++):(g=null,k&&i("[^\\n]"));j=j!==null?j.join(""):null;j!==null?(g=o(),g===null&&(g=q(),g=g!==null?g:null),g!==null?d=[d,m,l,j,g]:(d=null,b=c)):(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c;c=d!==null?new r({type:"preprocessor",directive:"#"+d[1],value:d[3]}):null;n[e]={nextPos:b,result:c};return c}function sa(){var e="preprocessor_if@"+b,c=n[e];if(c)return b=
c.nextPos,c.result;c=b;if(a.substr(b,1)==="#"){var d="#";b+=1}else d=null,k&&i('"#"');if(d!==null){if(a.substr(b,5)==="ifdef"){var m="ifdef";b+=5}else m=null,k&&i('"ifdef"');m===null&&(a.substr(b,6)==="ifndef"?(m="ifndef",b+=6):(m=null,k&&i('"ifndef"')),m===null&&(a.substr(b,2)==="if"?(m="if",b+=2):(m=null,k&&i('"if"')),m=m!==null?m:null));if(m!==null){var l=p();if(l!==null){var j=[];if(a.substr(b).match(/^[^\n]/)!==null){var g=a.charAt(b);b++}else g=null,k&&i("[^\\n]");for(;g!==null;)j.push(g),a.substr(b).match(/^[^\n]/)!==
null?(g=a.charAt(b),b++):(g=null,k&&i("[^\\n]"));j=j!==null?j.join(""):null;j!==null?(g=o(),g===null&&(g=q(),g=g!==null?g:null),g!==null?d=[d,m,l,j,g]:(d=null,b=c)):(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c;c=d!==null?new r({type:"preprocessor",directive:"#"+d[1],value:d[3]}):null;n[e]={nextPos:b,result:c};return c}function N(){var e="preprocessor_else_if@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,5)==="#elif"){var d="#elif";b+=5}else d=null,k&&i('"#elif"');if(d!==
null){var m=p();if(m!==null){var l=[];if(a.substr(b).match(/^[^\n]/)!==null){var j=a.charAt(b);b++}else j=null,k&&i("[^\\n]");for(;j!==null;)l.push(j),a.substr(b).match(/^[^\n]/)!==null?(j=a.charAt(b),b++):(j=null,k&&i("[^\\n]"));l=l!==null?l.join(""):null;l!==null?(j=o(),j===null&&(j=q(),j=j!==null?j:null),j!==null?d=[d,m,l,j]:(d=null,b=c)):(d=null,b=c)}else d=null,b=c}else d=null,b=c;c=d!==null?new r({type:"preprocessor",directive:"#elif",value:d[2]}):null;n[e]={nextPos:b,result:c};return c}function ta(){var e=
"preprocessor_else@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,5)==="#else"){var d="#else";b+=5}else d=null,k&&i('"#else"');if(d!==null){var m=o();m!==null?d=[d,m]:(d=null,b=c)}else d=null,b=c;c=d!==null?new r({type:"preprocessor",directive:"#else"}):null;n[e]={nextPos:b,result:c};return c}function ua(){var e="preprocessor_end@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,6)==="#endif"){var d="#endif";b+=6}else d=null,k&&i('"#endif"');if(d!==null){var m=o();m===null&&
(m=q(),m=m!==null?m:null);if(m!==null){var l=p(),l=l!==null?l:"";l!==null?d=[d,m,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;n[e]={nextPos:b,result:d};return d}function Ua(){var a="preprocessor_external_branch@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var d=c=b,f=sa();if(f!==null){var e=v();e!==null?f=[f,e]:(f=null,b=d)}else f=null,b=d;if(f!==null){var d=[],e=b,j=N();if(j!==null){var g=v();g!==null?j=[j,g]:(j=null,b=e)}else j=null,b=e;for(;j!==null;)d.push(j),e=b,j=N(),j!==null?(g=v(),g!==null?
j=[j,g]:(j=null,b=e)):(j=null,b=e);d!==null?(e=b,j=ta(),j!==null?(g=v(),g!==null?j=[j,g]:(j=null,b=e)):(j=null,b=e),e=j!==null?j:"",e!==null?(j=ua(),j!==null?f=[f,d,e,j]:(f=null,b=c)):(f=null,b=c)):(f=null,b=c)}else f=null,b=c;c=f!==null?Ya(f[0],f[1],f[2]):null;n[a]={nextPos:b,result:c};return c}function wa(){var a="preprocessor_statement_branch@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var d=c=b,f=sa();if(f!==null){var e=L();e!==null?f=[f,e]:(f=null,b=d)}else f=null,b=d;if(f!==null){var d=[],e=
b,j=N();if(j!==null){var g=L();g!==null?j=[j,g]:(j=null,b=e)}else j=null,b=e;for(;j!==null;)d.push(j),e=b,j=N(),j!==null?(g=L(),g!==null?j=[j,g]:(j=null,b=e)):(j=null,b=e);d!==null?(e=b,j=ta(),j!==null?(g=L(),g!==null?j=[j,g]:(j=null,b=e)):(j=null,b=e),e=j!==null?j:"",e!==null?(j=ua(),j!==null?f=[f,d,e,j]:(f=null,b=c)):(f=null,b=c)):(f=null,b=c)}else f=null,b=c;c=f!==null?Ya(f[0],f[1],f[2]):null;n[a]={nextPos:b,result:c};return c}function Va(){var j;var a="function_definition@"+b,c=n[a];if(c)return b=
c.nextPos,c.result;var c=b,d=xa();if(d!==null){var f=Z();f!==null?d=[d,f]:(d=null,b=c)}else d=null,b=c;d!==null?(c=d[0],j=y=new r({type:"function_declaration",name:c.name,returnType:c.returnType,parameters:c.parameters,body:d[1]}),c=j):c=null;n[a]={nextPos:b,result:c};return c}function Z(){var a="compound_statement@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=I();if(d!==null){var f=L(),f=f!==null?f:"";if(f!==null){var e=F();e!==null?d=[d,f,e]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;
if(d!==null){c=d[1];y=new r({type:"scope",statements:[]});if(c&&c.statements)y.statements=c.statements;c=y}else c=null;n[a]={nextPos:b,result:c};return c}function L(){var a="statement_list@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=p(),d=d!==null?d:"";if(d!==null){for(var f=[],e=P();e!==null;)f.push(e),e=P();f!==null?(e=p(),e=e!==null?e:"",e!==null?d=[d,f,e]:(d=null,b=c)):(d=null,b=c)}else d=null,b=c;c=d!==null?{statements:d[1]}:null;n[a]={nextPos:b,result:c};return c}function P(){var a=
"statement_no_new_scope@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=Z();c===null&&(c=ya(),c===null&&(c=wa(),c=c!==null?c:null));n[a]={nextPos:b,result:c};return c}function $(){var a="statement_with_scope@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=Z();c===null&&(c=ya(),c===null&&(c=wa(),c=c!==null?c:null));n[a]={nextPos:b,result:c};return c}function ya(){var a="simple_statement@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=aa();c===null&&(c=za(),c===null&&(c=Za(),c===null&&(c=$a(),c===null&&(c=
ab(),c===null&&(c=ra(),c=c!==null?c:null)))));c=c!==null?c:null;n[a]={nextPos:b,result:c};return c}function Za(){var e="selection_statement@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,2)==="if"){var d="if";b+=2}else d=null,k&&i('"if"');if(d!==null){var m=E();if(m!==null){var l=B();if(l!==null){var j=C();if(j!==null){var g=$();if(g!==null){var h=b;if(a.substr(b,4)==="else"){var u="else";b+=4}else u=null,k&&i('"else"');if(u!==null){var o=p(),o=o!==null?o:"";if(o!==null){var q=$();
q!==null?u=[u,o,q]:(u=null,b=h)}else u=null,b=h}else u=null,b=h;h=u!==null?u:"";h!==null?d=[d,m,l,j,g,h]:(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c}else d=null,b=c}else d=null,b=c;if(d!==null){c=d[5];y=new r({type:"if_statement",condition:d[2],body:d[4]});if(c)y.elseBody=c[2];c=y}else c=null;n[e]={nextPos:b,result:c};return c}function bb(){var e="for_loop@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,3)==="for"){var d="for";b+=3}else d=null,k&&i('"for"');if(d!==null){var m=
E();if(m!==null){var l=za();l===null&&(l=aa(),l=l!==null?l:null);if(l!==null){var j=Aa(),j=j!==null?j:"";if(j!==null){var g=s();if(g!==null){var h=B(),h=h!==null?h:"";if(h!==null){var u=C();if(u!==null){var p=P();p!==null?d=[d,m,l,j,g,h,u,p]:(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c}else d=null,b=c}else d=null,b=c}else d=null,b=c}else d=null,b=c;c=d!==null?new r({type:"for_statement",initializer:d[2],condition:d[3],increment:d[5],body:d[7]}):null;n[e]={nextPos:b,result:c};return c}
function Ba(){var e="while_statement@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,5)==="while"){var d="while";b+=5}else d=null,k&&i('"while"');if(d!==null){var m=E();if(m!==null){var l=Aa();if(l!==null){var j=C();j!==null?d=[d,m,l,j]:(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c;c=d!==null?{condition:d[2]}:null;n[e]={nextPos:b,result:c};return c}function cb(){var a="while_loop@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=Ba();if(d!==null){var f=P();f!==null?
d=[d,f]:(d=null,b=c)}else d=null,b=c;c=d!==null?new r({type:"while_statement",condition:d[0].condition,body:d[1]}):null;n[a]={nextPos:b,result:c};return c}function db(){var e="do_while@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,2)==="do"){var d="do";b+=2}else d=null,k&&i('"do"');if(d!==null){var m=$();if(m!==null){var l=Ba();l!==null?d=[d,m,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;c=d!==null?new r({type:"do_statement",condition:d[2].condition,body:d[1]}):null;n[e]={nextPos:b,
result:c};return c}function $a(){var a="iteration_statement@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=cb();c===null&&(c=db(),c===null&&(c=bb(),c=c!==null?c:null));n[a]={nextPos:b,result:c};return c}function ab(){var e="jump_statement@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,6)==="return"){var d="return";b+=6}else d=null,k&&i('"return"');if(d!==null){var m=B();if(m!==null){var l=s();l!==null?d=[d,m,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;c=d!==null?new r({type:"return",
value:d[1]}):null;c===null&&(c=b,a.substr(b,8)==="continue"?(d="continue",b+=8):(d=null,k&&i('"continue"')),d!==null?(m=s(),m!==null?d=[d,m]:(d=null,b=c)):(d=null,b=c),d!==null?c=d:(c=b,a.substr(b,5)==="break"?(d="break",b+=5):(d=null,k&&i('"break"')),d!==null?(m=s(),m!==null?d=[d,m]:(d=null,b=c)):(d=null,b=c),d!==null?c=d:(c=b,a.substr(b,6)==="return"?(d="return",b+=6):(d=null,k&&i('"return"')),d!==null?(m=s(),m!==null?d=[d,m]:(d=null,b=c)):(d=null,b=c),d!==null?c=d:(d=c=b,m=Q=="fs"?"":null,m!==
null?(a.substr(b,7)==="discard"?(l="discard",b+=7):(l=null,k&&i('"discard"')),l!==null?m=[m,l]:(m=null,b=d)):(m=null,b=d),d=m!==null?"discard":null,d!==null?(m=s(),m!==null?d=[d,m]:(d=null,b=c)):(d=null,b=c),c=d!==null?d:null))),c=c!==null?new r({type:c[0]}):null,c=c!==null?c:null);n[e]={nextPos:b,result:c};return c}function za(){var a="expression_statement@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=B(),d=d!==null?d:"";if(d!==null){var f=s();f!==null?d=[d,f]:(d=null,b=c)}else d=null,b=
c;c=d!==null?new r({type:"expression",expression:d[0]}):null;n[a]={nextPos:b,result:c};return c}function aa(){var e="declaration@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=k;k=false;var d=b,m=xa();if(m!==null){var l=s();l!==null?m=[m,l]:(m=null,b=d)}else m=null,b=d;d=m!==null?m[0]:null;if(d===null){d=b;m=R();if(m!==null)if(l=p(),l!==null){var j=Ca();if(j!==null){var g=s();g!==null?m=[m,l,j,g]:(m=null,b=d)}else m=null,b=d}else m=null,b=d;else m=null,b=d;d=m!==null?new r({type:"declarator",typeAttribute:m[0],
declarators:m[2]}):null;if(d===null){d=b;m=Q=="vs"?"":null;if(m!==null)if(a.substr(b,9)==="invariant"?(l="invariant",b+=9):(l=null,k&&i('"invariant"')),l!==null)if(j=p(),j!==null)if(g=A(),g!==null){var h=[],u=b,o=t();if(o!==null){var q=A();q!==null?o=[o,q]:(o=null,b=u)}else o=null,b=u;for(;o!==null;)h.push(o),u=b,o=t(),o!==null?(q=A(),q!==null?o=[o,q]:(o=null,b=u)):(o=null,b=u);h!==null?(u=s(),u!==null?m=[m,l,j,g,h,u]:(m=null,b=d)):(m=null,b=d)}else m=null,b=d;else m=null,b=d;else m=null,b=d;else m=
null,b=d;d=m!==null?function(a,b){var c=[a].concat(b.map(function(a){return a[1]}));return new r({type:"invariant",identifiers:c})}(m[3],m[4]):null;d===null&&(d=b,a.substr(b,9)==="precision"?(m="precision",b+=9):(m=null,k&&i('"precision"')),m!==null?(l=p(),l!==null?(j=ba(),j!==null?(g=p(),g!==null?(h=S(),h!==null?(u=s(),u!==null?m=[m,l,j,g,h,u]:(m=null,b=d)):(m=null,b=d)):(m=null,b=d)):(m=null,b=d)):(m=null,b=d)):(m=null,b=d),d=m!==null?new r({type:"precision",precision:m[2],typeName:m[4]}):null,
d=d!==null?d:null)}}(k=c)&&d===null&&i("declaration");n[e]={nextPos:b,result:d};return d}function Wa(){var a="global_declaration@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=aa();if(c===null){var c=b,d=eb();if(d!==null){var f=p();if(f!==null){var e=Ca();if(e!==null){var j=s();j!==null?d=[d,f,e,j]:(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c;c=d!==null?new r({type:"declarator",typeAttribute:d[0],declarators:d[2]}):null;c===null&&(c=b,d=fb(),d!==null?(f=p(),f!==null?(e=gb(),e!==null?
(j=s(),j!==null?d=[d,f,e,j]:(d=null,b=c)):(d=null,b=c)):(d=null,b=c)):(d=null,b=c),c=d!==null?new r({type:"declarator",typeAttribute:d[0],declarators:d[2]}):null,c=c!==null?c:null)}n[a]={nextPos:b,result:c};return c}function hb(){var e="function_prototype_parameter_list@"+b,c=n[e];if(c)return b=c.nextPos,c.result;a.substr(b,4)==="void"?(c="void",b+=4):(c=null,k&&i('"void"'));if(c===null){var c=b,d=ca();if(d!==null){var m=[],l=b,j=t();if(j!==null){var g=ca();g!==null?j=[j,g]:(j=null,b=l)}else j=null,
b=l;for(;j!==null;)m.push(j),l=b,j=t(),j!==null?(g=ca(),g!==null?j=[j,g]:(j=null,b=l)):(j=null,b=l);m!==null?d=[d,m]:(d=null,b=c)}else d=null,b=c;c=d!==null?function(a,b){return[a].concat(b.map(function(a){return a[1]}))}(d[0],d[1]):null;c=c!==null?c:null}n[e]={nextPos:b,result:c};return c}function xa(){var a="function_prototype@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=ib();d===null&&(d=T(),d=d!==null?d:null);if(d!==null){var f=p();if(f!==null){var e=A();if(e!==null){var j=E();if(j!==
null){var g=hb(),g=g!==null?g:"";if(g!==null){var i=C();i!==null?d=[d,f,e,j,g,i]:(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c}else d=null,b=c}else d=null,b=c;if(d!==null){c=d[4];y=new r({type:"function_prototype",name:d[2].name,returnType:d[0],parameters:c});if(c=="void"||!c)y.parameters=[];c=y}else c=null;n[a]={nextPos:b,result:c};return c}function jb(){var e="parameter_qualifier@"+b,c=n[e];if(c)return b=c.nextPos,c.result;a.substr(b,5)==="inout"?(c="inout",b+=5):(c=null,k&&i('"inout"'));
c===null&&(a.substr(b,2)==="in"?(c="in",b+=2):(c=null,k&&i('"in"')),c===null&&(a.substr(b,3)==="out"?(c="out",b+=3):(c=null,k&&i('"out"')),c=c!==null?c:null));n[e]={nextPos:b,result:c};return c}function ca(){var a="parameter_declaration@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var d=c=b,f=da();if(f!==null){var e=p();e!==null?f=[f,e]:(f=null,b=d)}else f=null,b=d;d=f!==null?f:"";if(d!==null){f=b;e=jb();if(e!==null){var j=p();j!==null?e=[e,j]:(e=null,b=f)}else e=null,b=f;f=e!==null?e:"";if(f!==null){e=
b;j=ba();if(j!==null){var g=p();g!==null?j=[j,g]:(j=null,b=e)}else j=null,b=e;e=j!==null?j:"";if(e!==null)if(j=S(),j!==null)if(g=p(),g!==null){var i=A();if(i!==null){var k=b,h=w();if(h!==null){var o=M();if(o!==null){var q=x();q!==null?h=[h,o,q]:(h=null,b=k)}else h=null,b=k}else h=null,b=k;k=h!==null?h:"";k!==null?d=[d,f,e,j,g,i,k]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;else d=null,b=c;else d=null,b=c}else d=null,b=c}else d=null,b=c;if(d!==null){c=d[0];f=d[1];e=d[2];j=d[6];d=new r({type:"parameter",
type_name:d[3],name:d[5].name});if(c)d.typeQualifier=c[0];if(f)d.parameterQualifier=f[0];if(e)d.precision=e[0];if(j)d.arraySize=j[1];c=d.typeQualifier&&d.parameterQualifier&&d.parameterQualifier!="in"?null:d}else c=null;n[a]={nextPos:b,result:c};return c}function Ca(){var a="init_declarator_list@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=ea();if(d!==null){var f=[],e=b,j=t();if(j!==null){var g=ea();g!==null?j=[j,g]:(j=null,b=e)}else j=null,b=e;for(;j!==null;)f.push(j),e=b,j=t(),j!==null?
(g=ea(),g!==null?j=[j,g]:(j=null,b=e)):(j=null,b=e);f!==null?d=[d,f]:(d=null,b=c)}else d=null,b=c;c=d!==null?function(a,b){return[a].concat(b.map(function(a){return a[1]}))}(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function kb(){var a="declarator_list@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=U();if(d!==null){var f=[],e=b,j=t();if(j!==null){var g=U();g!==null?j=[j,g]:(j=null,b=e)}else j=null,b=e;for(;j!==null;)f.push(j),e=b,j=t(),j!==null?(g=U(),g!==null?j=[j,g]:(j=null,b=e)):
(j=null,b=e);f!==null?d=[d,f]:(d=null,b=c)}else d=null,b=c;c=d!==null?function(a,b){return[a].concat(b.map(function(a){return a[1]}))}(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function gb(){var a="declarator_list_no_array@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=V();if(d!==null){var f=[],e=b,j=t();if(j!==null){var g=V();g!==null?j=[j,g]:(j=null,b=e)}else j=null,b=e;for(;j!==null;)f.push(j),e=b,j=t(),j!==null?(g=V(),g!==null?j=[j,g]:(j=null,b=e)):(j=null,b=e);f!==null?d=[d,f]:
(d=null,b=c)}else d=null,b=c;c=d!==null?function(a,b){return[a].concat(b.map(function(a){return a[1]}))}(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function Da(){var a="declarator_list_arrays_have_size@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=W();if(d!==null){var f=[],e=b,j=t();if(j!==null){var g=W();g!==null?j=[j,g]:(j=null,b=e)}else j=null,b=e;for(;j!==null;)f.push(j),e=b,j=t(),j!==null?(g=W(),g!==null?j=[j,g]:(j=null,b=e)):(j=null,b=e);f!==null?d=[d,f]:(d=null,b=c)}else d=
null,b=c;c=d!==null?function(a,b){return[a].concat(b.map(function(a){return a[1]}))}(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function V(){var a="declarator_no_array@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=A();c=c!==null?new r({type:"declarator_item",name:c}):null;n[a]={nextPos:b,result:c};return c}function W(){var a="declarator_array_with_size@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=A();if(d!==null){var f=w();if(f!==null){var e=M();if(e!==null){var j=x();j!==null?d=
[d,f,e,j]:(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c;c=d!==null?new r({type:"declarator_item",name:d[0],arraySize:d[2],isArray:true}):null;c===null&&(c=V(),c=c!==null?c:null);n[a]={nextPos:b,result:c};return c}function U(){var a="declarator@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=A();if(d!==null){var f=w();if(f!==null){var e=x();e!==null?d=[d,f,e]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;c=d!==null?new r({type:"declarator_item",name:d[0],isArray:true}):null;c===
null&&(c=W(),c=c!==null?c:null);n[a]={nextPos:b,result:c};return c}function ea(){var a="init_declarator@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=A();if(d!==null){var f=J();if(f!==null){var e=M();e!==null?d=[d,f,e]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;c=d!==null?new r({type:"declarator_item",name:d[0],initializer:d[2]}):null;c===null&&(c=U(),c=c!==null?c:null);n[a]={nextPos:b,result:c};return c}function lb(){var a="member_list@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=
b,d=R();if(d!==null){var f=p();if(f!==null){var e=Da();if(e!==null){var j=s();j!==null?d=[d,f,e,j]:(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c;if(d!==null)for(var g=[];d!==null;)g.push(d),c=b,d=R(),d!==null?(f=p(),f!==null?(e=Da(),e!==null?(j=s(),j!==null?d=[d,f,e,j]:(d=null,b=c)):(d=null,b=c)):(d=null,b=c)):(d=null,b=c);else g=null;c=g!==null?function(a){return a.map(function(a){return new r({type:"declarator",typeAttribute:a[0],declarators:a[2]})})}(g):null;n[a]={nextPos:b,result:c};
return c}function Xa(){var e="struct_definition@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var d=c=b,m=Ea();m===null&&(m=Fa(),m=m!==null?m:null);if(m!==null){var g=p();g!==null?m=[m,g]:(m=null,b=d)}else m=null,b=d;d=m!==null?m:"";if(d!==null)if(a.substr(b,6)==="struct"?(m="struct",b+=6):(m=null,k&&i('"struct"')),m!==null){var g=b,j=p();if(j!==null){var h=A();h!==null?j=[j,h]:(j=null,b=g)}else j=null,b=g;g=j!==null?j:"";if(g!==null)if(j=I(),j!==null)if(h=lb(),h!==null){var K=F();if(K!==null){var o=
kb(),o=o!==null?o:"";if(o!==null){var q=s();q!==null?d=[d,m,g,j,h,K,o,q]:(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c;else d=null,b=c;else d=null,b=c}else d=null,b=c;else d=null,b=c;if(d!==null){c=d[0];m=d[2];g=d[6];d=new r({type:"struct_definition",members:d[4]});if(c)d.qualifier=c[0];if(m)d.name=m[1].name,mb[d.name]=d;if(g)d.declarators=g;c=d}else c=null;n[e]={nextPos:b,result:c};return c}function T(){var a="precision_type@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var d=c=b,f=
ba();if(f!==null){var e=p();e!==null?f=[f,e]:(f=null,b=d)}else f=null,b=d;d=f!==null?f:"";d!==null?(f=S(),f!==null?d=[d,f]:(d=null,b=c)):(d=null,b=c);if(d!==null){c=d[0];d=new r({type:"type",name:d[1]});if(c)d.precision=c[0];c=d}else c=null;n[a]={nextPos:b,result:c};return c}function R(){var a="locally_specified_type@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=k;k=false;var d=b,f=b,e=da();if(e!==null){var j=p();j!==null?e=[e,j]:(e=null,b=f)}else e=null,b=f;f=e!==null?e:"";f!==null?(e=T(),e!==null?
f=[f,e]:(f=null,b=d)):(f=null,b=d);if(f!==null){d=f[0];f=f[1];if(d)f.qualifier=d[0];d=f}else d=null;(k=c)&&d===null&&i("locally specified type");n[a]={nextPos:b,result:d};return d}function Fa(){var e="attribute_qualifier@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=Q=="vs"?"":null;if(d!==null){if(a.substr(b,9)==="attribute"){var g="attribute";b+=9}else g=null,k&&i('"attribute"');g!==null?d=[d,g]:(d=null,b=c)}else d=null,b=c;c=d!==null?"attribute":null;n[e]={nextPos:b,result:c};return c}function fb(){var a=
"attribute_type@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=k;k=false;var d=b,f=Fa();if(f!==null){var e=p();if(e!==null){var j=T();j!==null?f=[f,e,j]:(f=null,b=d)}else f=null,b=d}else f=null,b=d;f!==null?(d=f[2],d.qualifier=f[0]):d=null;(k=c)&&d===null&&i("locally specified type");n[a]={nextPos:b,result:d};return d}function eb(){var a="fully_specified_type@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=k;k=false;var d=b,f=b,e=Ea();if(e!==null){var j=p();j!==null?e=[e,j]:(e=null,b=f)}else e=null,
b=f;f=e!==null?e:"";f!==null?(e=T(),e!==null?f=[f,e]:(f=null,b=d)):(f=null,b=d);if(f!==null){d=f[0];f=f[1];if(d)f.qualifier=d[0];d=f}else d=null;(k=c)&&d===null&&i("fully specified type");n[a]={nextPos:b,result:d};return d}function ba(){var e="precision_qualifier@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=k;k=false;if(a.substr(b,5)==="highp"){var d="highp";b+=5}else d=null,k&&i('"highp"');d===null&&(a.substr(b,7)==="mediump"?(d="mediump",b+=7):(d=null,k&&i('"mediump"')),d===null&&(a.substr(b,4)===
"lowp"?(d="lowp",b+=4):(d=null,k&&i('"lowp"')),d=d!==null?d:null));(k=c)&&d===null&&i("precision qualifier");n[e]={nextPos:b,result:d};return d}function da(){var e="const_qualifier@"+b,c=n[e];if(c)return b=c.nextPos,c.result;a.substr(b,5)==="const"?(c="const",b+=5):(c=null,k&&i('"const"'));n[e]={nextPos:b,result:c};return c}function Ea(){var e="type_qualifier@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=k;k=false;var d=da();if(d===null&&(a.substr(b,7)==="varying"?(d="varying",b+=7):(d=null,k&&i('"varying"')),
d===null)){d=b;if(a.substr(b,9)==="invariant"){var g="invariant";b+=9}else g=null,k&&i('"invariant"');if(g!==null){var l=p();if(l!==null){if(a.substr(b,7)==="varying"){var j="varying";b+=7}else j=null,k&&i('"varying"');j!==null?g=[g,l,j]:(g=null,b=d)}else g=null,b=d}else g=null,b=d;d=g!==null?"invariant varying":null;d===null&&(a.substr(b,7)==="uniform"?(d="uniform",b+=7):(d=null,k&&i('"uniform"')),d=d!==null?d:null)}(k=c)&&d===null&&i("type qualifier");n[e]={nextPos:b,result:d};return d}function ib(){var e=
"void_type@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=k;k=false;if(a.substr(b,4)==="void"){var d="void";b+=4}else d=null,k&&i('"void"');d=d!==null?new r({type:"type",name:"void"}):null;(k=c)&&d===null&&i("void");n[e]={nextPos:b,result:d};return d}function S(){var e="type_name@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=k;k=false;if(a.substr(b,5)==="float"){var d="float";b+=5}else d=null,k&&i('"float"');d===null&&(a.substr(b,3)==="int"?(d="int",b+=3):(d=null,k&&i('"int"')),d===null&&(a.substr(b,
4)==="bool"?(d="bool",b+=4):(d=null,k&&i('"bool"')),d===null&&(a.substr(b,9)==="sampler2D"?(d="sampler2D",b+=9):(d=null,k&&i('"sampler2D"')),d===null&&(a.substr(b,11)==="samplerCube"?(d="samplerCube",b+=11):(d=null,k&&i('"samplerCube"')),d===null&&(d=Ga(),d===null&&(d=Ha(),d===null&&(d=A(),d=d!==null?d.name in mb?d.name:null:null,d=d!==null?d:null)))))));(k=c)&&d===null&&i("type name");n[e]={nextPos:b,result:d};return d}function A(){var e="identifier@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=
k;k=false;var d=b,g=b,l=k;k=false;var j=b,h=nb();if(h!==null){if(a.substr(b).match(/^[^A-Za-z_0-9]/)!==null){var K=a.charAt(b);b++}else K=null,k&&i("[^A-Za-z_0-9]");K!==null?h=[h,K]:(h=null,b=j)}else h=null,b=j;k=l;h===null?l="":(l=null,b=g);if(l!==null)if(a.substr(b).match(/^[A-Za-z_]/)!==null?(g=a.charAt(b),b++):(g=null,k&&i("[A-Za-z_]")),g!==null){j=[];a.substr(b).match(/^[A-Za-z_0-9]/)!==null?(h=a.charAt(b),b++):(h=null,k&&i("[A-Za-z_0-9]"));for(;h!==null;)j.push(h),a.substr(b).match(/^[A-Za-z_0-9]/)!==
null?(h=a.charAt(b),b++):(h=null,k&&i("[A-Za-z_0-9]"));j!==null?g=[l,g,j]:(g=null,b=d)}else g=null,b=d;else g=null,b=d;d=g!==null?new r({type:"identifier",name:g[1]+g[2].join("")}):null;(k=c)&&d===null&&i("identifier");n[e]={nextPos:b,result:d};return d}function nb(){var e="keyword@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=k;k=false;if(a.substr(b,9)==="attribute"){var d="attribute";b+=9}else d=null,k&&i('"attribute"');d===null&&(a.substr(b,5)==="const"?(d="const",b+=5):(d=null,k&&i('"const"')),
d===null&&(a.substr(b,4)==="bool"?(d="bool",b+=4):(d=null,k&&i('"bool"')),d===null&&(a.substr(b,5)==="float"?(d="float",b+=5):(d=null,k&&i('"float"')),d===null&&(a.substr(b,3)==="int"?(d="int",b+=3):(d=null,k&&i('"int"')),d===null&&(a.substr(b,5)==="break"?(d="break",b+=5):(d=null,k&&i('"break"')),d===null&&(a.substr(b,8)==="continue"?(d="continue",b+=8):(d=null,k&&i('"continue"')),d===null&&(a.substr(b,2)==="do"?(d="do",b+=2):(d=null,k&&i('"do"')),d===null&&(a.substr(b,4)==="else"?(d="else",b+=4):
(d=null,k&&i('"else"')),d===null&&(a.substr(b,3)==="for"?(d="for",b+=3):(d=null,k&&i('"for"')),d===null&&(a.substr(b,2)==="if"?(d="if",b+=2):(d=null,k&&i('"if"')),d===null&&(a.substr(b,7)==="discard"?(d="discard",b+=7):(d=null,k&&i('"discard"')),d===null&&(a.substr(b,6)==="return"?(d="return",b+=6):(d=null,k&&i('"return"')),d===null&&(d=Ga(),d===null&&(d=Ha(),d===null&&(a.substr(b,2)==="in"?(d="in",b+=2):(d=null,k&&i('"in"')),d===null&&(a.substr(b,3)==="out"?(d="out",b+=3):(d=null,k&&i('"out"')),
d===null&&(a.substr(b,5)==="inout"?(d="inout",b+=5):(d=null,k&&i('"inout"')),d===null&&(a.substr(b,7)==="uniform"?(d="uniform",b+=7):(d=null,k&&i('"uniform"')),d===null&&(a.substr(b,7)==="varying"?(d="varying",b+=7):(d=null,k&&i('"varying"')),d===null&&(a.substr(b,9)==="sampler2D"?(d="sampler2D",b+=9):(d=null,k&&i('"sampler2D"')),d===null&&(a.substr(b,11)==="samplerCube"?(d="samplerCube",b+=11):(d=null,k&&i('"samplerCube"')),d===null&&(a.substr(b,6)==="struct"?(d="struct",b+=6):(d=null,k&&i('"struct"')),
d===null&&(a.substr(b,4)==="void"?(d="void",b+=4):(d=null,k&&i('"void"')),d===null&&(a.substr(b,5)==="while"?(d="while",b+=5):(d=null,k&&i('"while"')),d===null&&(a.substr(b,5)==="highp"?(d="highp",b+=5):(d=null,k&&i('"highp"')),d===null&&(a.substr(b,7)==="mediump"?(d="mediump",b+=7):(d=null,k&&i('"mediump"')),d===null&&(a.substr(b,4)==="lowp"?(d="lowp",b+=4):(d=null,k&&i('"lowp"')),d===null&&(a.substr(b,4)==="true"?(d="true",b+=4):(d=null,k&&i('"true"')),d===null&&(a.substr(b,5)==="false"?(d="false",
b+=5):(d=null,k&&i('"false"')),d=d!==null?d:null)))))))))))))))))))))))))))));(k=c)&&d===null&&i("keyword");n[e]={nextPos:b,result:d};return d}function Ga(){var e="vector@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b).match(/^[bi]/)!==null){var d=a.charAt(b);b++}else d=null,k&&i("[bi]");d=d!==null?d:"";if(d!==null){if(a.substr(b,3)==="vec"){var g="vec";b+=3}else g=null,k&&i('"vec"');if(g!==null){if(a.substr(b).match(/^[234]/)!==null){var l=a.charAt(b);b++}else l=null,k&&i("[234]");
l!==null?d=[d,g,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;c=d!==null?d.join(""):null;n[e]={nextPos:b,result:c};return c}function Ha(){var e="matrix@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,3)==="mat"){var d="mat";b+=3}else d=null,k&&i('"mat"');if(d!==null){if(a.substr(b).match(/^[234]/)!==null){var g=a.charAt(b);b++}else g=null,k&&i("[234]");g!==null?d=[d,g]:(d=null,b=c)}else d=null,b=c;c=d!==null?d.join(""):null;n[e]={nextPos:b,result:c};return c}function Ia(){var e="single_underscore_identifier@"+
b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=[];if(a.substr(b).match(/^[A-Za-z0-9]/)!==null){var g=a.charAt(b);b++}else g=null,k&&i("[A-Za-z0-9]");for(;g!==null;)d.push(g),a.substr(b).match(/^[A-Za-z0-9]/)!==null?(g=a.charAt(b),b++):(g=null,k&&i("[A-Za-z0-9]"));if(d!==null)if(a.substr(b,1)==="_"?(g="_",b+=1):(g=null,k&&i('"_"')),g!==null){if(a.substr(b).match(/^[A-Za-z0-9]/)!==null){var l=a.charAt(b);b++}else l=null,k&&i("[A-Za-z0-9]");if(l!==null)for(var j=[];l!==null;)j.push(l),a.substr(b).match(/^[A-Za-z0-9]/)!==
null?(l=a.charAt(b),b++):(l=null,k&&i("[A-Za-z0-9]"));else j=null;j!==null?d=[d,g,j]:(d=null,b=c)}else d=null,b=c;else d=null,b=c;n[e]={nextPos:b,result:d};return d}function ob(){var e="int_constant@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b).match(/^[1-9]/)!==null){var d=a.charAt(b);b++}else d=null,k&&i("[1-9]");if(d!==null){var g=[];if(a.substr(b).match(/^[0-9]/)!==null){var l=a.charAt(b);b++}else l=null,k&&i("[0-9]");for(;l!==null;)g.push(l),a.substr(b).match(/^[0-9]/)!==null?
(l=a.charAt(b),b++):(l=null,k&&i("[0-9]"));g!==null?d=[d,g]:(d=null,b=c)}else d=null,b=c;c=d!==null?new r({type:"int",value:parseInt([d[0]].concat(d[1]).join(""),10)}):null;if(c===null){c=b;a.substr(b,1)==="0"?(d="0",b+=1):(d=null,k&&i('"0"'));if(d!==null)if(a.substr(b).match(/^[Xx]/)!==null?(g=a.charAt(b),b++):(g=null,k&&i("[Xx]")),g!==null){a.substr(b).match(/^[0-9A-Fa-f]/)!==null?(l=a.charAt(b),b++):(l=null,k&&i("[0-9A-Fa-f]"));if(l!==null)for(var j=[];l!==null;)j.push(l),a.substr(b).match(/^[0-9A-Fa-f]/)!==
null?(l=a.charAt(b),b++):(l=null,k&&i("[0-9A-Fa-f]"));else j=null;j!==null?d=[d,g,j]:(d=null,b=c)}else d=null,b=c;else d=null,b=c;c=d!==null?new r({type:"int",value:parseInt(d[2].join(""),16)}):null;if(c===null){c=b;a.substr(b,1)==="0"?(d="0",b+=1):(d=null,k&&i('"0"'));if(d!==null){a.substr(b).match(/^[0-7]/)!==null?(g=a.charAt(b),b++):(g=null,k&&i("[0-7]"));if(g!==null)for(l=[];g!==null;)l.push(g),a.substr(b).match(/^[0-7]/)!==null?(g=a.charAt(b),b++):(g=null,k&&i("[0-7]"));else l=null;l!==null?
d=[d,l]:(d=null,b=c)}else d=null,b=c;c=d!==null?new r({type:"int",value:parseInt(d[1].join(""),8)}):null;c===null&&(a.substr(b,1)==="0"?(c="0",b+=1):(c=null,k&&i('"0"')),c=c!==null?new r({type:"int",value:0}):null,c=c!==null?c:null)}}n[e]={nextPos:b,result:c};return c}function pb(){var e="float_constant@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=[];if(a.substr(b).match(/^[0-9]/)!==null){var g=a.charAt(b);b++}else g=null,k&&i("[0-9]");for(;g!==null;)d.push(g),a.substr(b).match(/^[0-9]/)!==
null?(g=a.charAt(b),b++):(g=null,k&&i("[0-9]"));if(d!==null)if(a.substr(b,1)==="."?(g=".",b+=1):(g=null,k&&i('"."')),g!==null){if(a.substr(b).match(/^[0-9]/)!==null){var l=a.charAt(b);b++}else l=null,k&&i("[0-9]");if(l!==null)for(var j=[];l!==null;)j.push(l),a.substr(b).match(/^[0-9]/)!==null?(l=a.charAt(b),b++):(l=null,k&&i("[0-9]"));else j=null;j!==null?(l=fa(),l=l!==null?l:"",l!==null?d=[d,g,j,l]:(d=null,b=c)):(d=null,b=c)}else d=null,b=c;else d=null,b=c;if(d!==null)c=d;else{c=b;a.substr(b).match(/^[0-9]/)!==
null?(g=a.charAt(b),b++):(g=null,k&&i("[0-9]"));if(g!==null)for(d=[];g!==null;)d.push(g),a.substr(b).match(/^[0-9]/)!==null?(g=a.charAt(b),b++):(g=null,k&&i("[0-9]"));else d=null;if(d!==null)if(a.substr(b,1)==="."?(g=".",b+=1):(g=null,k&&i('"."')),g!==null){j=[];a.substr(b).match(/^[0-9]/)!==null?(l=a.charAt(b),b++):(l=null,k&&i("[0-9]"));for(;l!==null;)j.push(l),a.substr(b).match(/^[0-9]/)!==null?(l=a.charAt(b),b++):(l=null,k&&i("[0-9]"));j!==null?(l=fa(),l=l!==null?l:"",l!==null?d=[d,g,j,l]:(d=
null,b=c)):(d=null,b=c)}else d=null,b=c;else d=null,b=c;c=d!==null?d:null}c!==null?(c[0]=c[0].join(""),c[2]=c[2].join(""),c=new r({type:"float",value:parseFloat(c.join(""))})):c=null;if(c===null){c=b;a.substr(b).match(/^[0-9]/)!==null?(g=a.charAt(b),b++):(g=null,k&&i("[0-9]"));if(g!==null)for(d=[];g!==null;)d.push(g),a.substr(b).match(/^[0-9]/)!==null?(g=a.charAt(b),b++):(g=null,k&&i("[0-9]"));else d=null;d!==null?(g=fa(),g!==null?d=[d,g]:(d=null,b=c)):(d=null,b=c);c=d!==null?new r({type:"float",
value:parseFloat(d[0].join("")+d[1])}):null;c=c!==null?c:null}n[e]={nextPos:b,result:c};return c}function fa(){var e="float_exponent@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b).match(/^[Ee]/)!==null){var d=a.charAt(b);b++}else d=null,k&&i("[Ee]");if(d!==null){if(a.substr(b).match(/^[+\-]/)!==null){var g=a.charAt(b);b++}else g=null,k&&i("[+\\-]");g=g!==null?g:"";if(g!==null){if(a.substr(b).match(/^[0-9]/)!==null){var l=a.charAt(b);b++}else l=null,k&&i("[0-9]");if(l!==null)for(var j=
[];l!==null;)j.push(l),a.substr(b).match(/^[0-9]/)!==null?(l=a.charAt(b),b++):(l=null,k&&i("[0-9]"));else j=null;j!==null?d=[d,g,j]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;c=d!==null?["e",d[1]].concat(d[2]).join(""):null;n[e]={nextPos:b,result:c};return c}function qb(){var a="paren_expression@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=E();if(d!==null){var f=B();if(f!==null){var e=C();e!==null?d=[d,f,e]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;c=d!==null?d[1]:null;n[a]={nextPos:b,
result:c};return c}function rb(){var e="bool_constant@"+b,c=n[e];if(c)return b=c.nextPos,c.result;a.substr(b,4)==="true"?(c="true",b+=4):(c=null,k&&i('"true"'));c===null&&(a.substr(b,5)==="false"?(c="false",b+=5):(c=null,k&&i('"false"')),c=c!==null?c:null);c=c!==null?new r({type:"bool",value:c=="true"}):null;n[e]={nextPos:b,result:c};return c}function sb(){var a="primary_expression@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=tb();c===null&&(c=A(),c===null&&(c=pb(),c===null&&(c=ob(),c===null&&(c=
rb(),c===null&&(c=qb(),c=c!==null?c:null)))));n[a]={nextPos:b,result:c};return c}function X(){var a="index_accessor@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=w();if(d!==null){var f=B();if(f!==null){var e=x();e!==null?d=[d,f,e]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;c=d!==null?new r({type:"accessor",index:d[1]}):null;n[a]={nextPos:b,result:c};return c}function Y(){var e="field_selector@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,1)==="."){var d=".";b+=1}else d=null,
k&&i('"."');if(d!==null){var g=A();g!==null?d=[d,g]:(d=null,b=c)}else d=null,b=c;c=d!==null?new r({type:"field_selector",selection:d[1].name}):null;n[e]={nextPos:b,result:c};return c}function ub(){var a="postfix_expression@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=sb();if(d!==null){var f=[],e=Y();e===null&&(e=X(),e=e!==null?e:null);for(;e!==null;)f.push(e),e=Y(),e===null&&(e=X(),e=e!==null?e:null);f!==null?d=[d,f]:(d=null,b=c)}else d=null,b=c;if(d!==null){c=d[1];d=d[0];for(f=0;f<c.length;f++)d=
new r({type:"postfix",operator:c[f],expression:d});c=d}else c=null;n[a]={nextPos:b,result:c};return c}function vb(){var e="postfix_expression_no_repeat@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=ub();if(d!==null){if(a.substr(b,2)==="++"){var g="++";b+=2}else g=null,k&&i('"++"');g===null&&(a.substr(b,2)==="--"?(g="--",b+=2):(g=null,k&&i('"--"')),g=g!==null?g:null);g=g!==null?g:"";if(g!==null){var l=[],j=Y();j===null&&(j=X(),j=j!==null?j:null);for(;j!==null;)l.push(j),j=Y(),j===null&&(j=
X(),j=j!==null?j:null);l!==null?d=[d,g,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;if(d!==null){g=d[1];c=d[2];d=d[0];g&&(d=new r({type:"postfix",operator:new r({id:wb++,type:"operator",operator:g}),expression:d}));for(g=0;g<c.length;g++)d=new r({type:"postfix",operator:c[g],expression:d});c=d}else c=null;n[e]={nextPos:b,result:c};return c}function xb(){var e="parameter_list@"+b,c=n[e];if(c)return b=c.nextPos,c.result;a.substr(b,4)==="void"?(c="void",b+=4):(c=null,k&&i('"void"'));c=c!==null?[]:
null;if(c===null){var c=b,d=B();if(d!==null){var g=[],l=b,j=t();if(j!==null){var h=B();h!==null?j=[j,h]:(j=null,b=l)}else j=null,b=l;for(;j!==null;)g.push(j),l=b,j=t(),j!==null?(h=B(),h!==null?j=[j,h]:(j=null,b=l)):(j=null,b=l);g!==null?d=[d,g]:(d=null,b=c)}else d=null,b=c;c=d!==null?function(a,b){return[a].concat(b.map(function(a){return a[1]}))}(d[0],d[1]):null;c=c!==null?c:null}n[e]={nextPos:b,result:c};return c}function tb(){var a="function_call@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=
b,d=yb();if(d!==null){var f=E();if(f!==null){var e=xb(),e=e!==null?e:"";if(e!==null){var j=C();j!==null?d=[d,f,e,j]:(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c;if(d!==null){c=d[2];d=new r({type:"function_call",function_name:d[0],parameters:c});if(!c)d.parameters=[];c=d}else c=null;n[a]={nextPos:b,result:c};return c}function yb(){var a="function_identifier@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=A();c=c!==null?c.name:null;c===null&&(c=S(),c=c!==null?c:null);n[a]={nextPos:b,result:c};
return c}function zb(){var e="unary_expression@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,2)==="++"){var d="++";b+=2}else d=null,k&&i('"++"');d===null&&(a.substr(b,2)==="--"?(d="--",b+=2):(d=null,k&&i('"--"')),d===null&&(a.substr(b,1)==="!"?(d="!",b+=1):(d=null,k&&i('"!"')),d===null&&(a.substr(b,1)==="~"?(d="~",b+=1):(d=null,k&&i('"~"')),d===null&&(a.substr(b,1)==="+"?(d="+",b+=1):(d=null,k&&i('"+"')),d===null&&(a.substr(b,1)==="-"?(d="-",b+=1):(d=null,k&&i('"-"')),d=d!==null?d:
null)))));d=d!==null?d:"";if(d!==null){var g=p(),g=g!==null?g:"";if(g!==null){var l=vb();l!==null?d=[d,g,l]:(d=null,b=c)}else d=null,b=c}else d=null,b=c;d!==null?(c=d[0],y=d[2],c&&(y=new r({type:"unary",expression:y,operator:new r({type:"operator",operator:c})})),c=y):c=null;n[e]={nextPos:b,result:c};return c}function Ja(){var e="multiplicative_operator@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,1)==="*"){var d="*";b+=1}else d=null,k&&i('"*"');d===null&&(a.substr(b,1)==="/"?(d=
"/",b+=1):(d=null,k&&i('"/"')),d===null&&(a.substr(b,1)==="%"?(d="%",b+=1):(d=null,k&&i('"%"')),d=d!==null?d:null));if(d!==null){var g=b,l=k;k=false;if(a.substr(b,1)==="="){var j="=";b+=1}else j=null,k&&i('"="');k=l;j===null?l="":(l=null,b=g);l!==null?d=[d,l]:(d=null,b=c)}else d=null,b=c;c=d!==null?new r({type:"operator",operator:d[0]}):null;n[e]={nextPos:b,result:c};return c}function ga(){var a="multiplicative_expression@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=zb();if(d!==null){var f=
[],e=b,g=p(),g=g!==null?g:"";if(g!==null){var i=Ja();if(i!==null){var h=p(),h=h!==null?h:"";if(h!==null){var k=ga();k!==null?g=[g,i,h,k]:(g=null,b=e)}else g=null,b=e}else g=null,b=e}else g=null,b=e;for(;g!==null;)f.push(g),e=b,g=p(),g=g!==null?g:"",g!==null?(i=Ja(),i!==null?(h=p(),h=h!==null?h:"",h!==null?(k=ga(),k!==null?g=[g,i,h,k]:(g=null,b=e)):(g=null,b=e)):(g=null,b=e)):(g=null,b=e);f!==null?d=[d,f]:(d=null,b=c)}else d=null,b=c;c=d!==null?H(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}
function Ka(){var e="additive_operator@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,1)==="+"){var d="+";b+=1}else d=null,k&&i('"+"');if(d!==null){var g=b,l=k;k=false;if(a.substr(b,1)==="+"){var j="+";b+=1}else j=null,k&&i('"+"');j===null&&(a.substr(b,1)==="="?(j="=",b+=1):(j=null,k&&i('"="')),j=j!==null?j:null);k=l;j===null?l="":(l=null,b=g);l!==null?d=[d,l]:(d=null,b=c)}else d=null,b=c;c=d!==null?new r({type:"operator",operator:"+"}):null;c===null&&(c=b,a.substr(b,1)==="-"?(d="-",
b+=1):(d=null,k&&i('"-"')),d!==null?(g=b,l=k,k=false,a.substr(b,1)==="-"?(j="-",b+=1):(j=null,k&&i('"-"')),j===null&&(a.substr(b,1)==="="?(j="=",b+=1):(j=null,k&&i('"="')),j=j!==null?j:null),k=l,j===null?l="":(l=null,b=g),l!==null?d=[d,l]:(d=null,b=c)):(d=null,b=c),c=d!==null?new r({type:"operator",operator:"-"}):null,c=c!==null?c:null);n[e]={nextPos:b,result:c};return c}function ha(){var a="additive_expression@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=ga();if(d!==null){var f=[],e=b,g=
p(),g=g!==null?g:"";if(g!==null){var i=Ka();if(i!==null){var h=p(),h=h!==null?h:"";if(h!==null){var k=ha();k!==null?g=[g,i,h,k]:(g=null,b=e)}else g=null,b=e}else g=null,b=e}else g=null,b=e;for(;g!==null;)f.push(g),e=b,g=p(),g=g!==null?g:"",g!==null?(i=Ka(),i!==null?(h=p(),h=h!==null?h:"",h!==null?(k=ha(),k!==null?g=[g,i,h,k]:(g=null,b=e)):(g=null,b=e)):(g=null,b=e)):(g=null,b=e);f!==null?d=[d,f]:(d=null,b=c)}else d=null,b=c;c=d!==null?H(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function La(){var e=
"shift_operator@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,2)==="<<"){var d="<<";b+=2}else d=null,k&&i('"<<"');d===null&&(a.substr(b,2)===">>"?(d=">>",b+=2):(d=null,k&&i('">>"')),d=d!==null?d:null);if(d!==null){var g=b,l=k;k=false;if(a.substr(b,1)==="="){var j="=";b+=1}else j=null,k&&i('"="');k=l;j===null?l="":(l=null,b=g);l!==null?d=[d,l]:(d=null,b=c)}else d=null,b=c;c=d!==null?new r({type:"operator",operator:d[0]}):null;n[e]={nextPos:b,result:c};return c}function ia(){var a="shift_expression@"+
b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=ha();if(d!==null){var f=[],e=b,g=p(),g=g!==null?g:"";if(g!==null){var i=La();if(i!==null){var h=p(),h=h!==null?h:"";if(h!==null){var k=ia();k!==null?g=[g,i,h,k]:(g=null,b=e)}else g=null,b=e}else g=null,b=e}else g=null,b=e;for(;g!==null;)f.push(g),e=b,g=p(),g=g!==null?g:"",g!==null?(i=La(),i!==null?(h=p(),h=h!==null?h:"",h!==null?(k=ia(),k!==null?g=[g,i,h,k]:(g=null,b=e)):(g=null,b=e)):(g=null,b=e)):(g=null,b=e);f!==null?d=[d,f]:(d=null,b=c)}else d=
null,b=c;c=d!==null?H(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function Ma(){var e="relational_operator@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,1)==="<"){var d="<";b+=1}else d=null,k&&i('"<"');if(d!==null){var g=b,l=k;k=false;if(a.substr(b,1)==="<"){var j="<";b+=1}else j=null,k&&i('"<"');k=l;j===null?l="":(l=null,b=g);l!==null?(a.substr(b,1)==="="?(g="=",b+=1):(g=null,k&&i('"="')),g=g!==null?g:"",g!==null?d=[d,l,g]:(d=null,b=c)):(d=null,b=c)}else d=null,b=c;c=d!==null?
new r({type:"operator",operator:"<"+d[2]}):null;c===null&&(c=b,a.substr(b,1)===">"?(d=">",b+=1):(d=null,k&&i('">"')),d!==null?(g=b,l=k,k=false,a.substr(b,1)===">"?(j=">",b+=1):(j=null,k&&i('">"')),k=l,j===null?l="":(l=null,b=g),l!==null?(a.substr(b,1)==="="?(g="=",b+=1):(g=null,k&&i('"="')),g=g!==null?g:"",g!==null?d=[d,l,g]:(d=null,b=c)):(d=null,b=c)):(d=null,b=c),c=d!==null?new r({type:"operator",operator:">"+d[2]}):null,c=c!==null?c:null);n[e]={nextPos:b,result:c};return c}function ja(){var a=
"relational_expression@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=ia();if(d!==null){var e=[],f=b,g=p(),g=g!==null?g:"";if(g!==null){var i=Ma();if(i!==null){var h=p(),h=h!==null?h:"";if(h!==null){var k=ja();k!==null?g=[g,i,h,k]:(g=null,b=f)}else g=null,b=f}else g=null,b=f}else g=null,b=f;for(;g!==null;)e.push(g),f=b,g=p(),g=g!==null?g:"",g!==null?(i=Ma(),i!==null?(h=p(),h=h!==null?h:"",h!==null?(k=ja(),k!==null?g=[g,i,h,k]:(g=null,b=f)):(g=null,b=f)):(g=null,b=f)):(g=null,b=f);e!==null?
d=[d,e]:(d=null,b=c)}else d=null,b=c;c=d!==null?H(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function Na(){var e="equality_operator@"+b,c=n[e];if(c)return b=c.nextPos,c.result;a.substr(b,2)==="=="?(c="==",b+=2):(c=null,k&&i('"=="'));c===null&&(a.substr(b,2)==="!="?(c="!=",b+=2):(c=null,k&&i('"!="')),c=c!==null?c:null);c=c!==null?new r({type:"operator",operator:c}):null;n[e]={nextPos:b,result:c};return c}function ka(){var a="equality_expression@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=
b,d=ja();if(d!==null){var e=[],f=b,g=p(),g=g!==null?g:"";if(g!==null){var i=Na();if(i!==null){var h=p(),h=h!==null?h:"";if(h!==null){var k=ka();k!==null?g=[g,i,h,k]:(g=null,b=f)}else g=null,b=f}else g=null,b=f}else g=null,b=f;for(;g!==null;)e.push(g),f=b,g=p(),g=g!==null?g:"",g!==null?(i=Na(),i!==null?(h=p(),h=h!==null?h:"",h!==null?(k=ka(),k!==null?g=[g,i,h,k]:(g=null,b=f)):(g=null,b=f)):(g=null,b=f)):(g=null,b=f);e!==null?d=[d,e]:(d=null,b=c)}else d=null,b=c;c=d!==null?H(d[0],d[1]):null;n[a]={nextPos:b,
result:c};return c}function Oa(){var e="bitwise_and_operator@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,1)==="&"){var d="&";b+=1}else d=null,k&&i('"&"');if(d!==null){var g=b,l=k;k=false;if(a.substr(b,1)==="="){var j="=";b+=1}else j=null,k&&i('"="');j===null&&(a.substr(b,1)==="&"?(j="&",b+=1):(j=null,k&&i('"&"')),j=j!==null?j:null);k=l;j===null?l="":(l=null,b=g);l!==null?d=[d,l]:(d=null,b=c)}else d=null,b=c;c=d!==null?new r({type:"operator",operator:"&"}):null;n[e]={nextPos:b,result:c};
return c}function la(){var a="bitwise_and_expression@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=ka();if(d!==null){var f=[],e=b,g=p(),g=g!==null?g:"";if(g!==null){var i=Oa();if(i!==null){var h=p(),h=h!==null?h:"";if(h!==null){var k=la();k!==null?g=[g,i,h,k]:(g=null,b=e)}else g=null,b=e}else g=null,b=e}else g=null,b=e;for(;g!==null;)f.push(g),e=b,g=p(),g=g!==null?g:"",g!==null?(i=Oa(),i!==null?(h=p(),h=h!==null?h:"",h!==null?(k=la(),k!==null?g=[g,i,h,k]:(g=null,b=e)):(g=null,b=e)):(g=null,
b=e)):(g=null,b=e);f!==null?d=[d,f]:(d=null,b=c)}else d=null,b=c;c=d!==null?H(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function Pa(){var e="bitwise_xor_operator@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,1)==="^"){var d="^";b+=1}else d=null,k&&i('"^"');if(d!==null){var g=b,l=k;k=false;if(a.substr(b,1)==="="){var j="=";b+=1}else j=null,k&&i('"="');j===null&&(a.substr(b,1)==="^"?(j="^",b+=1):(j=null,k&&i('"^"')),j=j!==null?j:null);k=l;j===null?l="":(l=null,b=g);l!==null?
d=[d,l]:(d=null,b=c)}else d=null,b=c;c=d!==null?new r({type:"operator",operator:"^"}):null;n[e]={nextPos:b,result:c};return c}function ma(){var a="bitwise_xor_expression@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=la();if(d!==null){var e=[],f=b,g=p(),g=g!==null?g:"";if(g!==null){var i=Pa();if(i!==null){var h=p(),h=h!==null?h:"";if(h!==null){var k=ma();k!==null?g=[g,i,h,k]:(g=null,b=f)}else g=null,b=f}else g=null,b=f}else g=null,b=f;for(;g!==null;)e.push(g),f=b,g=p(),g=g!==null?g:"",g!==
null?(i=Pa(),i!==null?(h=p(),h=h!==null?h:"",h!==null?(k=ma(),k!==null?g=[g,i,h,k]:(g=null,b=f)):(g=null,b=f)):(g=null,b=f)):(g=null,b=f);e!==null?d=[d,e]:(d=null,b=c)}else d=null,b=c;c=d!==null?H(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function Qa(){var e="bitwise_or_operator@"+b,c=n[e];if(c)return b=c.nextPos,c.result;c=b;if(a.substr(b,1)==="|"){var d="|";b+=1}else d=null,k&&i('"|"');if(d!==null){var g=b,h=k;k=false;if(a.substr(b,1)==="="){var j="=";b+=1}else j=null,k&&i('"="');j===null&&
(a.substr(b,1)==="|"?(j="|",b+=1):(j=null,k&&i('"|"')),j=j!==null?j:null);k=h;j===null?h="":(h=null,b=g);h!==null?d=[d,h]:(d=null,b=c)}else d=null,b=c;c=d!==null?new r({type:"operator",operator:"|"}):null;n[e]={nextPos:b,result:c};return c}function na(){var a="bitwise_or_expression@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=ma();if(d!==null){var e=[],f=b,g=p(),g=g!==null?g:"";if(g!==null){var i=Qa();if(i!==null){var h=p(),h=h!==null?h:"";if(h!==null){var k=na();k!==null?g=[g,i,h,k]:(g=
null,b=f)}else g=null,b=f}else g=null,b=f}else g=null,b=f;for(;g!==null;)e.push(g),f=b,g=p(),g=g!==null?g:"",g!==null?(i=Qa(),i!==null?(h=p(),h=h!==null?h:"",h!==null?(k=na(),k!==null?g=[g,i,h,k]:(g=null,b=f)):(g=null,b=f)):(g=null,b=f)):(g=null,b=f);e!==null?d=[d,e]:(d=null,b=c)}else d=null,b=c;c=d!==null?H(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function Ra(){var e="logical_and_operator@"+b,c=n[e];if(c)return b=c.nextPos,c.result;a.substr(b,2)==="&&"?(c="&&",b+=2):(c=null,k&&i('"&&"'));
c=c!==null?new r({type:"operator",operator:"&&"}):null;n[e]={nextPos:b,result:c};return c}function oa(){var a="logical_and_expression@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=na();if(d!==null){var e=[],f=b,g=p(),g=g!==null?g:"";if(g!==null){var i=Ra();if(i!==null){var h=p(),h=h!==null?h:"";if(h!==null){var k=oa();k!==null?g=[g,i,h,k]:(g=null,b=f)}else g=null,b=f}else g=null,b=f}else g=null,b=f;for(;g!==null;)e.push(g),f=b,g=p(),g=g!==null?g:"",g!==null?(i=Ra(),i!==null?(h=p(),h=h!==null?
h:"",h!==null?(k=oa(),k!==null?g=[g,i,h,k]:(g=null,b=f)):(g=null,b=f)):(g=null,b=f)):(g=null,b=f);e!==null?d=[d,e]:(d=null,b=c)}else d=null,b=c;c=d!==null?H(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function Sa(){var e="logical_xor_operator@"+b,c=n[e];if(c)return b=c.nextPos,c.result;a.substr(b,2)==="^^"?(c="^^",b+=2):(c=null,k&&i('"^^"'));c=c!==null?new r({type:"operator",operator:"^^"}):null;n[e]={nextPos:b,result:c};return c}function pa(){var a="logical_xor_expression@"+b,c=n[a];if(c)return b=
c.nextPos,c.result;var c=b,d=oa();if(d!==null){var f=[],e=b,g=p(),g=g!==null?g:"";if(g!==null){var i=Sa();if(i!==null){var h=p(),h=h!==null?h:"";if(h!==null){var k=pa();k!==null?g=[g,i,h,k]:(g=null,b=e)}else g=null,b=e}else g=null,b=e}else g=null,b=e;for(;g!==null;)f.push(g),e=b,g=p(),g=g!==null?g:"",g!==null?(i=Sa(),i!==null?(h=p(),h=h!==null?h:"",h!==null?(k=pa(),k!==null?g=[g,i,h,k]:(g=null,b=e)):(g=null,b=e)):(g=null,b=e)):(g=null,b=e);f!==null?d=[d,f]:(d=null,b=c)}else d=null,b=c;c=d!==null?
H(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function Ta(){var e="logical_or_operator@"+b,c=n[e];if(c)return b=c.nextPos,c.result;a.substr(b,2)==="||"?(c="||",b+=2):(c=null,k&&i('"||"'));c=c!==null?new r({type:"operator",operator:"||"}):null;n[e]={nextPos:b,result:c};return c}function qa(){var a="logical_or_expression@"+b,c=n[a];if(c)return b=c.nextPos,c.result;var c=b,d=pa();if(d!==null){var e=[],f=b,g=p(),g=g!==null?g:"";if(g!==null){var i=Ta();if(i!==null){var h=p(),h=h!==null?h:"";if(h!==
null){var k=qa();k!==null?g=[g,i,h,k]:(g=null,b=f)}else g=null,b=f}else g=null,b=f}else g=null,b=f;for(;g!==null;)e.push(g),f=b,g=p(),g=g!==null?g:"",g!==null?(i=Ta(),i!==null?(h=p(),h=h!==null?h:"",h!==null?(k=qa(),k!==null?g=[g,i,h,k]:(g=null,b=f)):(g=null,b=f)):(g=null,b=f)):(g=null,b=f);e!==null?d=[d,e]:(d=null,b=c)}else d=null,b=c;c=d!==null?H(d[0],d[1]):null;n[a]={nextPos:b,result:c};return c}function M(){var e="conditional_expression@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=qa();
if(d!==null){var g=b,h=p(),h=h!==null?h:"";if(h!==null){if(a.substr(b,1)==="?"){var j="?";b+=1}else j=null,k&&i('"?"');if(j!==null){var o=p(),o=o!==null?o:"";if(o!==null){var q=B();if(q!==null){var s=p(),s=s!==null?s:"";if(s!==null){if(a.substr(b,1)===":"){var t=":";b+=1}else t=null,k&&i('":"');if(t!==null){var w=p(),w=w!==null?w:"";if(w!==null){var v=B();v!==null?h=[h,j,o,q,s,t,w,v]:(h=null,b=g)}else h=null,b=g}else h=null,b=g}else h=null,b=g}else h=null,b=g}else h=null,b=g}else h=null,b=g}else h=
null,b=g;g=h!==null?h:"";g!==null?d=[d,g]:(d=null,b=c)}else d=null,b=c;d!==null?(c=d[0],d=d[1],y=c,d&&(y=new r({type:"ternary",condition:c,is_true:d[3],is_false:d[7]})),c=y):c=null;n[e]={nextPos:b,result:c};return c}function B(){var e="assignment_expression@"+b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=M();if(d!==null){var g=p(),g=g!==null?g:"";if(g!==null){if(a.substr(b,1)==="="){var h="=";b+=1}else h=null,k&&i('"="');h===null&&(a.substr(b,2)==="*="?(h="*=",b+=2):(h=null,k&&i('"*="')),h===
null&&(a.substr(b,2)==="/="?(h="/=",b+=2):(h=null,k&&i('"/="')),h===null&&(a.substr(b,2)==="%="?(h="%=",b+=2):(h=null,k&&i('"%="')),h===null&&(a.substr(b,2)==="+="?(h="+=",b+=2):(h=null,k&&i('"+="')),h===null&&(a.substr(b,2)==="-="?(h="-=",b+=2):(h=null,k&&i('"-="')),h===null&&(a.substr(b,3)==="<<="?(h="<<=",b+=3):(h=null,k&&i('"<<="')),h===null&&(a.substr(b,3)===">>="?(h=">>=",b+=3):(h=null,k&&i('">>="')),h===null&&(a.substr(b,2)==="&="?(h="&=",b+=2):(h=null,k&&i('"&="')),h===null&&(a.substr(b,2)===
"^="?(h="^=",b+=2):(h=null,k&&i('"^="')),h===null&&(a.substr(b,2)==="|="?(h="|=",b+=2):(h=null,k&&i('"|="')),h=h!==null?h:null))))))))));if(h!==null){var j=p(),j=j!==null?j:"";if(j!==null){var o=B();o!==null?d=[d,g,h,j,o]:(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c}else d=null,b=c;c=d!==null?new r({type:"binary",operator:new r({type:"operator",operator:d[2]}),left:d[0],right:d[4]}):null;c===null&&(c=M(),c=c!==null?c:null);n[e]={nextPos:b,result:c};return c}function Aa(){var e="condition@"+
b,c=n[e];if(c)return b=c.nextPos,c.result;var c=b,d=R();if(d!==null){var g=p();if(g!==null){var h=A();if(h!==null){var j=p(),j=j!==null?j:"";if(j!==null){if(a.substr(b,1)==="="){var o="=";b+=1}else o=null,k&&i('"="');if(o!==null){var q=p(),q=q!==null?q:"";if(q!==null){var r=B();r!==null?d=[d,g,h,j,o,q,r]:(d=null,b=c)}else d=null,b=c}else d=null,b=c}else d=null,b=c}else d=null,b=c}else d=null,b=c}else d=null,b=c;d!==null?c=d:(c=B(),c=c!==null?c:null);n[e]={nextPos:b,result:c};return c}function Db(){var e;
a:{e=va;e.sort();for(var c=null,d=[],g=0;g<e.length;g++)e[g]!==c&&(d.push(e[g]),c=e[g]);switch(d.length){case 0:e="end of input";break a;case 1:e=d[0];break a;default:e=d.slice(0,d.length-1).join(", ")+" or "+d[d.length-1]}}c=Math.max(b,O);c=c<a.length?h(a.charAt(c)):"end of input";return"Expected "+e+" but "+c+" found."}function Ab(){for(var b=1,c=1,d=false,e=0;e<O;e++){var g=a.charAt(e);g==="\n"?(d||b++,c=1,d=false):g==="\r"|g==="\u2028"||g==="\u2029"?(b++,c=1,d=true):(c++,d=false)}return{line:b,
column:c}}function r(a){this.id=wb++;this.line=Ab().line;for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}function H(a,b){for(var d=a,e=0;e<b.length;e++)d=new r({type:"binary",operator:b[e][1],left:d,right:b[e][3]});return d}function Ya(a,b,d){d&&(b=b.concat([d]));d=a[0];d.guarded_statements=a[1].statements;for(var a=d,e=0;e<b.length;e++)a.elseBody=b[e][0],a.elseBody.guarded_statements=b[e][1].statements,a=a.elseBody;return d}var Bb={EOF:q,_:p,additive_expression:ha,additive_operator:Ka,assignment_expression:B,
attribute_qualifier:Fa,attribute_type:fb,bitwise_and_expression:la,bitwise_and_operator:Oa,bitwise_or_expression:na,bitwise_or_operator:Qa,bitwise_xor_expression:ma,bitwise_xor_operator:Pa,bool_constant:rb,comma:t,comment:z,compound_statement:Z,condition:Aa,conditional_expression:M,const_qualifier:da,declaration:aa,declarator:U,declarator_array_with_size:W,declarator_list:kb,declarator_list_arrays_have_size:Da,declarator_list_no_array:gb,declarator_no_array:V,do_while:db,equality_expression:ka,equality_operator:Na,
equals:J,expression_statement:za,external_declaration:G,external_statement:D,external_statement_list:v,field_selector:Y,float_constant:pb,float_exponent:fa,for_loop:bb,fragment_start:function(){var a="fragment_start@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=b;Q="fs";if(""!==null){var d=v();d!==null?d=["",d]:(d=null,b=c)}else d=null,b=c;c=d!==null?d[1]:null;n[a]={nextPos:b,result:c};return c},fully_specified_type:eb,function_call:tb,function_definition:Va,function_identifier:yb,function_prototype:xa,
function_prototype_parameter_list:hb,global_declaration:Wa,identifier:A,index_accessor:X,init_declarator:ea,init_declarator_list:Ca,int_constant:ob,iteration_statement:$a,jump_statement:ab,keyword:nb,left_brace:I,left_bracket:w,left_paren:E,locally_specified_type:R,logical_and_expression:oa,logical_and_operator:Ra,logical_or_expression:qa,logical_or_operator:Ta,logical_xor_expression:pa,logical_xor_operator:Sa,matrix:Ha,member_list:lb,multiplicative_expression:ga,multiplicative_operator:Ja,newLine:o,
parameter_declaration:ca,parameter_list:xb,parameter_qualifier:jb,paren_expression:qb,postfix_expression:ub,postfix_expression_no_repeat:vb,precision_qualifier:ba,precision_type:T,preprocessor_else:ta,preprocessor_else_if:N,preprocessor_end:ua,preprocessor_external_branch:Ua,preprocessor_if:sa,preprocessor_operator:ra,preprocessor_statement_branch:wa,primary_expression:sb,relational_expression:ja,relational_operator:Ma,reserved:function(){var e="reserved@"+b,c=n[e];if(c)return b=c.nextPos,c.result;
c=k;k=false;for(var d=b,g=[],h=Ia();h!==null;)g.push(h),h=Ia();if(g!==null)if(a.substr(b,2)==="__"?(h="__",b+=2):(h=null,k&&i('"__"')),h!==null){var j=[];if(a.substr(b).match(/^[A-Za-z_0-9]/)!==null){var o=a.charAt(b);b++}else o=null,k&&i("[A-Za-z_0-9]");for(;o!==null;)j.push(o),a.substr(b).match(/^[A-Za-z_0-9]/)!==null?(o=a.charAt(b),b++):(o=null,k&&i("[A-Za-z_0-9]"));j!==null?g=[g,h,j]:(g=null,b=d)}else g=null,b=d;else g=null,b=d;(k=c)&&g===null&&i("reserved name");n[e]={nextPos:b,result:g};return g},
right_brace:F,right_bracket:x,right_paren:C,selection_statement:Za,semicolon:s,shift_expression:ia,shift_operator:La,simple_statement:ya,single_underscore_identifier:Ia,statement_list:L,statement_no_new_scope:P,statement_with_scope:$,struct_definition:Xa,type_name:S,type_qualifier:Ea,unary_expression:zb,vector:Ga,vertex_start:function(){var a="vertex_start@"+b,c=n[a];if(c)return b=c.nextPos,c.result;c=b;Q="vs";if(""!==null){var d=v();d!==null?d=["",d]:(d=null,b=c)}else d=null,b=c;c=d!==null?d[1]:
null;n[a]={nextPos:b,result:c};return c},void_type:ib,while_loop:cb,while_statement:Ba};if(e!==void 0){if(Bb[e]===void 0)throw Error("Invalid rule name: "+h(e)+".");}else e="external_statement_list";var b=0,k=true,O=0,va=[],n={},mb={},wb=0,Q="vs",y=Bb[e]();if(y===null||b!==a.length){var Cb=Ab();throw new this.SyntaxError(Db(),Cb.line,Cb.column);}return y},toSource:function(){return this._source},SyntaxError:function(a,e,g){this.name="SyntaxError";this.message=a;this.line=e;this.column=g}};a.SyntaxError.prototype=
Error.prototype;return a}();glslunit.SpliceTransformer=function(a,f,e,g,h){glslunit.ASTTransformer.call(this);this.newNodes_=h;this.parentNode_=a;this.fieldName_=f;this.position_=e;this.elements_=g;this.removedNodes_=[]};goog.inherits(glslunit.SpliceTransformer,glslunit.ASTTransformer);glslunit.SpliceTransformer.prototype.getRemovedNodes=function(){return this.removedNodes_};
glslunit.SpliceTransformer.prototype.maybeSpliceNode=function(a){if(a==this.parentNode_)if(a=glslunit.ASTTransformer.cloneNode(a),goog.isArray(a[this.fieldName_])){var f=this.newNodes_.map(glslunit.ASTTransformer.cloneNode);a[this.fieldName_]=goog.array.clone(a[this.fieldName_]);this.removedNodes_=[].splice.apply(a[this.fieldName_],[this.position_,this.elements_].concat(f))}else throw this.fieldName_+" wasn't an array.";return a};glslunit.SpliceTransformer.prototype.getTransformFunction=function(){return this.maybeSpliceNode};
glslunit.SpliceTransformer.splice=function(a,f,e,g,h,i){return(new glslunit.SpliceTransformer(f,e,g,h,i)).transformNode(a)};glslunit.VariableScopeVisitor=function(a,f){glslunit.ASTVisitor.call(this);this.targetScope_=a||null;this.promoteIfdefVars_=!!f;this.variablesInScope_={};this.stackFrames_=[];this.currentFrame_=[];this.scopeIdToFrame_={};this.scopeParameters_=[]};goog.inherits(glslunit.VariableScopeVisitor,glslunit.ASTVisitor);
glslunit.VariableScopeVisitor.prototype.getCurrentScopeVariables=function(){var a=this.stackFrames_.concat([this.currentFrame_]),f={};goog.array.forEachRight(a,function(a){goog.array.forEach(a,function(a){a.type=="declarator"?goog.array.forEach(a.declarators,function(e){goog.isDef(f[e.name.name])||(f[e.name.name]=a)},this):a.type=="parameter"&&(f[a.name]=a)},this)},this);return f};
glslunit.VariableScopeVisitor.prototype.beforeVisitScope=function(){this.stackFrames_.push(this.currentFrame_);this.currentFrame_=[];[].push.apply(this.currentFrame_,this.scopeParameters_);this.scopeParameters_=[]};glslunit.VariableScopeVisitor.prototype.afterVisitScope=function(a){this.scopeIdToFrame_[a.id]=this.currentFrame_;if(a==this.targetScope_)this.variablesInScope_=this.getCurrentScopeVariables();this.currentFrame_=this.stackFrames_.pop()};
glslunit.VariableScopeVisitor.prototype.beforeVisitRoot=glslunit.VariableScopeVisitor.prototype.beforeVisitScope;glslunit.VariableScopeVisitor.prototype.afterVisitPreprocessor=function(a){this.promoteIfdefVars_||this.afterVisitScope(a)};glslunit.VariableScopeVisitor.prototype.beforeVisitPreprocessor=function(a){this.promoteIfdefVars_||this.beforeVisitScope(a)};glslunit.VariableScopeVisitor.prototype.afterVisitRoot=glslunit.VariableScopeVisitor.prototype.afterVisitScope;
glslunit.VariableScopeVisitor.prototype.beforeVisitDeclarator=function(a){this.currentFrame_.push(a)};glslunit.VariableScopeVisitor.prototype.beforeVisitFunctionDeclaration=function(a){this.scopeParameters_=a.parameters};glslunit.VariableScopeVisitor.prototype.afterVisitFunctionDeclaration=function(){this.scopeParameters_=[]};glslunit.VariableScopeVisitor.getScopeToDeclarationMap=function(a){var f=new glslunit.VariableScopeVisitor;f.visitNode(a);return f.scopeIdToFrame_};
glslunit.VariableScopeVisitor.getVariablesInScope=function(a,f,e){f=new glslunit.VariableScopeVisitor(f,e);f.visitNode(a);return f.variablesInScope_};glslunit.Executor=function(a,f,e,g,h){this.context=a;this.sourceAst=f;this.variables=e;this.viewportHeight=g;this.viewportWidth=h;this.renameMap={}};glslunit.Executor.DecodeStatus={DISCARD:"discard",MISMATCH:"mismatch"};glslunit.Executor.TEST_VERTEX_COUNT=3;glslunit.Executor.testTriangleSource="attribute vec3 aTestTriangle;";glslunit.Executor.encodeFloatSource_="precision highp float;float upper_mask(float val, float n) {  float nShifted = exp2(n);  return fract(val/(nShifted))*nShifted;}vec4 encodeFloat(float f) {  const vec4 coding = vec4(1.0/255.0,                           255.0/256.0,                           65025.0/256.0,                           16581375.0/256.0);  vec4 result;  bool sign = f >= 0.0;  f = abs(f);  float expField = ceil(log2(max(f, 1e-32)));  f = f / exp2(expField);  result.r = ((float(sign) * 32.) + (upper_mask((expField + 16.), 5.)))     * 4. + 2.;  result.gba = vec3(f, f, f);  result = fract(result * coding);  result = floor(result * 255.0)/255.0;  return result;}";
glslunit.Executor.encodeFloatAST_=glslunit.glsl.parser.parse(glslunit.Executor.encodeFloatSource_);glslunit.Executor.decodeFloat=function(a){var f=256/255,e=Array(4);e[0]=a[0]>>2;e[1]=a[1]/255;e[2]=a[2]/255;e[3]=a[3]/255;var a=Number((e[0]&32)>0),g=Number(e[0]&31)-16,f=Number(e[1]*f/1+e[2]*f/255+e[3]*f/65025);return f==0&&a==0?glslunit.Executor.DecodeStatus.DISCARD:(-1+a*2)*Math.pow(2,g)*f};
glslunit.Executor.prototype.compileShader_=function(a,f){var e=this.context.createShader(f),g=glslunit.Generator.getSourceCode(a,"\n",true);this.context.shaderSource(e,g);this.context.compileShader(e);if(!this.context.getShaderParameter(e,this.context.COMPILE_STATUS))throw e=this.context.getShaderInfoLog(e),Error("Couldn't compile shader: "+e+"\n"+g);return e};
glslunit.Executor.prototype.setupShaderPrograms_=function(a,f){var e=this.compileShader_(a,this.context.VERTEX_SHADER),g=this.compileShader_(f,this.context.FRAGMENT_SHADER),h=this.context.createProgram();this.context.attachShader(h,e);this.context.attachShader(h,g);this.context.linkProgram(h);this.context.useProgram(h);return h};glslunit.Executor.addEncodeFunction_=function(a){return glslunit.SpliceTransformer.splice(a,a,"statements",0,0,glslunit.Executor.encodeFloatAST_.statements)};
glslunit.Executor.prototype.prepareAst=function(){var a=glslunit.glsl.parser.parse("void main()","function_prototype"),a=(new glslunit.FunctionRenameTransformer(a,"__testMain")).transformNode(this.sourceAst),f=a!=this.sourceAst,a=glslunit.Executor.addEncodeFunction_(a);return{testAst:a,foundMain:f}};
glslunit.Executor.prototype.extractValue=function(a,f){var e,g;try{var h=this.getVertexAst(a),i=this.getFragmentAst(a);e=this.setupShaderPrograms_(h,i);this.context.clearColor(0,0,0,0);this.context.enable(this.context.DEPTH_TEST);this.context.viewport(0,0,this.viewportWidth,this.viewportHeight);this.context.clear(this.context.COLOR_BUFFER_BIT|this.context.DEPTH_BUFFER_BIT);var o=glslunit.VariableScopeVisitor.getVariablesInScope(h,h,true),q=glslunit.VariableScopeVisitor.getVariablesInScope(i,i,true),
p;for(p in q)q[p].typeAttribute.qualifier=="uniform"&&(o[p]=q[p]);var z=0;goog.array.forEach(this.variables,function(a){a.setGlobalVariables(o,this.renameMap);a.getLocation(this.context,e)!=null&&(a.bufferData(this.context,e,glslunit.Executor.TEST_VERTEX_COUNT,z),a.getIsTexture()&&z++)},this);g=new glslunit.NumberShaderVariable("aTestTriangle",null);g.setGlobalVariables(o,this.renameMap);g.bufferAttribute(this.context,e,glslunit.Executor.TEST_VERTEX_COUNT,new Float32Array([-1,1,0,-1,-1,0,1,1,0]));
goog.array.forEach(this.variables,function(a){a.getLocation(this.context,e)!=null&&a.bindData(this.context,e)},this);g.bindData(this.context,e);this.context.drawArrays(this.context.TRIANGLE_STRIP,0,glslunit.Executor.TEST_VERTEX_COUNT);var s=[new Uint8Array(4),new Uint8Array(4),new Uint8Array(4)];this.context.readPixels(0,1,1,1,this.context.RGBA,this.context.UNSIGNED_BYTE,s[0]);this.context.readPixels(0,this.viewportHeight-1,1,1,this.context.RGBA,this.context.UNSIGNED_BYTE,s[1]);this.context.readPixels(this.viewportWidth-
2,this.viewportHeight-1,1,1,this.context.RGBA,this.context.UNSIGNED_BYTE,s[2]);var t=goog.array.equals(s[0],s[1])&&goog.array.equals(s[0],s[2]);return!goog.isDef(f)&&!t?glslunit.Executor.DecodeStatus.MISMATCH:glslunit.Executor.decodeFloat(s[f||0])}finally{goog.array.forEach(this.variables,function(a){a.cleanUp(this.context)},this),e&&this.context.deleteProgram(e),g&&g.cleanUp(this.context)}};glslunit.testing.Expectation=function(){this.testPassed=false};glslunit.testing.Expectation.prototype.getTestPassed=function(){return this.testPassed};glslunit.testing.DiscardExpectation=function(){glslunit.testing.Expectation.call(this)};goog.inherits(glslunit.testing.DiscardExpectation,glslunit.testing.Expectation);glslunit.testing.DiscardExpectation.prototype.run=function(a){var f=glslunit.glsl.parser.parse("vec4(0.,1.,0.,1.)","assignment_expression");this.testPassed=a.extractValue(f)==glslunit.Executor.DecodeStatus.DISCARD};glslunit.testing.DiscardExpectation.prototype.getFailureString=function(){return"Expected shader would discard but it didn't"};goog.string.format=function(a,f){var e=Array.prototype.slice.call(arguments),g=e.shift();if(typeof g=="undefined")throw Error("[goog.string.format] Template required");return g.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,f,g,q,p,z,s,t){if(z=="%")return"%";var w=e.shift();if(typeof w=="undefined")throw Error("[goog.string.format] Not enough arguments");arguments[0]=w;return goog.string.format.demuxes_[z].apply(null,arguments)})};goog.string.format.demuxes_={};
goog.string.format.demuxes_.s=function(a,f,e){if(isNaN(e)||e==""||a.length>=e)return a;f.indexOf("-",0)>-1?a+=goog.string.repeat(" ",e-a.length):a=goog.string.repeat(" ",e-a.length)+a;return a};
goog.string.format.demuxes_.f=function(a,f,e,g,h){g=a.toString();isNaN(h)||h==""||(g=a.toFixed(h));var i;i=a<0?"-":f.indexOf("+")>=0?"+":f.indexOf(" ")>=0?" ":"";a>=0&&(g=i+g);if(isNaN(e)||g.length>=e)return g;g=isNaN(h)?Math.abs(a).toString():Math.abs(a).toFixed(h);a=e-g.length-i.length;f.indexOf("-",0)>=0?g=i+g+goog.string.repeat(" ",a):(f=f.indexOf("0",0)>=0?"0":" ",g=i+goog.string.repeat(f,a)+g);return g};
goog.string.format.demuxes_.d=function(a,f,e,g,h,i,o,q){return goog.string.format.demuxes_.f(parseInt(a,10),f,e,g,0,i,o,q)};goog.string.format.demuxes_.i=goog.string.format.demuxes_.d;goog.string.format.demuxes_.u=goog.string.format.demuxes_.d;glslunit.NodeCollector=function(a){glslunit.ASTVisitor.call(this);this.collectedNodes_=[];this.filterFunction_=a};goog.inherits(glslunit.NodeCollector,glslunit.ASTVisitor);glslunit.NodeCollector.prototype.maybeCollectNode_=function(a){this.filterFunction_(a)&&this.collectedNodes_.push(a);this.genericVisitor(a)};glslunit.NodeCollector.prototype.getCollectedNodes=function(){return this.collectedNodes_};glslunit.NodeCollector.prototype.getVisitFunction=function(){return this.maybeCollectNode_};
glslunit.NodeCollector.collectNodes=function(a,f){var e=new glslunit.NodeCollector(f);e.visitNode(a);return e.getCollectedNodes()};glslunit.IdentifierRenameTransformer=function(a,f){glslunit.ASTTransformer.call(this);this.oldName_=a;this.newName_=f};goog.inherits(glslunit.IdentifierRenameTransformer,glslunit.ASTTransformer);glslunit.IdentifierRenameTransformer.prototype.transformIdentifier=function(a){if(a.name==this.oldName_)a=glslunit.ASTTransformer.cloneNode(a),a.name=this.newName_;return a};glslunit.IdentifierRenameTransformer.renameVariable=function(a,f,e){return(new glslunit.IdentifierRenameTransformer(f,e)).transformNode(a)};glslunit.QualifierTransformer=function(a,f){glslunit.ASTTransformer.call(this);this.oldQualifier_=a;this.newQualifier_=f;this.transformedList_=[]};goog.inherits(glslunit.QualifierTransformer,glslunit.ASTTransformer);glslunit.QualifierTransformer.prototype.transformType=function(a){if(a.qualifier==this.oldQualifier_)a=glslunit.ASTTransformer.cloneNode(a),a.qualifier=this.newQualifier_;return a};glslunit.FragmentExecutor=function(a,f,e,g,h){var i=f,o={};goog.array.forEach(["varying mediump vec4 gl_FragCoord;","varying bool gl_FrontFacing;","varying mediump vec2 gl_PointCoord;"],function(a){var a=glslunit.glsl.parser.parse(a,"global_declaration"),e=a.declarators[0].name.name,f="__"+e,g=glslunit.IdentifierRenameTransformer.renameVariable(i,e,f);g!=i&&(g=glslunit.SpliceTransformer.splice(g,g,"statements",0,0,[a]),g=glslunit.IdentifierRenameTransformer.renameVariable(g,e,f),o[e]=f);i=g});i=(new glslunit.QualifierTransformer("varying",
"uniform")).transformNode(i);glslunit.Executor.call(this,a,i,e,g,h);for(var q in o)this.renameMap[q]=o[q]};goog.inherits(glslunit.FragmentExecutor,glslunit.Executor);glslunit.FragmentExecutor.vertexSource_=glslunit.Executor.testTriangleSource+"void main(void) {  gl_Position = vec4(aTestTriangle, 1.);}";glslunit.FragmentExecutor.vertexAst_=glslunit.glsl.parser.parse(glslunit.FragmentExecutor.vertexSource_,"vertex_start");
glslunit.FragmentExecutor.prototype.getFragmentAst=function(a){var f=this.prepareAst(),e=f.testAst,a=goog.string.format("void main() {"+(f.foundMain?"  __testMain();":"")+"  gl_FragColor = encodeFloat(float(%s));}",glslunit.Generator.getSourceCode(a)),a=glslunit.glsl.parser.parse(a,"fragment_start");[].push.apply(e.statements,a.statements);return e};glslunit.FragmentExecutor.prototype.getVertexAst=function(){return glslunit.FragmentExecutor.vertexAst_};glslunit.testing.ComparisonTester=function(){this.operator_="";this.values_=[];this.epsilon_=0;this.vectorComparisonType_="all"};glslunit.testing.ComparisonTester.OperatorToFunction={"<":"lessThan","<=":"lessThanEqual",">":"greaterThan",">=":"greaterThanEqual","==":"equal","!=":"notEqual"};glslunit.testing.ComparisonTester.prototype.getValues=function(){return this.values_};glslunit.testing.ComparisonTester.prototype.getEpsilon=function(){return this.epsilon_};
glslunit.testing.ComparisonTester.prototype.getOperator=function(){return this.operator_};glslunit.testing.ComparisonTester.prototype.getEpsilonDirection_=function(){var a;switch(this.operator_){case "<":case "<=":a="-";break;case ">":case ">=":a="+"}return a};
glslunit.testing.ComparisonTester.prototype.getVectorTestSource_=function(a){var f="",f="vec"+this.values_.length,e=this.getEpsilonDirection_();e?f=goog.string.format("%s(%s(%s %s %s, %s(%s)))",this.vectorComparisonType_,glslunit.testing.ComparisonTester.OperatorToFunction[this.operator_],glslunit.Generator.getSourceCode(a),e,glslunit.Generator.formatFloat(this.epsilon_),f,this.values_.map(glslunit.Generator.formatFloat).join(",")):(f=goog.string.format("%s(lessThanEqual(abs(%s - %s(%s)), %s(%s)))",
this.vectorComparisonType_,glslunit.Generator.getSourceCode(a),f,this.values_.map(glslunit.Generator.formatFloat).join(","),f,goog.array.repeat(this.epsilon_,this.values_.length).map(glslunit.Generator.formatFloat).join(",")),this.operator_=="!="&&(f="!"+f));return f};
glslunit.testing.ComparisonTester.prototype.getScalarTestSource_=function(a){var f=this.getEpsilonDirection_();f?a=goog.string.format("%s %s %s %s %s",glslunit.Generator.getSourceCode(a),f,glslunit.Generator.formatFloat(this.epsilon_),this.operator_,glslunit.Generator.formatFloat(this.values_)):(a=goog.string.format("(abs(%s - %s) <= %s)",glslunit.Generator.getSourceCode(a),glslunit.Generator.formatFloat(this.values_),glslunit.Generator.formatFloat(this.epsilon_)),this.operator_=="!="&&(a="!"+a));
return a};glslunit.testing.ComparisonTester.prototype.getTestAstNode=function(a){a=goog.isArray(this.values_)?this.getVectorTestSource_(a):this.getScalarTestSource_(a);return glslunit.glsl.parser.parse(a,"assignment_expression")};glslunit.testing.ComparisonTester.prototype.setOperator_=function(a,f){this.operator_=a;this.values_=f;return this};glslunit.testing.ComparisonTester.prototype.all=function(){this.vectorComparisonType_="all";return this};
glslunit.testing.ComparisonTester.prototype.any=function(){this.vectorComparisonType_="any";return this};glslunit.testing.ComparisonTester.prototype.withEpsilonOf=function(a){this.epsilon_=Math.max(0,a);return this};glslunit.testing.ComparisonTester.prototype.lessThan=function(a){return this.setOperator_("<",a)};glslunit.testing.ComparisonTester.prototype.lessThanEqual=function(a){return this.setOperator_("<=",a)};
glslunit.testing.ComparisonTester.prototype.greaterThan=function(a){return this.setOperator_(">",a)};glslunit.testing.ComparisonTester.prototype.greaterThanEqual=function(a){return this.setOperator_(">=",a)};glslunit.testing.ComparisonTester.prototype.equal=function(a){return this.setOperator_("==",a)};glslunit.testing.ComparisonTester.prototype.notEqual=function(a){return this.setOperator_("!=",a)};glslunit.testing.ValueBeingTested=function(){};glslunit.testing.ValueBeingTested.prototype.getValueAst=function(){};glslunit.testing.ComparisonExpectation=function(a){glslunit.testing.Expectation.call(this);this.value_=a;this.test_=new glslunit.testing.ComparisonTester;this.actualValue_=[];this.extractedMismatch_=false};goog.inherits(glslunit.testing.ComparisonExpectation,glslunit.testing.Expectation);glslunit.testing.ComparisonExpectation.prototype.getTest=function(){return this.test_};
glslunit.testing.ComparisonExpectation.prototype.run=function(a){var f=this.value_.getValueAst(),f=a.extractValue(this.test_.getTestAstNode(f));this.testPassed=Math.round(f)==1;if(f==glslunit.Executor.DecodeStatus.MISMATCH)this.actualValue_=glslunit.Executor.DecodeStatus.MISMATCH;else if(!this.testPassed)this.actualValue_=this.extractActualValue_(a);if(this.actualValue_==glslunit.Executor.DecodeStatus.MISMATCH)this.actualValue_=this.extractMismatch_(a)};
glslunit.testing.ComparisonExpectation.prototype.extractMismatch_=function(a){this.extractedMismatch_=true;for(var f=[],e=0;e<glslunit.Executor.TEST_VERTEX_COUNT;e++)f.push(this.extractActualValue_(a,e));return f};
glslunit.testing.ComparisonExpectation.prototype.extractActualValue_=function(a,f){var e,g=this.value_.getValueAst(),h=this.test_.getValues();if(goog.isArray(h)){e=[];for(var g=glslunit.Generator.getSourceCode(g),i=0;i<h.length;i++){var o=glslunit.glsl.parser.parse(g+"["+i+"]","assignment_expression"),o=a.extractValue(o,f);if(o==glslunit.Executor.DecodeStatus.MISMATCH)return o;e.push(o)}}else e=a.extractValue(g,f);return e};
glslunit.testing.ComparisonExpectation.prototype.getFailureString=function(){var a=glslunit.Generator.getSourceCode(this.value_.getValueAst()),f=Math.round(Math.log(Math.max(0.1,this.test_.getEpsilon()))/Math.LN10),e=function(a){if(goog.isArray(a))return a.map(e);if(!goog.isNumber(a))return a;var h=Math.pow(10,-1*f);return Math.round(a*h)/h},a="Expected "+a+" "+this.test_.getOperator()+" "+this.test_.getValues()+" with allowable error of "+this.test_.getEpsilon();return this.extractedMismatch_?"There was a mismatch between values at each test vertex.  This should not happen and usually indicates a driver bug.\n"+
a+"\n"+this.actualValue_.map(function(a,f){return"\tVertex "+f+" had value "+e(a)}).join("\n"):a+", was "+e(this.actualValue_)};glslunit.VertexExecutor=function(a,f,e,g,h){glslunit.Executor.call(this,a,f,e,g,h)};goog.inherits(glslunit.VertexExecutor,glslunit.Executor);glslunit.VertexExecutor.resultColorSource_="varying vec4 vResultColor;";glslunit.VertexExecutor.resultColorAst_=glslunit.glsl.parser.parse(glslunit.VertexExecutor.resultColorSource_,"global_declaration");glslunit.VertexExecutor.fragmentSource_="precision highp float;"+glslunit.VertexExecutor.resultColorSource_+"void main(void) {  gl_FragColor = vResultColor;}";
glslunit.VertexExecutor.fragmentAst_=glslunit.glsl.parser.parse(glslunit.VertexExecutor.fragmentSource_,"fragment_start");
glslunit.VertexExecutor.prototype.getVertexAst=function(a){var f=this.prepareAst(),e=f.testAst,f=f.foundMain,e=glslunit.SpliceTransformer.splice(e,e,"statements",0,0,[glslunit.VertexExecutor.resultColorAst_]),a=goog.string.format(glslunit.Executor.testTriangleSource+"void main() {"+(f?"  __testMain();":"")+"  vResultColor = encodeFloat(float(%s));  gl_Position = vec4(aTestTriangle, 1.);}",glslunit.Generator.getSourceCode(a)),a=glslunit.glsl.parser.parse(a,"vertex_start");[].push.apply(e.statements,
a.statements);return e};glslunit.VertexExecutor.prototype.getFragmentAst=function(){return glslunit.VertexExecutor.fragmentAst_};glslunit.testing.NumericInputValue=function(a){this.shaderVariable_=a;this.bufferType_=null};glslunit.testing.NumericInputValue.prototype.bufferedAs=function(a){this.bufferType_=a;this.shaderVariable_.setBufferType(a)};glslunit.testing.NumericInputValue.prototype.getShaderVariable=function(){return this.shaderVariable_};glslunit.testing.IdentityInputValue=function(a){this.shaderVariable_=a};glslunit.testing.IdentityInputValue.prototype.getShaderVariable=function(){return this.shaderVariable_};glslunit.TextureShaderVariable=function(a,f,e,g){glslunit.ShaderVariable.call(this,a,true);this.height_=f;this.width_=e;this.data_=g;this.useMipmap_=false;this.parameters_=[];this.textureUnit_=this.texture_=null};goog.inherits(glslunit.TextureShaderVariable,glslunit.ShaderVariable);glslunit.TextureShaderVariable.prototype.addParameter=function(a,f,e){this.parameters_.push({name:a,value:f,isFloat:e})};glslunit.TextureShaderVariable.prototype.setUseMipmap=function(a){this.useMipmap_=a};
glslunit.TextureShaderVariable.prototype.bufferData=function(a,f,e,g){this.texture_=a.createTexture();this.textureUnit_=g;a.bindTexture(a.TEXTURE_2D,this.texture_);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.width_,this.height_,0,a.RGBA,a.UNSIGNED_BYTE,this.data_);goog.array.forEach(this.parameters_,function(e){(e.isFloat?a.texParameterf:a.texParameteri).apply(a,[a.TEXTURE_2D,e.name,e.value])},this);this.useMipmap_&&a.generateMipmap(a.TEXTURE_2D);a.bindTexture(a.TEXTURE_2D,null)};
glslunit.TextureShaderVariable.prototype.bindData=function(a,f){if(this.getTypeName()!="sampler2D")throw this.getName()+" was bound as a texture, but is a "+this.getTypeName();this.texture_&&this.textureUnit_!=null&&(a.activeTexture(a["TEXTURE"+this.textureUnit_]),a.bindTexture(a.TEXTURE_2D,this.texture_),a.uniform1i(this.getLocation(a,f),this.textureUnit_))};
glslunit.TextureShaderVariable.prototype.cleanUp=function(a){glslunit.TextureShaderVariable.superClass_.cleanUp.call(this,a);this.texture_&&a.deleteTexture(this.texture_)};glslunit.testing.TextureInputValue=function(a){this.shaderVariable_=a};glslunit.testing.TextureInputValue.prototype.texParameteri=function(a,f){this.shaderVariable_.addParameter(a,f,false);return this};glslunit.testing.TextureInputValue.prototype.texParameterf=function(a,f){this.shaderVariable_.addParameter(a,f,true);return this};glslunit.testing.TextureInputValue.prototype.withMipmap=function(){this.shaderVariable_.setUseMipmap(true);return this};
glslunit.testing.TextureInputValue.prototype.getShaderVariable=function(){return this.shaderVariable_};glslunit.UploadedTextureVariable=function(a,f){glslunit.ShaderVariable.call(this,a,true);this.texture_=f;this.textureUnit_=null};goog.inherits(glslunit.UploadedTextureVariable,glslunit.ShaderVariable);glslunit.UploadedTextureVariable.prototype.bufferData=function(a,f,e,g){this.textureUnit_=g};
glslunit.UploadedTextureVariable.prototype.bindData=function(a,f){this.texture_&&this.textureUnit_!=null&&(a.activeTexture(a.TEXTURE0+this.textureUnit_),a.bindTexture(a.TEXTURE_2D,this.texture_),a.uniform1i(this.getLocation(a,f),this.textureUnit_))};glslunit.UploadedTextureVariable.prototype.cleanUp=function(){};glslunit.testing.UntypedValue=function(a){this.variableName_=a;this.typedTestValue_=null};glslunit.testing.UntypedValue.prototype.asSingleColor=function(a){if(a.length!=4)throw"Error while creating a Single Color for "+this.variableName_+": Expected 4 components but found "+a.length+" components.";a=new glslunit.TextureShaderVariable(this.variableName_,1,1,new Uint8Array(a));return this.typedTestValue_=new glslunit.testing.TextureInputValue(a)};
glslunit.testing.UntypedValue.prototype.as2DTexture=function(a,f,e){var g=4*f*e;if(a.length!=g)throw"Error while creating a 2D Texture for "+this.variableName_+": Expected "+g+" components but found "+a.length+" components.";a=new glslunit.TextureShaderVariable(this.variableName_,f,e,new Uint8Array(a));return this.typedTestValue_=new glslunit.testing.TextureInputValue(a)};
glslunit.testing.UntypedValue.prototype.asUploadedTexture=function(a){a=new glslunit.UploadedTextureVariable(this.variableName_,a);this.typedTestValue_=new glslunit.testing.IdentityInputValue(a)};glslunit.testing.UntypedValue.prototype.asArray=function(a){a=new glslunit.NumberShaderVariable(this.variableName_,a);return this.typedTestValue_=new glslunit.testing.NumericInputValue(a)};glslunit.testing.UntypedValue.prototype.asNumber=function(a){return this.asArray([a])};
glslunit.testing.UntypedValue.prototype.asIdentityMatrix=function(){return this.asArray([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};glslunit.testing.UntypedValue.prototype.asBoolean=function(a){return this.asArray([Number(a)])};glslunit.testing.UntypedValue.prototype.getShaderVariable=function(){return this.typedTestValue_.shaderVariable_};glslunit.testing.GlobalValue=function(a){this.valueSource_=a};glslunit.testing.GlobalValue.prototype.getValueAst=function(){return glslunit.glsl.parser.parse(this.valueSource_,"assignment_expression")};glslunit.testing.TestCase=function(a,f,e,g,h,i,o){this.context_=a;this.viewportHeight_=f;this.viewportWidth_=e;this.testType_=g;this.sourceAst_=h;this.description_=i;this.testFn_=o;this.values_={};this.defines_=[];this.expectations_=[];this.testPassed_=false};glslunit.testing.TestCase.TestType={VERTEX:0,FRAGMENT:1};glslunit.testing.TestCase.prototype.getDescription=function(){return this.description_};glslunit.testing.TestCase.prototype.getTestPassed=function(){return this.testPassed_};
glslunit.testing.TestCase.prototype.getExpectations=function(){return this.expectations_};
glslunit.testing.TestCase.prototype.run=function(){window.define=goog.bind(function(a){this.defines_.push(a)},this);window.set=goog.bind(function(a){var e=new glslunit.testing.UntypedValue(a);return this.values_[a]=e},this);window.expect=goog.bind(function(a){a=new glslunit.testing.GlobalValue(a);a=new glslunit.testing.ComparisonExpectation(a);this.expectations_.push(a);return a.getTest()},this);if(this.testType_==glslunit.testing.TestCase.TestType.FRAGMENT)window.expectDiscard=goog.bind(function(){var a=
new glslunit.testing.DiscardExpectation;this.expectations_.push(a);return a},this);this.expectations_=[];this.values_=[];this.defines_=[];this.testFn_(this.context_);delete window.define;delete window.set;delete window.expect;delete window.expectDiscard;var a=[],f;for(f in this.values_)a.push(this.values_[f].getShaderVariable());f=this.sourceAst_;if(this.defines_.length>0){var e=this.defines_.map(function(a){return"#define "+a}).join("\n"),e=glslunit.glsl.parser.parse(e).statements;f=glslunit.SpliceTransformer.splice(f,
f,"statements",0,0,e)}var g=new (this.testType_==glslunit.testing.TestCase.TestType.FRAGMENT?glslunit.FragmentExecutor:glslunit.VertexExecutor)(this.context_,f,a,this.viewportHeight_,this.viewportWidth_);this.testPassed_=true;goog.array.forEach(this.expectations_,function(a){a.run(g);this.testPassed_=this.testPassed_&&a.getTestPassed()},this);return this.testPassed_};glslunit.testing.TestSuite=function(a,f,e,g,h,i,o){this.context_=a;this.viewportHeight_=f;this.viewportWidth_=e;this.testType_=g;this.sourceAst_=glslunit.glsl.parser.parse(i,g==glslunit.testing.TestCase.TestType.FRAGMENT?"fragment_start":"vertex_start");this.testCases_=[];this.suitePassed_=false;this.testSuiteFn_=o;this.description_=h};glslunit.testing.TestSuite.prototype.getDescription=function(){return this.description_};glslunit.testing.TestSuite.prototype.getSuitePassed=function(){return this.suitePassed_};
glslunit.testing.TestSuite.prototype.getTestCases=function(){return this.testCases_};
glslunit.testing.TestSuite.prototype.run=function(){window.testMain=goog.bind(function(a,f){this.testCases_.push(new glslunit.testing.TestCase(this.context_,this.viewportHeight_,this.viewportWidth_,this.testType_,this.sourceAst_,a,f))},this);this.testCases_=[];this.testSuiteFn_(this.context_);delete window.testMain;this.suitePassed_=true;goog.array.forEach(this.testCases_,function(a){a.run();this.suitePassed_=this.suitePassed_&&a.getTestPassed()},this);return this.suitePassed_};glslunit.testing.GlslJstdAdapter=function(){this.name="glslunit";this.testSuites_=[];this.canvas=null;window.vertexTestSuite=goog.bind(function(a,f,e){this.testSuites_.push(goog.bind(function(g){return new glslunit.testing.TestSuite(g,50,50,glslunit.testing.TestCase.TestType.VERTEX,a,f,e)},this))},this);window.fragmentTestSuite=goog.bind(function(a,f,e){this.testSuites_.push(goog.bind(function(g){return new glslunit.testing.TestSuite(g,50,50,glslunit.testing.TestCase.TestType.FRAGMENT,a,f,e)},this))},
this)};glslunit.testing.GlslJstdAdapter.GLSLUNIT_TYPE="GLSL Unit Test";glslunit.testing.GlslJstdAdapter.prototype.onTestsStart=function(){this.canvas=document.createElement("canvas");this.canvas.height=50;this.canvas.width=50;document.body.appendChild(this.canvas);this.gl=WebGLDebugUtils.makeDebugContext(this.canvas.getContext("experimental-webgl",{stencil:true,preserveDrawingBuffer:true}),function(a,f){throw WebGLDebugUtils.glEnumToString(a)+" was caused by call to "+f;})};
glslunit.testing.GlslJstdAdapter.prototype.runTestConfiguration=function(a,f){a.getTestCaseInfo().getType()==glslunit.testing.GlslJstdAdapter.GLSLUNIT_TYPE&&goog.array.forEach(this.testSuites_,function(a){var g,h,i=[],o=goog.now();try{g=a(this.gl),g.run()}catch(q){h="error",i.push(q.toString())}var p=goog.now(),z=function(a){f(new jstestdriver.TestResult(g.getDescription(),a,h,"",i.join("\n"),p-o))};h!="error"?goog.array.forEach(g.getTestCases(),function(a){i=[];goog.array.forEach(a.getExpectations(),
function(a,e){var f=a.getTestPassed()?"Passed":"Failed: "+a.getFailureString();i.push(goog.string.format("Expectation %d %s.",e,f))},this);h=a.getTestPassed()?"passed":"failed";z(a.getDescription())},this):z("Runtime")},this)};glslunit.testing.GlslJstdAdapter.prototype.onTestsFinish=function(){document.body.removeChild(this.canvas)};
glslunit.testing.GlslJstdAdapter.prototype.getTestRunsConfigurationFor=function(a,f,e){e.push(new jstestdriver.TestRunConfiguration(new jstestdriver.TestCaseInfo("GLSLUnit Tests",function(){},glslunit.testing.GlslJstdAdapter.GLSLUNIT_TYPE),[]));return true};jstestdriver.pluginRegistrar.register(new glslunit.testing.GlslJstdAdapter);
