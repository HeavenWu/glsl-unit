var COMPILED=true,goog=goog||{};goog.global=this;goog.DEBUG=true;goog.LOCALE="en";goog.provide=function(b){if(!COMPILED){if(goog.isProvided_(b))throw Error('Namespace "'+b+'" already declared.');delete goog.implicitNamespaces_[b];for(var f=b;f=f.substring(0,f.lastIndexOf("."));){if(goog.getObjectByName(f))break;goog.implicitNamespaces_[f]=true}}goog.exportPath_(b)};
goog.setTestOnly=function(b){if(COMPILED&&!goog.DEBUG)throw b=b||"",Error("Importing test-only code into non-debug environment"+b?": "+b:".");};if(!COMPILED)goog.isProvided_=function(b){return!goog.implicitNamespaces_[b]&&!!goog.getObjectByName(b)},goog.implicitNamespaces_={};goog.exportPath_=function(b,f,e){b=b.split(".");e=e||goog.global;!(b[0]in e)&&e.execScript&&e.execScript("var "+b[0]);for(var h;b.length&&(h=b.shift());)!b.length&&goog.isDef(f)?e[h]=f:e=e[h]?e[h]:e[h]={}};
goog.getObjectByName=function(b,f){for(var e=b.split("."),h=f||goog.global,j;j=e.shift();)if(goog.isDefAndNotNull(h[j]))h=h[j];else return null;return h};goog.globalize=function(b,f){var e=f||goog.global,h;for(h in b)e[h]=b[h]};
goog.addDependency=function(b,f,e){if(!COMPILED){for(var h,b=b.replace(/\\/g,"/"),j=goog.dependencies_,i=0;h=f[i];i++)j.nameToPath[h]=b,b in j.pathToNames||(j.pathToNames[b]={}),j.pathToNames[b][h]=true;for(h=0;f=e[h];h++)b in j.requires||(j.requires[b]={}),j.requires[b][f]=true}};goog.ENABLE_DEBUG_LOADER=true;
goog.require=function(b){if(!COMPILED&&!goog.isProvided_(b)){if(goog.ENABLE_DEBUG_LOADER){var f=goog.getPathFromDeps_(b);if(f){goog.included_[f]=true;goog.writeScripts_();return}}b="goog.require could not find: "+b;goog.global.console&&goog.global.console.error(b);throw Error(b);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(b){return b};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(b){b.getInstance=function(){return b.instance_||(b.instance_=new b)}};
if(!COMPILED&&goog.ENABLE_DEBUG_LOADER)goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var b=goog.global.document;return typeof b!="undefined"&&"write"in b},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var b=goog.global.document.getElementsByTagName("script"),f=b.length-1;f>=0;--f){var e=b[f].src,h=e.lastIndexOf("?"),
h=h==-1?e.length:h;if(e.substr(h-7,7)=="base.js"){goog.basePath=e.substr(0,h-7);break}}},goog.importScript_=function(b){var f=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[b]&&f(b)&&(goog.dependencies_.written[b]=true)},goog.writeScriptTag_=function(b){return goog.inHtmlDocument_()?(goog.global.document.write('<script type="text/javascript" src="'+b+'"><\/script>'),true):false},goog.writeScripts_=function(){function b(i){if(!(i in h.written)){if(!(i in h.visited)&&
(h.visited[i]=true,i in h.requires))for(var j in h.requires[i])if(!goog.isProvided_(j))if(j in h.nameToPath)b(h.nameToPath[j]);else throw Error("Undefined nameToPath for "+j);i in e||(e[i]=true,f.push(i))}}var f=[],e={},h=goog.dependencies_,j;for(j in goog.included_)h.written[j]||b(j);for(j=0;j<f.length;j++)if(f[j])goog.importScript_(goog.basePath+f[j]);else throw Error("Undefined script input");},goog.getPathFromDeps_=function(b){return b in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[b]:
null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js");
goog.typeOf=function(b){var f=typeof b;if(f=="object")if(b){if(b instanceof Array)return"array";else if(b instanceof Object)return f;var e=Object.prototype.toString.call(b);if(e=="[object Window]")return"object";if(e=="[object Array]"||typeof b.length=="number"&&typeof b.splice!="undefined"&&typeof b.propertyIsEnumerable!="undefined"&&!b.propertyIsEnumerable("splice"))return"array";if(e=="[object Function]"||typeof b.call!="undefined"&&typeof b.propertyIsEnumerable!="undefined"&&!b.propertyIsEnumerable("call"))return"function"}else return"null";
else if(f=="function"&&typeof b.call=="undefined")return"object";return f};goog.propertyIsEnumerableCustom_=function(b,f){if(f in b)for(var e in b)if(e==f&&Object.prototype.hasOwnProperty.call(b,f))return true;return false};goog.propertyIsEnumerable_=function(b,f){return b instanceof Object?Object.prototype.propertyIsEnumerable.call(b,f):goog.propertyIsEnumerableCustom_(b,f)};goog.isDef=function(b){return b!==void 0};goog.isNull=function(b){return b===null};
goog.isDefAndNotNull=function(b){return b!=null};goog.isArray=function(b){return goog.typeOf(b)=="array"};goog.isArrayLike=function(b){var f=goog.typeOf(b);return f=="array"||f=="object"&&typeof b.length=="number"};goog.isDateLike=function(b){return goog.isObject(b)&&typeof b.getFullYear=="function"};goog.isString=function(b){return typeof b=="string"};goog.isBoolean=function(b){return typeof b=="boolean"};goog.isNumber=function(b){return typeof b=="number"};
goog.isFunction=function(b){return goog.typeOf(b)=="function"};goog.isObject=function(b){b=goog.typeOf(b);return b=="object"||b=="array"||b=="function"};goog.getUid=function(b){return b[goog.UID_PROPERTY_]||(b[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.removeUid=function(b){"removeAttribute"in b&&b.removeAttribute(goog.UID_PROPERTY_);try{delete b[goog.UID_PROPERTY_]}catch(f){}};goog.UID_PROPERTY_="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36);goog.uidCounter_=0;
goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(b){var f=goog.typeOf(b);if(f=="object"||f=="array"){if(b.clone)return b.clone();var f=f=="array"?[]:{},e;for(e in b)f[e]=goog.cloneObject(b[e]);return f}return b};goog.bindNative_=function(b,f,e){return b.call.apply(b.bind,arguments)};
goog.bindJs_=function(b,f,e){if(!b)throw Error();if(arguments.length>2){var h=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,h);return b.apply(f,e)}}else return function(){return b.apply(f,arguments)}};goog.bind=function(b,f,e){goog.bind=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bindNative_:goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(b,f){var e=Array.prototype.slice.call(arguments,1);return function(){var f=Array.prototype.slice.call(arguments);f.unshift.apply(f,e);return b.apply(this,f)}};goog.mixin=function(b,f){for(var e in f)b[e]=f[e]};goog.now=Date.now||function(){return+new Date};
goog.globalEval=function(b){if(goog.global.execScript)goog.global.execScript(b,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null)goog.global.eval("var _et_ = 1;"),typeof goog.global._et_!="undefined"?(delete goog.global._et_,goog.evalWorksForGlobals_=true):goog.evalWorksForGlobals_=false;if(goog.evalWorksForGlobals_)goog.global.eval(b);else{var f=goog.global.document,e=f.createElement("script");e.type="text/javascript";e.defer=false;e.appendChild(f.createTextNode(b));f.body.appendChild(e);
f.body.removeChild(e)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(b,f){var e=function(b){return goog.cssNameMapping_[b]||b},h;h=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?e:function(b){for(var b=b.split("-"),f=[],h=0;h<b.length;h++)f.push(e(b[h]));return f.join("-")}:function(b){return b};return f?b+"-"+h(f):h(b)};goog.setCssNameMapping=function(b,f){goog.cssNameMapping_=b;goog.cssNameMappingStyle_=f};
if(!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING)goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING;goog.getMsg=function(b,f){var e=f||{},h;for(h in e)var j=(""+e[h]).replace(/\$/g,"$$$$"),b=b.replace(RegExp("\\{\\$"+h+"\\}","gi"),j);return b};goog.exportSymbol=function(b,f,e){goog.exportPath_(b,f,e)};goog.exportProperty=function(b,f,e){b[f]=e};goog.inherits=function(b,f){function e(){}e.prototype=f.prototype;b.superClass_=f.prototype;b.prototype=new e;b.prototype.constructor=b};
goog.base=function(b,f,e){var h=arguments.callee.caller;if(h.superClass_)return h.superClass_.constructor.apply(b,Array.prototype.slice.call(arguments,1));for(var j=Array.prototype.slice.call(arguments,2),i=false,p=b.constructor;p;p=p.superClass_&&p.superClass_.constructor)if(p.prototype[f]===h)i=true;else if(i)return p.prototype[f].apply(b,j);if(b[f]===h)return b.constructor.prototype[f].apply(b,j);else throw Error("goog.base called from a method of one name to a method of a different name");};
goog.scope=function(b){b.call(goog.global)};var glslunit={utils:{}};glslunit.utils.getFunctionSuffix=function(b){return glslunit.utils.toTitleOrCamelCase(b,true)};glslunit.utils.toTitleOrCamelCase=function(b,f){var e=b.split("_").map(function(b){return b.slice(0,1).toUpperCase()+b.slice(1).toLowerCase()}).join("");f||(e=e.slice(0,1).toLowerCase()+e.slice(1));return e};goog.debug={};goog.debug.Error=function(b){this.stack=Error().stack||"";if(b)this.message=String(b)};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.string={};goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(b,f){return b.lastIndexOf(f,0)==0};goog.string.endsWith=function(b,f){var e=b.length-f.length;return e>=0&&b.indexOf(f,e)==e};goog.string.caseInsensitiveStartsWith=function(b,f){return goog.string.caseInsensitiveCompare(f,b.substr(0,f.length))==0};goog.string.caseInsensitiveEndsWith=function(b,f){return goog.string.caseInsensitiveCompare(f,b.substr(b.length-f.length,f.length))==0};
goog.string.subs=function(b,f){for(var e=1;e<arguments.length;e++)var h=String(arguments[e]).replace(/\$/g,"$$$$"),b=b.replace(/\%s/,h);return b};goog.string.collapseWhitespace=function(b){return b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmpty=function(b){return/^[\s\xa0]*$/.test(b)};goog.string.isEmptySafe=function(b){return goog.string.isEmpty(goog.string.makeSafe(b))};goog.string.isBreakingWhitespace=function(b){return!/[^\t\n\r ]/.test(b)};goog.string.isAlpha=function(b){return!/[^a-zA-Z]/.test(b)};
goog.string.isNumeric=function(b){return!/[^0-9]/.test(b)};goog.string.isAlphaNumeric=function(b){return!/[^a-zA-Z0-9]/.test(b)};goog.string.isSpace=function(b){return b==" "};goog.string.isUnicodeChar=function(b){return b.length==1&&b>=" "&&b<="~"||b>="\u0080"&&b<="\ufffd"};goog.string.stripNewlines=function(b){return b.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(b){return b.replace(/(\r\n|\r|\n)/g,"\n")};
goog.string.normalizeWhitespace=function(b){return b.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(b){return b.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(b){return b.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};goog.string.trimLeft=function(b){return b.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(b){return b.replace(/[\s\xa0]+$/,"")};
goog.string.caseInsensitiveCompare=function(b,f){var e=String(b).toLowerCase(),h=String(f).toLowerCase();return e<h?-1:e==h?0:1};goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g;
goog.string.numerateCompare=function(b,f){if(b==f)return 0;if(!b)return-1;if(!f)return 1;for(var e=b.toLowerCase().match(goog.string.numerateCompareRegExp_),h=f.toLowerCase().match(goog.string.numerateCompareRegExp_),j=Math.min(e.length,h.length),i=0;i<j;i++){var p=e[i],q=h[i];if(p!=q){e=parseInt(p,10);return!isNaN(e)&&(h=parseInt(q,10),!isNaN(h)&&e-h)?e-h:p<q?-1:1}}return e.length!=h.length?e.length-h.length:b<f?-1:1};goog.string.encodeUriRegExp_=/^[a-zA-Z0-9\-_.!~*'()]*$/;
goog.string.urlEncode=function(b){b=String(b);return!goog.string.encodeUriRegExp_.test(b)?encodeURIComponent(b):b};goog.string.urlDecode=function(b){return decodeURIComponent(b.replace(/\+/g," "))};goog.string.newLineToBr=function(b,f){return b.replace(/(\r\n|\r|\n)/g,f?"<br />":"<br>")};
goog.string.htmlEscape=function(b,f){if(f)return b.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;");else{if(!goog.string.allRe_.test(b))return b;b.indexOf("&")!=-1&&(b=b.replace(goog.string.amperRe_,"&amp;"));b.indexOf("<")!=-1&&(b=b.replace(goog.string.ltRe_,"&lt;"));b.indexOf(">")!=-1&&(b=b.replace(goog.string.gtRe_,"&gt;"));b.indexOf('"')!=-1&&(b=b.replace(goog.string.quotRe_,"&quot;"));return b}};
goog.string.amperRe_=/&/g;goog.string.ltRe_=/</g;goog.string.gtRe_=/>/g;goog.string.quotRe_=/\"/g;goog.string.allRe_=/[&<>\"]/;goog.string.unescapeEntities=function(b){return goog.string.contains(b,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(b):goog.string.unescapePureXmlEntities_(b):b};
goog.string.unescapeEntitiesUsingDom_=function(b){var f={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},e=document.createElement("div");return b.replace(goog.string.HTML_ENTITY_PATTERN_,function(b,j){var i=f[b];if(i)return i;if(j.charAt(0)=="#"){var p=Number("0"+j.substr(1));isNaN(p)||(i=String.fromCharCode(p))}if(!i)e.innerHTML=b+" ",i=e.firstChild.nodeValue.slice(0,-1);return f[b]=i})};
goog.string.unescapePureXmlEntities_=function(b){return b.replace(/&([^;]+);/g,function(b,e){switch(e){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if(e.charAt(0)=="#"){var h=Number("0"+e.substr(1));if(!isNaN(h))return String.fromCharCode(h)}return b}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(b,f){return goog.string.newLineToBr(b.replace(/  /g," &#160;"),f)};
goog.string.stripQuotes=function(b,f){for(var e=f.length,h=0;h<e;h++){var j=e==1?f:f.charAt(h);if(b.charAt(0)==j&&b.charAt(b.length-1)==j)return b.substring(1,b.length-1)}return b};goog.string.truncate=function(b,f,e){e&&(b=goog.string.unescapeEntities(b));b.length>f&&(b=b.substring(0,f-3)+"...");e&&(b=goog.string.htmlEscape(b));return b};
goog.string.truncateMiddle=function(b,f,e,h){e&&(b=goog.string.unescapeEntities(b));if(h&&b.length>f){h>f&&(h=f);var j=b.length-h,b=b.substring(0,f-h)+"..."+b.substring(j)}else b.length>f&&(h=Math.floor(f/2),j=b.length-h,h+=f%2,b=b.substring(0,h)+"..."+b.substring(j));e&&(b=goog.string.htmlEscape(b));return b};goog.string.specialEscapeChars_={"\x00":"\\0","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\x0B",'"':'\\"',"\\":"\\\\"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(b){b=String(b);if(b.quote)return b.quote();else{for(var f=['"'],e=0;e<b.length;e++){var h=b.charAt(e),j=h.charCodeAt(0);f[e+1]=goog.string.specialEscapeChars_[h]||(j>31&&j<127?h:goog.string.escapeChar(h))}f.push('"');return f.join("")}};goog.string.escapeString=function(b){for(var f=[],e=0;e<b.length;e++)f[e]=goog.string.escapeChar(b.charAt(e));return f.join("")};
goog.string.escapeChar=function(b){if(b in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[b];if(b in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[b]=goog.string.specialEscapeChars_[b];var f=b,e=b.charCodeAt(0);if(e>31&&e<127)f=b;else{if(e<256){if(f="\\x",e<16||e>256)f+="0"}else f="\\u",e<4096&&(f+="0");f+=e.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[b]=f};goog.string.toMap=function(b){for(var f={},e=0;e<b.length;e++)f[b.charAt(e)]=true;return f};
goog.string.contains=function(b,f){return b.indexOf(f)!=-1};goog.string.countOf=function(b,f){return b&&f?b.split(f).length-1:0};goog.string.removeAt=function(b,f,e){var h=b;f>=0&&f<b.length&&e>0&&(h=b.substr(0,f)+b.substr(f+e,b.length-f-e));return h};goog.string.remove=function(b,f){var e=RegExp(goog.string.regExpEscape(f),"");return b.replace(e,"")};goog.string.removeAll=function(b,f){var e=RegExp(goog.string.regExpEscape(f),"g");return b.replace(e,"")};
goog.string.regExpEscape=function(b){return String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=function(b,f){return Array(f+1).join(b)};goog.string.padNumber=function(b,f,e){b=goog.isDef(e)?b.toFixed(e):String(b);e=b.indexOf(".");if(e==-1)e=b.length;return goog.string.repeat("0",Math.max(0,f-e))+b};goog.string.makeSafe=function(b){return b==null?"":String(b)};goog.string.buildString=function(b){return Array.prototype.join.call(arguments,"")};
goog.string.getRandomString=function(){return Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^goog.now()).toString(36)};
goog.string.compareVersions=function(b,f){for(var e=0,h=goog.string.trim(String(b)).split("."),j=goog.string.trim(String(f)).split("."),i=Math.max(h.length,j.length),p=0;e==0&&p<i;p++){var q=h[p]||"",o=j[p]||"",A=RegExp("(\\d*)(\\D*)","g"),H=RegExp("(\\d*)(\\D*)","g");do{var B=A.exec(q)||["","",""],s=H.exec(o)||["","",""];if(B[0].length==0&&s[0].length==0)break;var e=B[1].length==0?0:parseInt(B[1],10),w=s[1].length==0?0:parseInt(s[1],10),e=goog.string.compareElements_(e,w)||goog.string.compareElements_(B[2].length==
0,s[2].length==0)||goog.string.compareElements_(B[2],s[2])}while(e==0)}return e};goog.string.compareElements_=function(b,f){if(b<f)return-1;else if(b>f)return 1;return 0};goog.string.HASHCODE_MAX_=4294967296;goog.string.hashCode=function(b){for(var f=0,e=0;e<b.length;++e)f=31*f+b.charCodeAt(e),f%=goog.string.HASHCODE_MAX_;return f};goog.string.uniqueStringCounter_=Math.random()*2147483648|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(b){var f=Number(b);return f==0&&goog.string.isEmpty(b)?NaN:f};goog.string.toCamelCaseCache_={};goog.string.toCamelCase=function(b){return goog.string.toCamelCaseCache_[b]||(goog.string.toCamelCaseCache_[b]=String(b).replace(/\-([a-z])/g,function(b,e){return e.toUpperCase()}))};goog.string.toSelectorCaseCache_={};goog.string.toSelectorCase=function(b){return goog.string.toSelectorCaseCache_[b]||(goog.string.toSelectorCaseCache_[b]=String(b).replace(/([A-Z])/g,"-$1").toLowerCase())};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(b,f){f.unshift(b);goog.debug.Error.call(this,goog.string.subs.apply(null,f));f.shift();this.messagePattern=b};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.doAssertFailure_=function(b,f,e,h){var j="Assertion failed";if(e){j+=": "+e;var i=h}else b&&(j+=": "+b,i=f);throw new goog.asserts.AssertionError(""+j,i||[]);};
goog.asserts.assert=function(b,f,e){goog.asserts.ENABLE_ASSERTS&&!b&&goog.asserts.doAssertFailure_("",null,f,Array.prototype.slice.call(arguments,2));return b};goog.asserts.fail=function(b,f){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(b?": "+b:""),Array.prototype.slice.call(arguments,1));};
goog.asserts.assertNumber=function(b,f,e){goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(b)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(b),b],f,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertString=function(b,f,e){goog.asserts.ENABLE_ASSERTS&&!goog.isString(b)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(b),b],f,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertFunction=function(b,f,e){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(b)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(b),b],f,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertObject=function(b,f,e){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(b)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(b),b],f,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertArray=function(b,f,e){goog.asserts.ENABLE_ASSERTS&&!goog.isArray(b)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(b),b],f,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertBoolean=function(b,f,e){goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(b)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(b),b],f,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertInstanceof=function(b,f,e,h){goog.asserts.ENABLE_ASSERTS&&!(b instanceof f)&&goog.asserts.doAssertFailure_("instanceof check failed.",null,e,Array.prototype.slice.call(arguments,3))};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=true;goog.array.peek=function(b){return b[b.length-1]};goog.array.ARRAY_PROTOTYPE_=Array.prototype;
goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.indexOf?function(b,f,e){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.indexOf.call(b,f,e)}:function(b,f,e){e=e==null?0:e<0?Math.max(0,b.length+e):e;if(goog.isString(b))return!goog.isString(f)||f.length!=1?-1:b.indexOf(f,e);for(;e<b.length;e++)if(e in b&&b[e]===f)return e;return-1};
goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.lastIndexOf?function(b,f,e){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(b,f,e==null?b.length-1:e)}:function(b,f,e){e=e==null?b.length-1:e;e<0&&(e=Math.max(0,b.length+e));if(goog.isString(b))return!goog.isString(f)||f.length!=1?-1:b.lastIndexOf(f,e);for(;e>=0;e--)if(e in b&&b[e]===f)return e;return-1};
goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.forEach?function(b,f,e){goog.asserts.assert(b.length!=null);goog.array.ARRAY_PROTOTYPE_.forEach.call(b,f,e)}:function(b,f,e){for(var h=b.length,j=goog.isString(b)?b.split(""):b,i=0;i<h;i++)i in j&&f.call(e,j[i],i,b)};goog.array.forEachRight=function(b,f,e){var h=b.length,j=goog.isString(b)?b.split(""):b;for(h-=1;h>=0;--h)h in j&&f.call(e,j[h],h,b)};
goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.filter?function(b,f,e){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.filter.call(b,f,e)}:function(b,f,e){for(var h=b.length,j=[],i=0,p=goog.isString(b)?b.split(""):b,q=0;q<h;q++)if(q in p){var o=p[q];f.call(e,o,q,b)&&(j[i++]=o)}return j};
goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.map?function(b,f,e){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.map.call(b,f,e)}:function(b,f,e){for(var h=b.length,j=Array(h),i=goog.isString(b)?b.split(""):b,p=0;p<h;p++)p in i&&(j[p]=f.call(e,i[p],p,b));return j};goog.array.reduce=function(b,f,e,h){if(b.reduce)return h?b.reduce(goog.bind(f,h),e):b.reduce(f,e);var j=e;goog.array.forEach(b,function(e,p){j=f.call(h,j,e,p,b)});return j};
goog.array.reduceRight=function(b,f,e,h){if(b.reduceRight)return h?b.reduceRight(goog.bind(f,h),e):b.reduceRight(f,e);var j=e;goog.array.forEachRight(b,function(e,p){j=f.call(h,j,e,p,b)});return j};
goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.some?function(b,f,e){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.some.call(b,f,e)}:function(b,f,e){for(var h=b.length,j=goog.isString(b)?b.split(""):b,i=0;i<h;i++)if(i in j&&f.call(e,j[i],i,b))return true;return false};
goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.every?function(b,f,e){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.every.call(b,f,e)}:function(b,f,e){for(var h=b.length,j=goog.isString(b)?b.split(""):b,i=0;i<h;i++)if(i in j&&!f.call(e,j[i],i,b))return false;return true};goog.array.find=function(b,f,e){f=goog.array.findIndex(b,f,e);return f<0?null:goog.isString(b)?b.charAt(f):b[f]};
goog.array.findIndex=function(b,f,e){for(var h=b.length,j=goog.isString(b)?b.split(""):b,i=0;i<h;i++)if(i in j&&f.call(e,j[i],i,b))return i;return-1};goog.array.findRight=function(b,f,e){f=goog.array.findIndexRight(b,f,e);return f<0?null:goog.isString(b)?b.charAt(f):b[f]};goog.array.findIndexRight=function(b,f,e){var h=b.length,j=goog.isString(b)?b.split(""):b;for(h-=1;h>=0;h--)if(h in j&&f.call(e,j[h],h,b))return h;return-1};goog.array.contains=function(b,f){return goog.array.indexOf(b,f)>=0};
goog.array.isEmpty=function(b){return b.length==0};goog.array.clear=function(b){if(!goog.isArray(b))for(var f=b.length-1;f>=0;f--)delete b[f];b.length=0};goog.array.insert=function(b,f){goog.array.contains(b,f)||b.push(f)};goog.array.insertAt=function(b,f,e){goog.array.splice(b,e,0,f)};goog.array.insertArrayAt=function(b,f,e){goog.partial(goog.array.splice,b,e,0).apply(null,f)};
goog.array.insertBefore=function(b,f,e){var h;arguments.length==2||(h=goog.array.indexOf(b,e))<0?b.push(f):goog.array.insertAt(b,f,h)};goog.array.remove=function(b,f){var e=goog.array.indexOf(b,f),h;(h=e>=0)&&goog.array.removeAt(b,e);return h};goog.array.removeAt=function(b,f){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.splice.call(b,f,1).length==1};goog.array.removeIf=function(b,f,e){f=goog.array.findIndex(b,f,e);return f>=0?(goog.array.removeAt(b,f),true):false};
goog.array.concat=function(b){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.clone=function(b){if(goog.isArray(b))return goog.array.concat(b);else{for(var f=[],e=0,h=b.length;e<h;e++)f[e]=b[e];return f}};goog.array.toArray=function(b){return goog.isArray(b)?goog.array.concat(b):goog.array.clone(b)};
goog.array.extend=function(b,f){for(var e=1;e<arguments.length;e++){var h=arguments[e],j;if(goog.isArray(h)||(j=goog.isArrayLike(h))&&h.hasOwnProperty("callee"))b.push.apply(b,h);else if(j)for(var i=b.length,p=h.length,q=0;q<p;q++)b[i+q]=h[q];else b.push(h)}};goog.array.splice=function(b,f,e,h){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.splice.apply(b,goog.array.slice(arguments,1))};
goog.array.slice=function(b,f,e){goog.asserts.assert(b.length!=null);return arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(b,f):goog.array.ARRAY_PROTOTYPE_.slice.call(b,f,e)};goog.array.removeDuplicates=function(b,f){for(var e=f||b,h={},j=0,i=0;i<b.length;){var p=b[i++],q=goog.isObject(p)?"o"+goog.getUid(p):(typeof p).charAt(0)+p;Object.prototype.hasOwnProperty.call(h,q)||(h[q]=true,e[j++]=p)}e.length=j};
goog.array.binarySearch=function(b,f,e){return goog.array.binarySearch_(b,e||goog.array.defaultCompare,false,f)};goog.array.binarySelect=function(b,f,e){return goog.array.binarySearch_(b,f,true,void 0,e)};goog.array.binarySearch_=function(b,f,e,h,j){for(var i=0,p=b.length,q;i<p;){var o=i+p>>1,A;A=e?f.call(j,b[o],o,b):f(h,b[o]);A>0?i=o+1:(p=o,q=!A)}return q?i:~i};goog.array.sort=function(b,f){goog.asserts.assert(b.length!=null);goog.array.ARRAY_PROTOTYPE_.sort.call(b,f||goog.array.defaultCompare)};
goog.array.stableSort=function(b,f){for(var e=0;e<b.length;e++)b[e]={index:e,value:b[e]};var h=f||goog.array.defaultCompare;goog.array.sort(b,function(b,f){return h(b.value,f.value)||b.index-f.index});for(e=0;e<b.length;e++)b[e]=b[e].value};goog.array.sortObjectsByKey=function(b,f,e){var h=e||goog.array.defaultCompare;goog.array.sort(b,function(b,e){return h(b[f],e[f])})};
goog.array.isSorted=function(b,f,e){for(var f=f||goog.array.defaultCompare,h=1;h<b.length;h++){var j=f(b[h-1],b[h]);if(j>0||j==0&&e)return false}return true};goog.array.equals=function(b,f,e){if(!goog.isArrayLike(b)||!goog.isArrayLike(f)||b.length!=f.length)return false;for(var h=b.length,e=e||goog.array.defaultCompareEquality,j=0;j<h;j++)if(!e(b[j],f[j]))return false;return true};goog.array.compare=function(b,f,e){return goog.array.equals(b,f,e)};
goog.array.compare3=function(b,f,e){for(var e=e||goog.array.defaultCompare,h=Math.min(b.length,f.length),j=0;j<h;j++){var i=e(b[j],f[j]);if(i!=0)return i}return goog.array.defaultCompare(b.length,f.length)};goog.array.defaultCompare=function(b,f){return b>f?1:b<f?-1:0};goog.array.defaultCompareEquality=function(b,f){return b===f};goog.array.binaryInsert=function(b,f,e){e=goog.array.binarySearch(b,f,e);return e<0?(goog.array.insertAt(b,f,-(e+1)),true):false};
goog.array.binaryRemove=function(b,f,e){f=goog.array.binarySearch(b,f,e);return f>=0?goog.array.removeAt(b,f):false};goog.array.bucket=function(b,f){for(var e={},h=0;h<b.length;h++){var j=b[h],i=f(j,h,b);goog.isDef(i)&&(e[i]||(e[i]=[])).push(j)}return e};goog.array.repeat=function(b,f){for(var e=[],h=0;h<f;h++)e[h]=b;return e};goog.array.flatten=function(b){for(var f=[],e=0;e<arguments.length;e++){var h=arguments[e];goog.isArray(h)?f.push.apply(f,goog.array.flatten.apply(null,h)):f.push(h)}return f};
goog.array.rotate=function(b,f){goog.asserts.assert(b.length!=null);b.length&&(f%=b.length,f>0?goog.array.ARRAY_PROTOTYPE_.unshift.apply(b,b.splice(-f,f)):f<0&&goog.array.ARRAY_PROTOTYPE_.push.apply(b,b.splice(0,-f)));return b};goog.array.zip=function(b){if(!arguments.length)return[];for(var f=[],e=0;;e++){for(var h=[],j=0;j<arguments.length;j++){var i=arguments[j];if(e>=i.length)return f;h.push(i[e])}f.push(h)}};
goog.array.shuffle=function(b,f){for(var e=f||Math.random,h=b.length-1;h>0;h--){var j=Math.floor(e()*(h+1)),i=b[h];b[h]=b[j];b[j]=i}};glslunit.ASTVisitor=function(){};glslunit.ASTVisitor.prototype.getBeforeVisitFunction=function(b){return this["beforeVisit"+glslunit.utils.getFunctionSuffix(b.type)]};glslunit.ASTVisitor.prototype.getAfterVisitFunction=function(b){return this["afterVisit"+glslunit.utils.getFunctionSuffix(b.type)]};glslunit.ASTVisitor.prototype.getVisitFunction=function(b){return this["visit"+glslunit.utils.getFunctionSuffix(b.type)]};
glslunit.ASTVisitor.prototype.visitNode=function(b){if(b&&b.type){var f=this.getBeforeVisitFunction(b);f&&f.apply(this,[b]);(f=this.getVisitFunction(b))?f.apply(this,[b]):this.genericVisitor(b);(f=this.getAfterVisitFunction(b))&&f.apply(this,[b])}};glslunit.ASTVisitor.prototype.visitList=function(b){goog.array.forEach(b,function(b){this.visitNode(b)},this)};
glslunit.ASTVisitor.prototype.genericVisitor=function(b){for(var f in b){var e=b[f];goog.isArray(e)?this.visitList(e):goog.isObject(e)&&e.type&&this.visitNode(e)}};glslunit.Generator=function(b,f){glslunit.ASTVisitor.call(this);this.newline_str_=b||"\n";this.debug_=!!f;this.sourceCode_="";this.currentIndent_=0};goog.inherits(glslunit.Generator,glslunit.ASTVisitor);glslunit.Generator.INDENT_STR_="  ";glslunit.Generator.EvaluationOrder_={LTR:0,RTL:1,NA:2};glslunit.Generator.OperationEvaluation_=function(b,f,e,h){this.precedence=b;this.evaluationOrder=f||glslunit.Generator.EvaluationOrder_.LTR;this.associative=!!e;this.maxOperands=h||2};
glslunit.Generator.ORDER_OF_OPERATIONS_={function_call:new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),identifier:new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),"float":new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),"int":new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),bool:new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),
postfix:new glslunit.Generator.OperationEvaluation_(1,glslunit.Generator.EvaluationOrder_.LTR,false,1),unary:new glslunit.Generator.OperationEvaluation_(2,glslunit.Generator.EvaluationOrder_.RTL,false,1),"*":new glslunit.Generator.OperationEvaluation_(3,glslunit.Generator.EvaluationOrder_.LTR,true),"/":new glslunit.Generator.OperationEvaluation_(3),"%":new glslunit.Generator.OperationEvaluation_(3),"+":new glslunit.Generator.OperationEvaluation_(4,glslunit.Generator.EvaluationOrder_.LTR,true),"-":new glslunit.Generator.OperationEvaluation_(4),
"<<":new glslunit.Generator.OperationEvaluation_(5),">>":new glslunit.Generator.OperationEvaluation_(5),"<":new glslunit.Generator.OperationEvaluation_(6),">":new glslunit.Generator.OperationEvaluation_(6),"<=":new glslunit.Generator.OperationEvaluation_(6),">=":new glslunit.Generator.OperationEvaluation_(6),"==":new glslunit.Generator.OperationEvaluation_(7),"!=":new glslunit.Generator.OperationEvaluation_(7),"&":new glslunit.Generator.OperationEvaluation_(8,glslunit.Generator.EvaluationOrder_.LTR,
true),"^":new glslunit.Generator.OperationEvaluation_(9,glslunit.Generator.EvaluationOrder_.LTR,true),"|":new glslunit.Generator.OperationEvaluation_(10,glslunit.Generator.EvaluationOrder_.LTR,true),"&&":new glslunit.Generator.OperationEvaluation_(11,glslunit.Generator.EvaluationOrder_.LTR,true),"^^":new glslunit.Generator.OperationEvaluation_(12,glslunit.Generator.EvaluationOrder_.LTR,true),"||":new glslunit.Generator.OperationEvaluation_(13,glslunit.Generator.EvaluationOrder_.LTR,true),ternary:new glslunit.Generator.OperationEvaluation_(14,
glslunit.Generator.EvaluationOrder_.RTL,false,3),"=":new glslunit.Generator.OperationEvaluation_(15),"-=":new glslunit.Generator.OperationEvaluation_(15),"+=":new glslunit.Generator.OperationEvaluation_(15),"*=":new glslunit.Generator.OperationEvaluation_(15),"/=":new glslunit.Generator.OperationEvaluation_(15),"%=":new glslunit.Generator.OperationEvaluation_(15),"<<=":new glslunit.Generator.OperationEvaluation_(15),">>=":new glslunit.Generator.OperationEvaluation_(15),"&=":new glslunit.Generator.OperationEvaluation_(15),
"^=":new glslunit.Generator.OperationEvaluation_(15),"|=":new glslunit.Generator.OperationEvaluation_(15)};glslunit.Generator.getNodePrecedence_=function(b){return glslunit.Generator.ORDER_OF_OPERATIONS_[glslunit.Generator.getNodeOperator_(b)]};glslunit.Generator.getNodeOperator_=function(b){return b.type=="binary"?b.operator.operator:b.type};glslunit.Generator.getSourceCode=function(b,f,e){f=new glslunit.Generator(f,e);f.visitNode(b);return f.sourceCode_};
glslunit.Generator.prototype.checkAndAdd=function(b,f,e){return f?b+f+e:""};glslunit.Generator.prototype.addNodesWithJoin_=function(b,f){for(var e=0;e<b.length;e++)e!=0&&(this.sourceCode_+=f),this.visitNode(b[e])};glslunit.Generator.prototype.maybePrintNewline_=function(){this.debug_&&(this.sourceCode_+=this.newline_str_+Array(this.currentIndent_+1).join(glslunit.Generator.INDENT_STR_))};
glslunit.Generator.prototype.maybeUnindent_=function(){if(this.debug_&&this.sourceCode_.slice(-1*glslunit.Generator.INDENT_STR_.length)==glslunit.Generator.INDENT_STR_)this.sourceCode_=this.sourceCode_.slice(0,-1*glslunit.Generator.INDENT_STR_.length)};
glslunit.Generator.prototype.visitStructDefinition=function(b){this.sourceCode_+=this.checkAndAdd("",b.qualifier," ");this.sourceCode_+="struct";this.sourceCode_+=this.checkAndAdd(" ",b.name,"");this.sourceCode_+="{";this.currentIndent_++;this.addNodesWithJoin_(b.members,"");this.currentIndent_--;this.maybeUnindent_();this.sourceCode_+="}";b.declarators&&this.addNodesWithJoin_(b.declarators,",");this.sourceCode_+=";";this.maybePrintNewline_()};
glslunit.Generator.prototype.visitScope=function(b){this.sourceCode_+="{";this.currentIndent_++;this.maybePrintNewline_();this.addNodesWithJoin_(b.statements,"");this.currentIndent_--;this.maybeUnindent_();this.sourceCode_+="}";this.maybePrintNewline_()};glslunit.Generator.prototype.visitPrecision=function(b){this.sourceCode_+="precision "+b.precision+" "+b.typeName+";";this.maybePrintNewline_()};
glslunit.Generator.prototype.visitInvariant=function(b){this.sourceCode_+="invariant ";this.addNodesWithJoin_(b.identifiers,",");this.sourceCode_+=";";this.maybePrintNewline_()};
glslunit.Generator.prototype.visitParameter=function(b){this.sourceCode_+=this.checkAndAdd("",b.typeQualifier," ");this.sourceCode_+=this.checkAndAdd("",b.parameterQualifier," ");this.sourceCode_+=this.checkAndAdd("",b.precision," ");this.sourceCode_+=b.type_name+" "+b.name;b.arraySize&&(this.sourceCode_+="[",this.visitNode(b.arraySize),this.sourceCode_+="]")};
glslunit.Generator.prototype.generateFunctionPrototype_=function(b){this.visitNode(b.returnType);this.sourceCode_+=" "+b.name+"(";this.addNodesWithJoin_(b.parameters,",");this.sourceCode_+=")"};glslunit.Generator.prototype.visitFunctionPrototype=function(b){this.generateFunctionPrototype_(b);this.sourceCode_+=";";this.maybePrintNewline_()};glslunit.Generator.prototype.visitFunctionDeclaration=function(b){this.generateFunctionPrototype_(b);this.visitNode(b.body)};
glslunit.Generator.prototype.visitPreprocessor=function(b){var f=this.sourceCode_.slice(-1*this.newline_str_.length);f&&f!=this.newline_str_&&(this.sourceCode_+=this.newline_str_);this.sourceCode_+=b.directive;this.sourceCode_+=this.checkAndAdd(" ",b.value,"");this.sourceCode_+=this.newline_str_;b.guarded_statements&&(this.addNodesWithJoin_(b.guarded_statements,""),b.elseBody&&this.visitNode(b.elseBody),b.directive.slice(0,3)=="#if"&&(f=this.sourceCode_.slice(-1*this.newline_str_.length),f!=this.newline_str_&&
(this.sourceCode_+=this.newline_str_),this.sourceCode_+="#endif"+this.newline_str_))};glslunit.Generator.prototype.generateWhile_=function(b){this.sourceCode_+="while(";this.visitNode(b.condition);this.sourceCode_+=")"};glslunit.Generator.prototype.visitDoStatement=function(b){this.sourceCode_+="do";b.body.type!="scope"&&(this.sourceCode_+=" ");this.visitNode(b.body);this.generateWhile_(b)};glslunit.Generator.prototype.visitWhileStatement=function(b){this.generateWhile_(b);this.visitNode(b.body)};
glslunit.Generator.prototype.visitForStatement=function(b){this.sourceCode_+="for(";this.visitNode(b.initializer);this.visitNode(b.condition);this.sourceCode_+=";";this.visitNode(b.increment);this.sourceCode_+=")";this.visitNode(b.body)};glslunit.Generator.prototype.visitIfStatement=function(b){this.sourceCode_+="if(";this.visitNode(b.condition);this.sourceCode_+=")";this.visitNode(b.body);b.elseBody&&(this.sourceCode_+="else",b.elseBody.type!="scope"&&(this.sourceCode_+=" "),this.visitNode(b.elseBody))};
glslunit.Generator.prototype.visitDeclaratorItem=function(b){this.visitNode(b.name);b.isArray&&(this.sourceCode_+="[",b.arraySize&&this.visitNode(b.arraySize),this.sourceCode_+="]");b.initializer&&(this.sourceCode_+="=",this.visitNode(b.initializer))};glslunit.Generator.prototype.visitDeclarator=function(b){this.visitNode(b.typeAttribute);this.sourceCode_+=" ";this.addNodesWithJoin_(b.declarators,",");this.sourceCode_+=";";this.maybePrintNewline_()};
glslunit.Generator.prototype.visitType=function(b){this.sourceCode_+=this.checkAndAdd("",b.qualifier," ");this.sourceCode_+=this.checkAndAdd("",b.precision," ");this.sourceCode_+=b.name};glslunit.Generator.prototype.visitExpression=function(b){this.visitNode(b.expression);this.sourceCode_+=";";this.maybePrintNewline_()};glslunit.Generator.prototype.visitJump=function(b){this.sourceCode_+=b.type;b.value&&(this.sourceCode_+=" ",this.visitNode(b.value));this.sourceCode_+=";";this.maybePrintNewline_()};
glslunit.Generator.prototype.visitReturn=glslunit.Generator.prototype.visitJump;glslunit.Generator.prototype.visitBreak=glslunit.Generator.prototype.visitJump;glslunit.Generator.prototype.visitDiscard=glslunit.Generator.prototype.visitJump;glslunit.Generator.prototype.visitContinue=glslunit.Generator.prototype.visitJump;
glslunit.Generator.prototype.visitUnary=function(b){this.sourceCode_.slice(-1)==b.operator.operator&&(this.sourceCode_+=" ");this.visitNode(b.operator);this.maybeParenthizeNode_(b.expression,b,0)};glslunit.Generator.prototype.visitPostfix=function(b){this.maybeParenthizeNode_(b.expression,b,0);this.visitNode(b.operator)};glslunit.Generator.prototype.visitOperator=function(b){this.sourceCode_+=b.operator};glslunit.Generator.prototype.visitFieldSelector=function(b){this.sourceCode_+="."+b.selection};
glslunit.Generator.prototype.visitAccessor=function(b){this.sourceCode_+="[";this.visitNode(b.index);this.sourceCode_+="]"};glslunit.Generator.prototype.visitFunctionCall=function(b){this.sourceCode_+=b.function_name+"(";this.addNodesWithJoin_(b.parameters,",");this.sourceCode_+=")"};glslunit.Generator.prototype.visitIdentifier=function(b){this.sourceCode_+=b.name};
glslunit.Generator.formatFloat=function(b){if(b==0)return"0.";var f=(""+b).toLowerCase().replace("+","").replace(/^0*/g,"");if(f.indexOf("e")!=-1)return f;f.indexOf(".")==-1&&(f+=".");var f=f.replace(/0*$/g,""),e=Math.abs(b),h=Math.floor(Math.log(e)/Math.LN10),b=(b<0?"-":"")+e/Math.pow(10,h)+"e"+h;return f.length<=b.length?f:b};glslunit.Generator.formatInt=function(b){var f=b.toString(10),b=(b<0?"-":"")+"0x"+Math.abs(b).toString(16).toLowerCase();return f.length<=b.length?f:b};
glslunit.Generator.prototype.visitFloat=function(b){this.sourceCode_+=glslunit.Generator.formatFloat(b.value)};glslunit.Generator.prototype.visitValue=function(b){this.sourceCode_+=b.value};glslunit.Generator.prototype.visitInt=function(b){this.sourceCode_+=glslunit.Generator.formatInt(b.value)};glslunit.Generator.prototype.visitBool=glslunit.Generator.prototype.visitValue;
glslunit.Generator.prototype.visitBinary=function(b){this.maybeParenthizeNode_(b.left,b,0);this.visitNode(b.operator);this.maybeParenthizeNode_(b.right,b,1)};glslunit.Generator.prototype.visitTernary=function(b){this.maybeParenthizeNode_(b.condition,b,0);this.sourceCode_+="?";this.maybeParenthizeNode_(b.is_true,b,1);this.sourceCode_+=":";this.maybeParenthizeNode_(b.is_false,b,2)};
glslunit.Generator.prototype.maybeParenthizeNode_=function(b,f,e){var h=glslunit.Generator.getNodePrecedence_(b),j=glslunit.Generator.getNodePrecedence_(f),i=false;h.precedence>j.precedence?i=true:h.precedence==j.precedence?(i=glslunit.Generator.getNodeOperator_(b),f=glslunit.Generator.getNodeOperator_(f),i=j.evaluationOrder==glslunit.Generator.EvaluationOrder_.LTR&&e==0||j.evaluationOrder==glslunit.Generator.EvaluationOrder_.RTL&&e==j.maxOperands-1?false:i==f&&h.associative?false:true):i=false;i&&
(this.sourceCode_+="(");this.visitNode(b);i&&(this.sourceCode_+=")")};glslunit.compiler={};glslunit.compiler.ShaderMode=function(){this.preprocessorName="";this.options=[]};glslunit.compiler.ShaderAttributeEntry=function(){this.originalName=this.shortName="";this.sourceSize=this.sourceOffset=this.variableSize=0};glslunit.compiler.ShaderUniformEntry=function(){this.type=this.originalName=this.shortName=""};
glslunit.compiler.ShaderProgram=function(){this.namespace=this.superClass=this.template=this.className="";this.fragmentAst={};this.vertexAst={};this.originalFragmentSource=this.originalVertexSource="";this.prettyPrint=false;this.defineMap=null;this.attributeMap={};this.uniformMap={};this.shaderModes=[];this.jsRequires=[];this.jsConsts=[];this.templateProperties={}};
glslunit.compiler.ShaderProgram.prototype.getVertexSource=function(b){return glslunit.Generator.getSourceCode(this.vertexAst,b||"\\n",this.prettyPrint)};glslunit.compiler.ShaderProgram.prototype.getFragmentSource=function(b){return glslunit.Generator.getSourceCode(this.fragmentAst,b||"\\n",this.prettyPrint)};glslunit.compiler.ShaderProgram.prototype.getOriginalFragmentSource=function(b){return this.originalFragmentSource.replace(/\n/g,b||"\\n")};
glslunit.compiler.ShaderProgram.prototype.getOriginalVertexSource=function(b){return this.originalVertexSource.replace(/\n/g,b||"\\n")};glslunit.compiler.ShaderProgram.prototype.getAttributes=function(){var b=[],f;for(f in this.attributeMap)b.push(this.attributeMap[f]);b[b.length-1].last=true;return b};glslunit.compiler.ShaderProgram.prototype.getUniforms=function(){var b=[],f;for(f in this.uniformMap)b.push(this.uniformMap[f]);b[b.length-1].last=true;return b};
glslunit.compiler.ShaderProgram.prototype.defaultUniformsAndAttributes=function(){var b={},f;for(f in this.attributeMap){var e=this.attributeMap[f];b[e.shortName]=e}var h={},j;for(j in this.uniformMap)f=this.uniformMap[j],h[f.shortName]=f;j=glslunit.NodeCollector.collectNodes(this.vertexAst,function(b){return b.type=="declarator"&&(b.typeAttribute.qualifier=="attribute"||b.typeAttribute.qualifier=="uniform")});goog.array.forEach(j,function(f){goog.array.forEach(f.declarators,function(e){var e=e.name.name,
j=f.typeAttribute.name;if(f.typeAttribute.qualifier=="attribute"){var o=b[e];if(!o)o=new glslunit.compiler.ShaderAttributeEntry,o.shortName=e,o.originalName=e,j=parseInt(j.slice(3,4),10),o.variableSize=isNaN(j)?1:j,this.attributeMap[e]=o}else if(o=h[e],!o)o=new glslunit.compiler.ShaderUniformEntry,o.shortName=e,o.originalName=e,o.type=j,this.uniformMap[e]=o},this)},this)};glslunit.compiler.CompilerStep=function(){};glslunit.compiler.CompilerStep.prototype.getName=function(){};glslunit.compiler.CompilerStep.prototype.getDependencies=function(){};glslunit.compiler.CompilerStep.prototype.performStep=function(){};glslunit.compiler.Compiler=function(b){this.phaseToSteps_={};this.shaderProgram_=b;this.stepOutputs_={};this.registeredSteps_={};goog.array.forEach(glslunit.compiler.Compiler.CompilerPhase.PHASE_ORDER_,function(b){this.phaseToSteps_[b]=[]},this)};glslunit.compiler.Compiler.CompilerPhase={OPTIMIZATION:0,MINIFICATION:1};glslunit.compiler.Compiler.CompilerPhase.PHASE_ORDER_=[glslunit.compiler.Compiler.CompilerPhase.OPTIMIZATION,glslunit.compiler.Compiler.CompilerPhase.MINIFICATION];
glslunit.compiler.Compiler.prototype.registerStep=function(b,f){this.registeredSteps_[f.getName()]=f;this.phaseToSteps_[b].push(f)};glslunit.compiler.Compiler.prototype.compileProgram=function(){goog.array.forEach(glslunit.compiler.Compiler.CompilerPhase.PHASE_ORDER_,function(b){goog.array.forEach(this.phaseToSteps_[b],function(b){this.runStep_(b,[])},this)},this);return this.shaderProgram_};
glslunit.compiler.Compiler.prototype.runStep_=function(b,f){var e=b.getName(),h=f.concat(e);if(f.indexOf(e)!=-1)throw"Circular dependcy in compiler steps.  "+h.join("->");e in this.stepOutputs_||(goog.array.forEach(b.getDependencies(),function(b){b in this.registeredSteps_&&this.runStep_(this.registeredSteps_[b],h)},this),this.stepOutputs_[e]=b.performStep(this.stepOutputs_,this.shaderProgram_))};goog.object={};goog.object.forEach=function(b,f,e){for(var h in b)f.call(e,b[h],h,b)};goog.object.filter=function(b,f,e){var h={},j;for(j in b)f.call(e,b[j],j,b)&&(h[j]=b[j]);return h};goog.object.map=function(b,f,e){var h={},j;for(j in b)h[j]=f.call(e,b[j],j,b);return h};goog.object.some=function(b,f,e){for(var h in b)if(f.call(e,b[h],h,b))return true;return false};goog.object.every=function(b,f,e){for(var h in b)if(!f.call(e,b[h],h,b))return false;return true};
goog.object.getCount=function(b){var f=0,e;for(e in b)f++;return f};goog.object.getAnyKey=function(b){for(var f in b)return f};goog.object.getAnyValue=function(b){for(var f in b)return b[f]};goog.object.contains=function(b,f){return goog.object.containsValue(b,f)};goog.object.getValues=function(b){var f=[],e=0,h;for(h in b)f[e++]=b[h];return f};goog.object.getKeys=function(b){var f=[],e=0,h;for(h in b)f[e++]=h;return f};
goog.object.getValueByKeys=function(b,f){for(var e=goog.isArrayLike(f),h=e?f:arguments,e=e?0:1;e<h.length;e++)if(b=b[h[e]],!goog.isDef(b))break;return b};goog.object.containsKey=function(b,f){return f in b};goog.object.containsValue=function(b,f){for(var e in b)if(b[e]==f)return true;return false};goog.object.findKey=function(b,f,e){for(var h in b)if(f.call(e,b[h],h,b))return h};goog.object.findValue=function(b,f,e){return(f=goog.object.findKey(b,f,e))&&b[f]};
goog.object.isEmpty=function(b){for(var f in b)return false;return true};goog.object.clear=function(b){for(var f in b)delete b[f]};goog.object.remove=function(b,f){var e;(e=f in b)&&delete b[f];return e};goog.object.add=function(b,f,e){if(f in b)throw Error('The object already contains the key "'+f+'"');goog.object.set(b,f,e)};goog.object.get=function(b,f,e){return f in b?b[f]:e};goog.object.set=function(b,f,e){b[f]=e};goog.object.setIfUndefined=function(b,f,e){return f in b?b[f]:b[f]=e};
goog.object.clone=function(b){var f={},e;for(e in b)f[e]=b[e];return f};goog.object.unsafeClone=function(b){var f=goog.typeOf(b);if(f=="object"||f=="array"){if(b.clone)return b.clone();var f=f=="array"?[]:{},e;for(e in b)f[e]=goog.object.unsafeClone(b[e]);return f}return b};goog.object.transpose=function(b){var f={},e;for(e in b)f[b[e]]=e;return f};goog.object.PROTOTYPE_FIELDS_="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
goog.object.extend=function(b,f){for(var e,h,j=1;j<arguments.length;j++){h=arguments[j];for(e in h)b[e]=h[e];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)e=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(h,e)&&(b[e]=h[e])}};
goog.object.create=function(b){var f=arguments.length;if(f==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(f%2)throw Error("Uneven number of arguments");for(var e={},h=0;h<f;h+=2)e[arguments[h]]=arguments[h+1];return e};goog.object.createSet=function(b){var f=arguments.length;if(f==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var e={},h=0;h<f;h++)e[arguments[h]]=true;return e};glslunit.ASTTransformer=function(){this.mixed_in_visitors_=[]};glslunit.ASTTransformer.nextId_=-1;glslunit.ASTTransformer.getNextId=function(){return glslunit.ASTTransformer.nextId_--};glslunit.ASTTransformer.cloneNode=function(b){b=goog.object.clone(b);b.id=glslunit.ASTTransformer.getNextId();return b};glslunit.ASTTransformer.prototype.mixinVisitor=function(b){this.mixed_in_visitors_.push(b)};glslunit.ASTTransformer.prototype.getTransformFunction=function(b){return this["transform"+glslunit.utils.getFunctionSuffix(b.type)]};
glslunit.ASTTransformer.prototype.mixinVisitFunctions_=function(b,f,e){var h=this[f+glslunit.utils.getFunctionSuffix(b.type)];return goog.bind(function(b){goog.array.forEach(this.mixed_in_visitors_,function(f){var h=e(f).apply(f,[b]);h&&h.apply(f,[b])});h&&h.apply(this,[b])},this)};glslunit.ASTTransformer.prototype.getBeforeTransformFunction=function(b){return this.mixinVisitFunctions_(b,"beforeTransform",function(b){return b.getBeforeVisitFunction})};
glslunit.ASTTransformer.prototype.getAfterTransformFunction=function(b){return this.mixinVisitFunctions_(b,"afterTransform",function(b){return b.getAfterVisitFunction})};
glslunit.ASTTransformer.prototype.transformNode=function(b){var f=false,e=this.getBeforeTransformFunction(b);e&&e.apply(this,[b]);var e=glslunit.ASTTransformer.cloneNode(b),h;for(h in b){var j=b[h];if(goog.isArray(j)){e[h]=[];for(var i=0;i<j.length;i++){var p=j[i],q=this.transformNode(p);q!=p&&(f=true);q!=null&&Array.prototype.push.apply(e[h],goog.isArray(q)?q:[q])}}else j.type&&(q=this.transformNode(j),q!=j&&(f=true,q!=null?e[h]=q:delete e[h]))}h=this.getTransformFunction(b);e=f?e:b;h&&(e=h.apply(this,
[e,b]));(f=this.getAfterTransformFunction(b))&&f.apply(this,[b,e]);return e};glslunit.CallGraphVisitor=function(){glslunit.ASTVisitor.call(this);this.callGraph_={};this.callGraph_[glslunit.CallGraphVisitor.ROOT_NAME]=[];this.currentFunctionName_=glslunit.CallGraphVisitor.ROOT_NAME};goog.inherits(glslunit.CallGraphVisitor,glslunit.ASTVisitor);glslunit.CallGraphVisitor.ROOT_NAME="#";glslunit.CallGraphVisitor.prototype.beforeVisitFunctionDeclaration=function(b){b.name in this.callGraph_||(this.callGraph_[b.name]=[]);this.currentFunctionName_=b.name};
glslunit.CallGraphVisitor.prototype.afterVisitFunctionDeclaration=function(){this.currentFunctionName_=glslunit.CallGraphVisitor.ROOT_NAME};glslunit.CallGraphVisitor.prototype.visitFunctionCall=function(b){this.callGraph_[this.currentFunctionName_].push(b.function_name);this.genericVisitor(b)};glslunit.CallGraphVisitor.getCallGraph=function(b){var f=new glslunit.CallGraphVisitor;f.visitNode(b);return f.callGraph_};glslunit.compiler.BraceReducer=function(){glslunit.ASTTransformer.call(this)};goog.inherits(glslunit.compiler.BraceReducer,glslunit.ASTTransformer);glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_=function(b,f){var e=b[f],h=b;e&&e.type=="scope"&&e.statements.length==1&&(h=glslunit.ASTTransformer.cloneNode(b),h[f]=e.statements[0]);return h};
glslunit.compiler.BraceReducer.prototype.transformIfStatement=function(b){b=glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"body");return glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"elseBody")};glslunit.compiler.BraceReducer.prototype.transformWhileStatement=function(b){return glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"body")};
glslunit.compiler.BraceReducer.prototype.transformDoStatement=function(b){return glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"body")};glslunit.compiler.BraceReducer.prototype.transformForStatement=function(b){return glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"body")};glslunit.compiler.BraceReducer.NAME="BraceReducer";glslunit.compiler.BraceReducer.prototype.getName=function(){return glslunit.compiler.BraceReducer.NAME};
glslunit.compiler.BraceReducer.prototype.getDependencies=function(){return[]};glslunit.compiler.BraceReducer.prototype.performStep=function(b,f){var e=new glslunit.compiler.BraceReducer,h=new glslunit.compiler.BraceReducer;f.vertexAst=e.transformNode(f.vertexAst);f.fragmentAst=h.transformNode(f.fragmentAst);return[]};glslunit.compiler.DeadFunctionRemover=function(){glslunit.ASTTransformer.call(this);this.functionAlive_={}};goog.inherits(glslunit.compiler.DeadFunctionRemover,glslunit.ASTTransformer);glslunit.compiler.DeadFunctionRemover.prototype.beforeTransformRoot=function(b){b=glslunit.CallGraphVisitor.getCallGraph(b);this.functionAlive_={};for(var f in b)this.functionAlive_[f]=false;this.markAlive_("main",b);this.markAlive_(glslunit.CallGraphVisitor.ROOT_NAME,b)};
glslunit.compiler.DeadFunctionRemover.prototype.markAlive_=function(b,f){b in this.functionAlive_&&!this.functionAlive_[b]&&(this.functionAlive_[b]=true,goog.array.forEach(f[b],function(b){this.markAlive_(b,f)},this))};glslunit.compiler.DeadFunctionRemover.prototype.transformFunctionDeclaration=function(b){return this.functionAlive_[b.name]?b:null};glslunit.compiler.DeadFunctionRemover.prototype.transformFunctionPrototype=glslunit.compiler.DeadFunctionRemover.prototype.transformFunctionDeclaration;
glslunit.compiler.DeadFunctionRemover.NAME="DeadFunctionRemover";glslunit.compiler.DeadFunctionRemover.prototype.getName=function(){return glslunit.compiler.DeadFunctionRemover.NAME};glslunit.compiler.DeadFunctionRemover.prototype.getDependencies=function(){return[]};
glslunit.compiler.DeadFunctionRemover.prototype.performStep=function(b,f){var e=new glslunit.compiler.DeadFunctionRemover,h=new glslunit.compiler.DeadFunctionRemover;f.vertexAst=e.transformNode(f.vertexAst);f.fragmentAst=h.transformNode(f.fragmentAst);return[]};glslunit.compiler.NameGenerator=function(){this.renameMap_={};this.usedKeys_={};this.nextNameIndex=0};glslunit.compiler.NameGenerator.leadingCharacters_="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";glslunit.compiler.NameGenerator.trailingCharacters_=glslunit.compiler.NameGenerator.leadingCharacters_+"1234567890";
glslunit.compiler.NameGenerator.getShortName=function(b){for(var f=glslunit.compiler.NameGenerator.leadingCharacters_.length,e=glslunit.compiler.NameGenerator.trailingCharacters_.length,h=glslunit.compiler.NameGenerator.leadingCharacters_[b%f],b=Math.floor(b/f);b>0;)b-=1,h+=glslunit.compiler.NameGenerator.trailingCharacters_[b%e],b=Math.floor(b/e);return h};glslunit.compiler.NameGenerator.getShortDef=function(b){return"_"+glslunit.compiler.NameGenerator.getShortName(b)+"_"};
glslunit.compiler.NameGenerator.prototype.shortenSymbol=function(b){if(this.renameMap_[b])return this.renameMap_[b];for(var f=null;!f||f in this.usedKeys_;)f=glslunit.compiler.NameGenerator.getShortName(this.nextNameIndex++);this.usedKeys_[f]=true;return this.renameMap_[b]=f};glslunit.compiler.NameGenerator.prototype.getShortSymbol=function(b){return this.renameMap_[b]||b};glslunit.compiler.NameGenerator.prototype.getNextNameIndex=function(){return this.nextNameIndex};
glslunit.compiler.NameGenerator.prototype.clone=function(){var b=new glslunit.compiler.NameGenerator;b.renameMap_=goog.object.clone(this.renameMap_);b.usedKeys_=goog.object.clone(this.usedKeys_);b.nextNameIndex=this.nextNameIndex;return b};glslunit.NodeCollector=function(b){glslunit.ASTVisitor.call(this);this.collectedNodes_=[];this.nodeStack_=[];this.filterFunction_=b};goog.inherits(glslunit.NodeCollector,glslunit.ASTVisitor);glslunit.NodeCollector.prototype.maybeCollectNode_=function(b){this.filterFunction_(b,this.nodeStack_.slice(0,-1))&&this.collectedNodes_.push(b);this.genericVisitor(b)};glslunit.NodeCollector.prototype.getCollectedNodes=function(){return this.collectedNodes_};
glslunit.NodeCollector.prototype.getBeforeVisitFunction=function(){return goog.bind(Array.prototype.push,this.nodeStack_)};glslunit.NodeCollector.prototype.getAfterVisitFunction=function(){return goog.bind(Array.prototype.pop,this.nodeStack_)};glslunit.NodeCollector.prototype.getVisitFunction=function(){return this.maybeCollectNode_};glslunit.NodeCollector.collectNodes=function(b,f){var e=new glslunit.NodeCollector(f);e.visitNode(b);return e.getCollectedNodes()};glslunit.compiler.Utils=function(){};glslunit.compiler.Utils.getStructDeclarations=function(b){var b=glslunit.NodeCollector.collectNodes(b,function(b,f){return b.type=="declarator"&&f.slice(-1)[0].type=="struct_definition"}),f=[];goog.array.forEach(b,function(b){f[b.id]=true});return f};glslunit.VariableScopeVisitor=function(b,f){glslunit.ASTVisitor.call(this);this.targetScope_=b||null;this.promoteIfdefVars_=!!f;this.variablesInScope_={};this.stackFrames_=[];this.currentFrame_=[];this.scopeIdToFrame_={};this.scopeParameters_=[]};goog.inherits(glslunit.VariableScopeVisitor,glslunit.ASTVisitor);
glslunit.VariableScopeVisitor.prototype.getCurrentScopeVariables=function(){var b=this.stackFrames_.concat([this.currentFrame_]),f={};goog.array.forEachRight(b,function(b){goog.array.forEach(b,function(b){b.type=="declarator"?goog.array.forEach(b.declarators,function(e){goog.isDef(f[e.name.name])||(f[e.name.name]=b)},this):b.type=="parameter"&&(f[b.name]=b)},this)},this);return f};
glslunit.VariableScopeVisitor.prototype.beforeVisitScope=function(){this.stackFrames_.push(this.currentFrame_);this.currentFrame_=[];[].push.apply(this.currentFrame_,this.scopeParameters_);this.scopeParameters_=[]};glslunit.VariableScopeVisitor.prototype.afterVisitScope=function(b){this.scopeIdToFrame_[b.id]=this.currentFrame_;if(b==this.targetScope_)this.variablesInScope_=this.getCurrentScopeVariables();this.currentFrame_=this.stackFrames_.pop()};
glslunit.VariableScopeVisitor.prototype.beforeVisitRoot=glslunit.VariableScopeVisitor.prototype.beforeVisitScope;glslunit.VariableScopeVisitor.prototype.afterVisitPreprocessor=function(b){this.promoteIfdefVars_||this.afterVisitScope(b)};glslunit.VariableScopeVisitor.prototype.beforeVisitPreprocessor=function(b){this.promoteIfdefVars_||this.beforeVisitScope(b)};glslunit.VariableScopeVisitor.prototype.afterVisitRoot=glslunit.VariableScopeVisitor.prototype.afterVisitScope;
glslunit.VariableScopeVisitor.prototype.beforeVisitDeclarator=function(b){this.currentFrame_.push(b)};glslunit.VariableScopeVisitor.prototype.beforeVisitFunctionDeclaration=function(b){this.scopeParameters_=b.parameters};glslunit.VariableScopeVisitor.prototype.afterVisitFunctionDeclaration=function(){this.scopeParameters_=[]};glslunit.VariableScopeVisitor.getScopeToDeclarationMap=function(b){var f=new glslunit.VariableScopeVisitor;f.visitNode(b);return f.scopeIdToFrame_};
glslunit.VariableScopeVisitor.getVariablesInScope=function(b,f,e){f=new glslunit.VariableScopeVisitor(f,e);f.visitNode(b);return f.variablesInScope_};glslunit.compiler.VariableMinifier=function(b){glslunit.ASTTransformer.call(this);this.variableStack_=[];this.currentNameGenerator_=new glslunit.compiler.NameGenerator;this.currentDeclaratorNode_=null;this.maxNameId_=0;this.minifyPublicVariables_=b;this.structDeclaratorNodes_=[]};goog.inherits(glslunit.compiler.VariableMinifier,glslunit.ASTTransformer);
glslunit.compiler.VariableMinifier.prototype.shouldRenameNode_=function(b){if(!b)return false;var f=b.typeAttribute.qualifier;return(this.minifyPublicVariables_||f!="uniform"&&f!="attribute")&&!(b.id in this.structDeclaratorNodes_)};glslunit.compiler.VariableMinifier.prototype.setShaderProgram=function(b){this.shaderProgram_=b};
glslunit.compiler.VariableMinifier.prototype.beforeTransformRoot=function(b){this.structDeclaratorNodes_=glslunit.compiler.Utils.getStructDeclarations(b);var f=[],e=glslunit.VariableScopeVisitor.getVariablesInScope(b,b,true),h;for(h in e){var j=e[h];if(this.shouldRenameNode_(j))j=j.typeAttribute.qualifier,j=="varying"||j=="uniform"?this.currentNameGenerator_.shortenSymbol(h):f.push(h)}this.pushStack_(b);goog.array.forEach(f,function(b){this.currentNameGenerator_.shortenSymbol(b)},this)};
glslunit.compiler.VariableMinifier.prototype.beforeTransformDeclarator=function(b){this.currentDeclaratorNode_=b};glslunit.compiler.VariableMinifier.prototype.afterTransformDeclarator=function(){this.currentDeclaratorNode_=null};glslunit.compiler.VariableMinifier.prototype.transformParameter=function(b){var f=glslunit.ASTTransformer.cloneNode(b);f.name=this.currentNameGenerator_.shortenSymbol(b.name);return f};
glslunit.compiler.VariableMinifier.prototype.pushStack_=function(){this.variableStack_.push(this.currentNameGenerator_);this.currentNameGenerator_=this.currentNameGenerator_.clone()};glslunit.compiler.VariableMinifier.prototype.popStack_=function(){this.maxNameId_=Math.max(this.maxNameId_,this.currentNameGenerator_.getNextNameIndex());this.currentNameGenerator_=this.variableStack_.pop()};glslunit.compiler.VariableMinifier.prototype.beforeTransformScope=glslunit.compiler.VariableMinifier.prototype.pushStack_;
glslunit.compiler.VariableMinifier.prototype.afterTransformScope=glslunit.compiler.VariableMinifier.prototype.popStack_;glslunit.compiler.VariableMinifier.prototype.afterTransformRoot=glslunit.compiler.VariableMinifier.prototype.popStack_;glslunit.compiler.VariableMinifier.prototype.beforeTransformFunctionDeclaration=glslunit.compiler.VariableMinifier.prototype.pushStack_;glslunit.compiler.VariableMinifier.prototype.afterTransformFunctionDeclaration=glslunit.compiler.VariableMinifier.prototype.popStack_;
glslunit.compiler.VariableMinifier.prototype.beforeTransformFunctionPrototype=glslunit.compiler.VariableMinifier.prototype.pushStack_;glslunit.compiler.VariableMinifier.prototype.afterTransformFunctionPrototype=glslunit.compiler.VariableMinifier.prototype.popStack_;
glslunit.compiler.VariableMinifier.prototype.beforeTransformDeclaratorItem=function(b){var f=b.name.name,e;if(this.currentDeclaratorNode_)e=this.currentDeclaratorNode_.typeAttribute.qualifier;this.shouldRenameNode_(this.currentDeclaratorNode_)&&(f=this.currentNameGenerator_.shortenSymbol(b.name.name));if(this.shaderProgram_&&this.currentDeclaratorNode_){var h=this.currentDeclaratorNode_.typeAttribute.name;if(e=="attribute")e=new glslunit.compiler.ShaderAttributeEntry,e.shortName=f,e.originalName=
b.name.name,f=parseInt(h.slice(3,4),10),e.variableSize=isNaN(f)?1:f,this.shaderProgram_.attributeMap[b.name.name]=e;else if(e=="uniform")e=new glslunit.compiler.ShaderUniformEntry,e.originalName=b.name.name,e.shortName=f,e.type=h,this.shaderProgram_.uniformMap[b.name.name]=e}return b};glslunit.compiler.VariableMinifier.prototype.transformIdentifier=function(b){var f=this.currentNameGenerator_.getShortSymbol(b.name);if(b.name!=f)b=glslunit.ASTTransformer.cloneNode(b),b.name=f;return b};
glslunit.compiler.VariableMinifier.NAME="VariableMinifier";glslunit.compiler.VariableMinifier.prototype.getName=function(){return glslunit.compiler.VariableMinifier.NAME};glslunit.compiler.VariableMinifier.prototype.getDependencies=function(){return[]};
glslunit.compiler.VariableMinifier.prototype.performStep=function(b,f){var e=new glslunit.compiler.VariableMinifier(this.minifyPublicVariables_);e.setShaderProgram(f);f.vertexAst=e.transformNode(f.vertexAst);var h=new glslunit.compiler.VariableMinifier(this.minifyPublicVariables_);h.setShaderProgram(f);h.currentNameGenerator_=e.currentNameGenerator_;f.fragmentAst=h.transformNode(f.fragmentAst);return{vertexMaxId:e.maxNameId_,fragmentMaxId:h.maxNameId_}};glslunit.compiler.FunctionMinifier=function(){glslunit.ASTTransformer.call(this);this.nameGenerator_=new glslunit.compiler.NameGenerator};goog.inherits(glslunit.compiler.FunctionMinifier,glslunit.ASTTransformer);glslunit.compiler.FunctionMinifier.globalFunctions_={main:true};glslunit.compiler.FunctionMinifier.prototype.beforeTransformFunctionDeclaration=function(b){b.name in glslunit.compiler.FunctionMinifier.globalFunctions_||this.nameGenerator_.shortenSymbol(b.name)};
glslunit.compiler.FunctionMinifier.prototype.transformFunctionDeclaration=function(b){var f=this.nameGenerator_.getShortSymbol(b.name);if(f!=b.name)b=glslunit.ASTTransformer.cloneNode(b),b.name=f;return b};glslunit.compiler.FunctionMinifier.prototype.transformFunctionCall=function(b){var f=this.nameGenerator_.getShortSymbol(b.function_name);if(f!=b.function_name)b=glslunit.ASTTransformer.cloneNode(b),b.function_name=f;return b};
glslunit.compiler.FunctionMinifier.prototype.beforeTransformFunctionPrototype=glslunit.compiler.FunctionMinifier.prototype.beforeTransformFunctionDeclaration;glslunit.compiler.FunctionMinifier.prototype.transformFunctionPrototype=glslunit.compiler.FunctionMinifier.prototype.transformFunctionDeclaration;glslunit.compiler.FunctionMinifier.NAME="Function Minifier";glslunit.compiler.FunctionMinifier.prototype.getName=function(){return glslunit.compiler.FunctionMinifier.NAME};
glslunit.compiler.FunctionMinifier.prototype.getDependencies=function(){return[glslunit.compiler.VariableMinifier.NAME]};
glslunit.compiler.FunctionMinifier.prototype.performStep=function(b,f){var e=0,h=0;if(glslunit.compiler.VariableMinifier.NAME in b)e=b[glslunit.compiler.VariableMinifier.NAME].vertexMaxId,h=b[glslunit.compiler.VariableMinifier.NAME].fragmentMaxId;var j=new glslunit.compiler.FunctionMinifier;j.nameGenerator_.nextNameIndex=e;e=new glslunit.compiler.FunctionMinifier;f.vertexAst=j.transformNode(f.vertexAst);e.nameGenerator_.nextNameIndex=h;f.fragmentAst=e.transformNode(f.fragmentAst);return[]};glslunit.glsl={};
glslunit.glsl.parser=function(){var b={parse:function(b,e){function h(c){var a=c.charCodeAt(0),b;a<=255?(c="x",b=2):(c="u",b=4);var c="\\"+c,d=a.toString(16).toUpperCase(),a=d;b-=d.length;for(d=0;d<b;d++)a="0"+a;return c+a}function j(c){return'"'+c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,h)+'"'}function i(b){c<I||(c>I&&(I=c,oa=[]),oa.push(b))}
function p(){var e="newLine@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g;g=c;/^[\n]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,k===0&&i("[\\n]"));a!==null&&(a="\n");a===null&&(c=g);l[e]={nextPos:c,result:a};return a}function q(){var e="EOF@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g;g=c;k++;b.length>c?(a=b.charAt(c),c++):(a=null,k===0&&i("any character"));k--;a===null?a="":(a=null,c=g);l[e]={nextPos:c,result:a};return a}function o(){var e="_@"+c,a=l[e];if(a)return c=a.nextPos,a.result;
var g;k++;g=p();g===null&&(/^[\r\t\f\x0B ]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&i("[\\r\\t\\f\\x0B ]")),g===null&&(g=B()));if(g!==null)for(a=[];g!==null;)a.push(g),g=p(),g===null&&(/^[\r\t\f\x0B ]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&i("[\\r\\t\\f\\x0B ]")),g===null&&(g=B()));else a=null;k--;k===0&&a===null&&i("whitespace");l[e]={nextPos:c,result:a};return a}function A(){var e="noNewlineComment@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n,m,h;m=c;b.substr(c,
2)==="/*"?(a="/*",c+=2):(a=null,k===0&&i('"/*"'));if(a!==null){g=[];n=h=c;k++;b.substr(c,2)==="*/"?(d="*/",c+=2):(d=null,k===0&&i('"*/"'));k--;d===null?d="":(d=null,c=n);d!==null?(b.length>c?(n=b.charAt(c),c++):(n=null,k===0&&i("any character")),n!==null?d=[d,n]:(d=null,c=h)):(d=null,c=h);for(;d!==null;)g.push(d),n=h=c,k++,b.substr(c,2)==="*/"?(d="*/",c+=2):(d=null,k===0&&i('"*/"')),k--,d===null?d="":(d=null,c=n),d!==null?(b.length>c?(n=b.charAt(c),c++):(n=null,k===0&&i("any character")),n!==null?
d=[d,n]:(d=null,c=h)):(d=null,c=h);g!==null?(b.substr(c,2)==="*/"?(d="*/",c+=2):(d=null,k===0&&i('"*/"')),d!==null?a=[a,g,d]:(a=null,c=m)):(a=null,c=m)}else a=null,c=m;if(a===null)if(m=c,b.substr(c,2)==="//"?(a="//",c+=2):(a=null,k===0&&i('"//"')),a!==null){g=[];/^[^\n]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[^\\n]"));for(;d!==null;)g.push(d),/^[^\n]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[^\\n]"));g!==null?a=[a,g]:(a=null,c=m)}else a=null,c=m;l[e]={nextPos:c,result:a};
return a}function H(){var e="noNewlineWhitespace@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g;/^[\r\t\f\x0B ]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&i("[\\r\\t\\f\\x0B ]"));g===null&&(g=A());if(g!==null)for(a=[];g!==null;)a.push(g),/^[\r\t\f\x0B ]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&i("[\\r\\t\\f\\x0B ]")),g===null&&(g=A());else a=null;l[e]={nextPos:c,result:a};return a}function B(){var e="comment@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n,m,h;k++;
m=c;b.substr(c,2)==="/*"?(a="/*",c+=2):(a=null,k===0&&i('"/*"'));if(a!==null){g=[];n=h=c;k++;b.substr(c,2)==="*/"?(d="*/",c+=2):(d=null,k===0&&i('"*/"'));k--;d===null?d="":(d=null,c=n);d!==null?(b.length>c?(n=b.charAt(c),c++):(n=null,k===0&&i("any character")),n!==null?d=[d,n]:(d=null,c=h)):(d=null,c=h);for(;d!==null;)g.push(d),n=h=c,k++,b.substr(c,2)==="*/"?(d="*/",c+=2):(d=null,k===0&&i('"*/"')),k--,d===null?d="":(d=null,c=n),d!==null?(b.length>c?(n=b.charAt(c),c++):(n=null,k===0&&i("any character")),
n!==null?d=[d,n]:(d=null,c=h)):(d=null,c=h);g!==null?(b.substr(c,2)==="*/"?(d="*/",c+=2):(d=null,k===0&&i('"*/"')),d!==null?a=[a,g,d]:(a=null,c=m)):(a=null,c=m)}else a=null,c=m;if(a===null)if(m=c,b.substr(c,2)==="//"?(a="//",c+=2):(a=null,k===0&&i('"//"')),a!==null){g=[];/^[^\n]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[^\\n]"));for(;d!==null;)g.push(d),/^[^\n]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[^\\n]"));g!==null?(d=p(),d===null&&(d=q()),d!==null?a=[a,g,d]:(a=
null,c=m)):(a=null,c=m)}else a=null,c=m;k--;k===0&&a===null&&i("comment");l[e]={nextPos:c,result:a};return a}function s(){var e="semicolon@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===59?(g=";",c+=1):(g=null,k===0&&i('";"')),g!==null?(d=o(),d=d!==null?d:"",d!==null?a=[a,g,d]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);l[e]={nextPos:c,result:a};return a}function w(){var e="comma@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n;n=c;a=
o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===44?(g=",",c+=1):(g=null,k===0&&i('","')),g!==null?(d=o(),d=d!==null?d:"",d!==null?a=[a,g,d]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);l[e]={nextPos:c,result:a};return a}function J(){var e="left_bracket@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===91?(g="[",c+=1):(g=null,k===0&&i('"["')),g!==null?(d=o(),d=d!==null?d:"",d!==null?a=[a,g,d]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);l[e]={nextPos:c,
result:a};return a}function K(){var e="right_bracket@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===93?(g="]",c+=1):(g=null,k===0&&i('"]"')),g!==null?(d=o(),d=d!==null?d:"",d!==null?a=[a,g,d]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);l[e]={nextPos:c,result:a};return a}function Ua(){var e="equals@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&i('"="')),
g!==null?(d=o(),d=d!==null?d:"",d!==null?a=[a,g,d]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);l[e]={nextPos:c,result:a};return a}function C(){var e="left_paren@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===40?(g="(",c+=1):(g=null,k===0&&i('"("')),g!==null?(d=o(),d=d!==null?d:"",d!==null?a=[a,g,d]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);l[e]={nextPos:c,result:a};return a}function D(){var e="right_paren@"+c,a=l[e];if(a)return c=a.nextPos,
a.result;var g,d,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===41?(g=")",c+=1):(g=null,k===0&&i('")"')),g!==null?(d=o(),d=d!==null?d:"",d!==null?a=[a,g,d]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);l[e]={nextPos:c,result:a};return a}function pa(){var e="left_brace@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===123?(g="{",c+=1):(g=null,k===0&&i('"{"')),g!==null?(d=o(),d=d!==null?d:"",d!==null?a=[a,g,d]:(a=null,c=n)):(a=null,c=n)):
(a=null,c=n);l[e]={nextPos:c,result:a};return a}function qa(){var e="right_brace@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===125?(g="}",c+=1):(g=null,k===0&&i('"}"')),g!==null?(d=o(),d=d!==null?d:"",d!==null?a=[a,g,d]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);l[e]={nextPos:c,result:a};return a}function E(){var b="external_statement_list@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,a=c;g=[];for(d=ra();d!==null;)g.push(d),d=ra();
if(g!==null){d=new r({type:"root",statements:[]});for(var f=0;f<g.length;f++)if(g[f])d.statements=d.statements.concat(g[f]);g=d}g===null&&(c=a);l[b]={nextPos:c,result:g};return g}function ra(){var b="external_statement@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g;g=c;a=Va();a===null&&(a=Wa());a===null&&(c=g);a===null&&(g=c,a=o(),a!==null&&(a=""),a===null&&(c=g));l[b]={nextPos:c,result:a};return a}function Wa(){var b="external_declaration@"+c,a=l[b];if(a)return c=a.nextPos,a.result;a=Xa();a===
null&&(a=Ya(),a===null&&(a=sa(),a===null&&(a=Za())));l[b]={nextPos:c,result:a};return a}function sa(){var e="preprocessor_operator@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n,m,h,j,u;j=h=c;b.charCodeAt(c)===35?(a="#",c+=1):(a=null,k===0&&i('"#"'));if(a!==null)if(b.substr(c,6)==="define"?(g="define",c+=6):(g=null,k===0&&i('"define"')),g===null&&(b.substr(c,5)==="undef"?(g="undef",c+=5):(g=null,k===0&&i('"undef"')),g===null&&(b.substr(c,6)==="pragma"?(g="pragma",c+=6):(g=null,k===0&&i('"pragma"')),
g===null&&(b.substr(c,7)==="version"?(g="version",c+=7):(g=null,k===0&&i('"version"')),g===null&&(b.substr(c,5)==="error"?(g="error",c+=5):(g=null,k===0&&i('"error"')),g===null&&(b.substr(c,9)==="extension"?(g="extension",c+=9):(g=null,k===0&&i('"extension"')),g===null&&(b.substr(c,4)==="line"?(g="line",c+=4):(g=null,k===0&&i('"line"')))))))),g!==null)if(d=o(),d!==null){u=c;n=[];/^[^\n]/.test(b.charAt(c))?(m=b.charAt(c),c++):(m=null,k===0&&i("[^\\n]"));for(;m!==null;)n.push(m),/^[^\n]/.test(b.charAt(c))?
(m=b.charAt(c),c++):(m=null,k===0&&i("[^\\n]"));n!==null&&(n=n.join(""));n===null&&(c=u);n!==null?(m=p(),m===null&&(m=q()),m!==null?a=[a,g,d,n,m]:(a=null,c=j)):(a=null,c=j)}else a=null,c=j;else a=null,c=j;else a=null,c=j;a!==null&&(a=new r({type:"preprocessor",directive:"#"+a[1],value:a[3]}));a===null&&(c=h);l[e]={nextPos:c,result:a};return a}function ta(){var e="preprocessor_if@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n,m,h,j,u;j=h=c;b.charCodeAt(c)===35?(a="#",c+=1):(a=null,k===0&&i('"#"'));
if(a!==null)if(b.substr(c,5)==="ifdef"?(g="ifdef",c+=5):(g=null,k===0&&i('"ifdef"')),g===null&&(b.substr(c,6)==="ifndef"?(g="ifndef",c+=6):(g=null,k===0&&i('"ifndef"')),g===null&&(b.substr(c,2)==="if"?(g="if",c+=2):(g=null,k===0&&i('"if"')))),g!==null)if(d=o(),d!==null){u=c;n=[];/^[^\n]/.test(b.charAt(c))?(m=b.charAt(c),c++):(m=null,k===0&&i("[^\\n]"));for(;m!==null;)n.push(m),/^[^\n]/.test(b.charAt(c))?(m=b.charAt(c),c++):(m=null,k===0&&i("[^\\n]"));n!==null&&(n=n.join(""));n===null&&(c=u);n!==null?
(m=p(),m===null&&(m=q()),m!==null?a=[a,g,d,n,m]:(a=null,c=j)):(a=null,c=j)}else a=null,c=j;else a=null,c=j;else a=null,c=j;a!==null&&(a=new r({type:"preprocessor",directive:"#"+a[1],value:a[3]}));a===null&&(c=h);l[e]={nextPos:c,result:a};return a}function L(){var e="preprocessor_else_if@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n,m,h,j;h=m=c;b.substr(c,5)==="#elif"?(a="#elif",c+=5):(a=null,k===0&&i('"#elif"'));if(a!==null)if(g=o(),g!==null){j=c;d=[];/^[^\n]/.test(b.charAt(c))?(n=b.charAt(c),
c++):(n=null,k===0&&i("[^\\n]"));for(;n!==null;)d.push(n),/^[^\n]/.test(b.charAt(c))?(n=b.charAt(c),c++):(n=null,k===0&&i("[^\\n]"));d!==null&&(d=d.join(""));d===null&&(c=j);d!==null?(n=p(),n===null&&(n=q()),n!==null?a=[a,g,d,n]:(a=null,c=h)):(a=null,c=h)}else a=null,c=h;else a=null,c=h;a!==null&&(a=new r({type:"preprocessor",directive:"#elif",value:a[2]}));a===null&&(c=m);l[e]={nextPos:c,result:a};return a}function ua(){var e="preprocessor_else@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,
n,m;m=n=c;b.substr(c,5)==="#else"?(a="#else",c+=5):(a=null,k===0&&i('"#else"'));a!==null?(g=H(),g=g!==null?g:"",g!==null?(d=p(),d!==null?a=[a,g,d]:(a=null,c=m)):(a=null,c=m)):(a=null,c=m);a!==null&&(a=new r({type:"preprocessor",directive:"#else"}));a===null&&(c=n);l[e]={nextPos:c,result:a};return a}function va(){var e="preprocessor_end@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n,m;m=c;b.substr(c,6)==="#endif"?(a="#endif",c+=6):(a=null,k===0&&i('"#endif"'));a!==null?(g=H(),g=g!==null?g:"",
g!==null?(d=p(),d===null&&(d=q()),d!==null?(n=o(),n=n!==null?n:"",n!==null?a=[a,g,d,n]:(a=null,c=m)):(a=null,c=m)):(a=null,c=m)):(a=null,c=m);l[e]={nextPos:c,result:a};return a}function Va(){var b="preprocessor_external_branch@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i;i=h=e=c;a=ta();a!==null?(g=E(),g!==null?a=[a,g]:(a=null,c=i)):(a=null,c=i);if(a!==null){g=[];i=c;d=L();d!==null?(f=E(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i);for(;d!==null;)g.push(d),i=c,d=L(),d!==null?(f=E(),
f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i);g!==null?(i=c,d=ua(),d!==null?(f=E(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i),d=d!==null?d:"",d!==null?(f=va(),f!==null?a=[a,g,d,f]:(a=null,c=h)):(a=null,c=h)):(a=null,c=h)}else a=null,c=h;a!==null&&(a=$a(a[0],a[1],a[2]));a===null&&(c=e);l[b]={nextPos:c,result:a};return a}function wa(){var b="preprocessor_statement_branch@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i;i=h=e=c;a=ta();a!==null?(g=F(),g!==null?a=[a,g]:(a=null,c=i)):(a=null,
c=i);if(a!==null){g=[];i=c;d=L();d!==null?(f=F(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i);for(;d!==null;)g.push(d),i=c,d=L(),d!==null?(f=F(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i);g!==null?(i=c,d=ua(),d!==null?(f=F(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i),d=d!==null?d:"",d!==null?(f=va(),f!==null?a=[a,g,d,f]:(a=null,c=h)):(a=null,c=h)):(a=null,c=h)}else a=null,c=h;a!==null&&(a=$a(a[0],a[1],a[2]));a===null&&(c=e);l[b]={nextPos:c,result:a};return a}function Xa(){var m;var b="function_definition@"+
c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f;f=d=c;a=xa();a!==null?(g=W(),g!==null?a=[a,g]:(a=null,c=f)):(a=null,c=f);a!==null&&(g=a[0],m=x=new r({type:"function_declaration",name:g.name,returnType:g.returnType,parameters:g.parameters,body:a[1]}),a=m);a===null&&(c=d);l[b]={nextPos:c,result:a};return a}function W(){var b="compound_statement@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e;e=a=c;g=pa();g!==null?(d=F(),d=d!==null?d:"",d!==null?(f=qa(),f!==null?g=[g,d,f]:(g=null,c=e)):(g=
null,c=e)):(g=null,c=e);if(g!==null){g=g[1];x=new r({type:"scope",statements:[]});if(g&&g.statements)x.statements=g.statements;g=x}g===null&&(c=a);l[b]={nextPos:c,result:g};return g}function F(){var b="statement_list@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e;e=f=c;a=o();a=a!==null?a:"";if(a!==null){g=[];for(d=M();d!==null;)g.push(d),d=M();g!==null?(d=o(),d=d!==null?d:"",d!==null?a=[a,g,d]:(a=null,c=e)):(a=null,c=e)}else a=null,c=e;a!==null&&(a={statements:a[1]});a===null&&(c=f);l[b]=
{nextPos:c,result:a};return a}function M(){var b="statement_no_new_scope@"+c,a=l[b];if(a)return c=a.nextPos,a.result;a=W();a===null&&(a=ya(),a===null&&(a=wa()));l[b]={nextPos:c,result:a};return a}function X(){var b="statement_with_scope@"+c,a=l[b];if(a)return c=a.nextPos,a.result;a=W();a===null&&(a=ya(),a===null&&(a=wa()));l[b]={nextPos:c,result:a};return a}function ya(){var b="simple_statement@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g;g=c;a=Y();a===null&&(a=za(),a===null&&(a=ab(),a===null&&
(a=bb(),a===null&&(a=cb(),a===null&&(a=sa())))));a===null&&(c=g);l[b]={nextPos:c,result:a};return a}function ab(){var e="selection_statement@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n,m,h,j,u,t,p,q;p=t=c;b.substr(c,2)==="if"?(a="if",c+=2):(a=null,k===0&&i('"if"'));a!==null?(g=C(),g!==null?(d=y(),d!==null?(n=D(),n!==null?(m=X(),m!==null?(q=c,b.substr(c,4)==="else"?(h="else",c+=4):(h=null,k===0&&i('"else"')),h!==null?(j=o(),j=j!==null?j:"",j!==null?(u=X(),u!==null?h=[h,j,u]:(h=null,c=q)):
(h=null,c=q)):(h=null,c=q),h=h!==null?h:"",h!==null?a=[a,g,d,n,m,h]:(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p);if(a!==null){g=a[5];x=new r({type:"if_statement",condition:a[2],body:a[4]});if(g)x.elseBody=g[2];a=x}a===null&&(c=t);l[e]={nextPos:c,result:a};return a}function db(){var e="for_loop@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n,m,h,j,o,t,p;p=t=c;b.substr(c,3)==="for"?(a="for",c+=3):(a=null,k===0&&i('"for"'));a!==null?(g=C(),g!==null?(d=za(),
d===null&&(d=Y()),d!==null?(n=Aa(),n=n!==null?n:"",n!==null?(m=s(),m!==null?(h=y(),h=h!==null?h:"",h!==null?(j=D(),j!==null?(o=M(),o!==null?a=[a,g,d,n,m,h,j,o]:(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p);a!==null&&(a=new r({type:"for_statement",initializer:a[2],condition:a[3],increment:a[5],body:a[7]}));a===null&&(c=t);l[e]={nextPos:c,result:a};return a}function Ba(){var e="while_statement@"+c,a=l[e];if(a)return c=a.nextPos,a.result;
var g,d,n,m,h;h=m=c;b.substr(c,5)==="while"?(a="while",c+=5):(a=null,k===0&&i('"while"'));a!==null?(g=C(),g!==null?(d=Aa(),d!==null?(n=D(),n!==null?a=[a,g,d,n]:(a=null,c=h)):(a=null,c=h)):(a=null,c=h)):(a=null,c=h);a!==null&&(a={condition:a[2]});a===null&&(c=m);l[e]={nextPos:c,result:a};return a}function eb(){var b="while_loop@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f;f=d=c;a=Ba();a!==null?(g=M(),g!==null?a=[a,g]:(a=null,c=f)):(a=null,c=f);a!==null&&(a=new r({type:"while_statement",condition:a[0].condition,
body:a[1]}));a===null&&(c=d);l[b]={nextPos:c,result:a};return a}function fb(){var e="do_while@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n,m;m=n=c;b.substr(c,2)==="do"?(a="do",c+=2):(a=null,k===0&&i('"do"'));a!==null?(g=X(),g!==null?(d=Ba(),d!==null?a=[a,g,d]:(a=null,c=m)):(a=null,c=m)):(a=null,c=m);a!==null&&(a=new r({type:"do_statement",condition:a[2].condition,body:a[1]}));a===null&&(c=n);l[e]={nextPos:c,result:a};return a}function bb(){var b="iteration_statement@"+c,a=l[b];if(a)return c=
a.nextPos,a.result;a=eb();a===null&&(a=fb(),a===null&&(a=db()));l[b]={nextPos:c,result:a};return a}function cb(){var e="jump_statement@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n,m,h;m=n=c;b.substr(c,6)==="return"?(a="return",c+=6):(a=null,k===0&&i('"return"'));a!==null?(g=y(),g!==null?(d=s(),d!==null?a=[a,g,d]:(a=null,c=m)):(a=null,c=m)):(a=null,c=m);a!==null&&(a=new r({type:"return",value:a[1]}));a===null&&(c=n);a===null&&(m=n=c,b.substr(c,8)==="continue"?(a="continue",c+=8):(a=null,k===
0&&i('"continue"')),a!==null?(g=s(),g!==null?a=[a,g]:(a=null,c=m)):(a=null,c=m),a===null&&(m=c,b.substr(c,5)==="break"?(a="break",c+=5):(a=null,k===0&&i('"break"')),a!==null?(g=s(),g!==null?a=[a,g]:(a=null,c=m)):(a=null,c=m),a===null&&(m=c,b.substr(c,6)==="return"?(a="return",c+=6):(a=null,k===0&&i('"return"')),a!==null?(g=s(),g!==null?a=[a,g]:(a=null,c=m)):(a=null,c=m),a===null&&(h=d=m=c,a=N=="fs"?"":null,a!==null?(b.substr(c,7)==="discard"?(g="discard",c+=7):(g=null,k===0&&i('"discard"')),g!==null?
a=[a,g]:(a=null,c=h)):(a=null,c=h),a!==null&&(a="discard"),a===null&&(c=d),a!==null?(g=s(),g!==null?a=[a,g]:(a=null,c=m)):(a=null,c=m)))),a!==null&&(a=new r({type:a[0]})),a===null&&(c=n));l[e]={nextPos:c,result:a};return a}function za(){var b="expression_statement@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f;f=d=c;a=y();a=a!==null?a:"";a!==null?(g=s(),g!==null?a=[a,g]:(a=null,c=f)):(a=null,c=f);a!==null&&(a=new r({type:"expression",expression:a[0]}));a===null&&(c=d);l[b]={nextPos:c,result:a};
return a}function Y(){var e="declaration@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n,m,h,j,u,t,p;k++;t=u=c;a=xa();a!==null?(g=s(),g!==null?a=[a,g]:(a=null,c=t)):(a=null,c=t);a!==null&&(a=a[0]);a===null&&(c=u);if(a===null&&(t=u=c,a=O(),a!==null?(g=o(),g!==null?(d=Ca(),d!==null?(n=s(),n!==null?a=[a,g,d,n]:(a=null,c=t)):(a=null,c=t)):(a=null,c=t)):(a=null,c=t),a!==null&&(a=new r({type:"declarator",typeAttribute:a[0],declarators:a[2]})),a===null&&(c=u),a===null)){t=u=c;a=N=="vs"?"":null;if(a!==
null)if(b.substr(c,9)==="invariant"?(g="invariant",c+=9):(g=null,k===0&&i('"invariant"')),g!==null)if(d=o(),d!==null)if(n=v(),n!==null){m=[];p=c;h=w();h!==null?(j=v(),j!==null?h=[h,j]:(h=null,c=p)):(h=null,c=p);for(;h!==null;)m.push(h),p=c,h=w(),h!==null?(j=v(),j!==null?h=[h,j]:(h=null,c=p)):(h=null,c=p);m!==null?(h=s(),h!==null?a=[a,g,d,n,m,h]:(a=null,c=t)):(a=null,c=t)}else a=null,c=t;else a=null,c=t;else a=null,c=t;else a=null,c=t;a!==null&&(a=function(a,c){var b=[a].concat(c.map(function(a){return a[1]}));
return new r({type:"invariant",identifiers:b})}(a[3],a[4]));a===null&&(c=u);a===null&&(t=u=c,b.substr(c,9)==="precision"?(a="precision",c+=9):(a=null,k===0&&i('"precision"')),a!==null?(g=o(),g!==null?(d=Z(),d!==null?(n=o(),n!==null?(m=P(),m!==null?(h=s(),h!==null?a=[a,g,d,n,m,h]:(a=null,c=t)):(a=null,c=t)):(a=null,c=t)):(a=null,c=t)):(a=null,c=t)):(a=null,c=t),a!==null&&(a=new r({type:"precision",precision:a[2],typeName:a[4]})),a===null&&(c=u))}k--;k===0&&a===null&&i("declaration");l[e]={nextPos:c,
result:a};return a}function Ya(){var b="global_declaration@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,a=Y();a===null&&(h=e=c,a=gb(),a!==null?(g=o(),g!==null?(d=Ca(),d!==null?(f=s(),f!==null?a=[a,g,d,f]:(a=null,c=h)):(a=null,c=h)):(a=null,c=h)):(a=null,c=h),a!==null&&(a=new r({type:"declarator",typeAttribute:a[0],declarators:a[2]})),a===null&&(c=e),a===null&&(h=e=c,a=hb(),a!==null?(g=o(),g!==null?(d=ib(),d!==null?(f=s(),f!==null?a=[a,g,d,f]:(a=null,c=h)):(a=null,c=h)):(a=null,c=h)):
(a=null,c=h),a!==null&&(a=new r({type:"declarator",typeAttribute:a[0],declarators:a[2]})),a===null&&(c=e)));l[b]={nextPos:c,result:a};return a}function jb(){var e="function_prototype_parameter_list@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,n,m,h,j;b.substr(c,4)==="void"?(a="void",c+=4):(a=null,k===0&&i('"void"'));if(a===null){h=m=c;a=$();if(a!==null){g=[];j=c;d=w();d!==null?(n=$(),n!==null?d=[d,n]:(d=null,c=j)):(d=null,c=j);for(;d!==null;)g.push(d),j=c,d=w(),d!==null?(n=$(),n!==null?d=[d,
n]:(d=null,c=j)):(d=null,c=j);g!==null?a=[a,g]:(a=null,c=h)}else a=null,c=h;a!==null&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));a===null&&(c=m)}l[e]={nextPos:c,result:a};return a}function xa(){var b="function_prototype@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i,k;k=i=c;a=kb();a===null&&(a=Q());a!==null?(g=o(),g!==null?(d=v(),d!==null?(f=C(),f!==null?(e=jb(),e=e!==null?e:"",e!==null?(h=D(),h!==null?a=[a,g,d,f,e,h]:(a=null,c=k)):(a=null,c=k)):(a=
null,c=k)):(a=null,c=k)):(a=null,c=k)):(a=null,c=k);if(a!==null){g=a[4];x=new r({type:"function_prototype",name:a[2].name,returnType:a[0],parameters:g});if(g=="void"||!g)x.parameters=[];a=x}a===null&&(c=i);l[b]={nextPos:c,result:a};return a}function lb(){var e="parameter_qualifier@"+c,a=l[e];if(a)return c=a.nextPos,a.result;b.substr(c,5)==="inout"?(a="inout",c+=5):(a=null,k===0&&i('"inout"'));a===null&&(b.substr(c,2)==="in"?(a="in",c+=2):(a=null,k===0&&i('"in"')),a===null&&(b.substr(c,3)==="out"?
(a="out",c+=3):(a=null,k===0&&i('"out"'))));l[e]={nextPos:c,result:a};return a}function $(){var b="parameter_declaration@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i,k,j,p,q,s;s=q=a=c;g=aa();g!==null?(d=o(),d!==null?g=[g,d]:(g=null,c=s)):(g=null,c=s);g=g!==null?g:"";g!==null?(s=c,d=lb(),d!==null?(f=o(),f!==null?d=[d,f]:(d=null,c=s)):(d=null,c=s),d=d!==null?d:"",d!==null?(s=c,f=Z(),f!==null?(e=o(),e!==null?f=[f,e]:(f=null,c=s)):(f=null,c=s),f=f!==null?f:"",f!==null?(e=P(),e!==null?(h=
o(),h!==null?(i=v(),i!==null?(s=c,k=J(),k!==null?(j=G(),j!==null?(p=K(),p!==null?k=[k,j,p]:(k=null,c=s)):(k=null,c=s)):(k=null,c=s),k=k!==null?k:"",k!==null?g=[g,d,f,e,h,i,k]:(g=null,c=q)):(g=null,c=q)):(g=null,c=q)):(g=null,c=q)):(g=null,c=q)):(g=null,c=q)):(g=null,c=q);if(g!==null){d=g[0];f=g[1];e=g[2];h=g[6];g=new r({type:"parameter",type_name:g[3],name:g[5].name});if(d)g.typeQualifier=d[0];if(f)g.parameterQualifier=f[0];if(e)g.precision=e[0];if(h)g.arraySize=h[1];g=g.typeQualifier&&g.parameterQualifier&&
g.parameterQualifier!="in"?null:g}g===null&&(c=a);l[b]={nextPos:c,result:g};return g}function Ca(){var b="init_declarator_list@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i;h=e=c;a=ba();if(a!==null){g=[];i=c;d=w();d!==null?(f=ba(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i);for(;d!==null;)g.push(d),i=c,d=w(),d!==null?(f=ba(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i);g!==null?a=[a,g]:(a=null,c=h)}else a=null,c=h;a!==null&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],
a[1]));a===null&&(c=e);l[b]={nextPos:c,result:a};return a}function mb(){var b="declarator_list@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i;h=e=c;a=R();if(a!==null){g=[];i=c;d=w();d!==null?(f=R(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i);for(;d!==null;)g.push(d),i=c,d=w(),d!==null?(f=R(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i);g!==null?a=[a,g]:(a=null,c=h)}else a=null,c=h;a!==null&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));a===null&&(c=e);
l[b]={nextPos:c,result:a};return a}function ib(){var b="declarator_list_no_array@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i;h=e=c;a=S();if(a!==null){g=[];i=c;d=w();d!==null?(f=S(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i);for(;d!==null;)g.push(d),i=c,d=w(),d!==null?(f=S(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i);g!==null?a=[a,g]:(a=null,c=h)}else a=null,c=h;a!==null&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));a===null&&(c=e);l[b]={nextPos:c,
result:a};return a}function Da(){var b="declarator_list_arrays_have_size@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i;h=e=c;a=T();if(a!==null){g=[];i=c;d=w();d!==null?(f=T(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i);for(;d!==null;)g.push(d),i=c,d=w(),d!==null?(f=T(),f!==null?d=[d,f]:(d=null,c=i)):(d=null,c=i);g!==null?a=[a,g]:(a=null,c=h)}else a=null,c=h;a!==null&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));a===null&&(c=e);l[b]={nextPos:c,result:a};
return a}function S(){var b="declarator_no_array@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g;g=c;a=v();a!==null&&(a=new r({type:"declarator_item",name:a}));a===null&&(c=g);l[b]={nextPos:c,result:a};return a}function T(){var b="declarator_array_with_size@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h;h=e=c;a=v();a!==null?(g=J(),g!==null?(d=G(),d!==null?(f=K(),f!==null?a=[a,g,d,f]:(a=null,c=h)):(a=null,c=h)):(a=null,c=h)):(a=null,c=h);a!==null&&(a=new r({type:"declarator_item",name:a[0],
arraySize:a[2],isArray:true}));a===null&&(c=e);a===null&&(a=S());l[b]={nextPos:c,result:a};return a}function R(){var b="declarator@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e;e=f=c;a=v();a!==null?(g=J(),g!==null?(d=K(),d!==null?a=[a,g,d]:(a=null,c=e)):(a=null,c=e)):(a=null,c=e);a!==null&&(a=new r({type:"declarator_item",name:a[0],isArray:true}));a===null&&(c=f);a===null&&(a=T());l[b]={nextPos:c,result:a};return a}function ba(){var b="init_declarator@"+c,a=l[b];if(a)return c=a.nextPos,
a.result;var g,d,f,e;e=f=c;a=v();a!==null?(g=Ua(),g!==null?(d=G(),d!==null?a=[a,g,d]:(a=null,c=e)):(a=null,c=e)):(a=null,c=e);a!==null&&(a=new r({type:"declarator_item",name:a[0],initializer:a[2]}));a===null&&(c=f);a===null&&(a=R());l[b]={nextPos:c,result:a};return a}function nb(){var b="member_list@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i;i=h=c;g=O();g!==null?(d=o(),d!==null?(f=Da(),f!==null?(e=s(),e!==null?g=[g,d,f,e]:(g=null,c=i)):(g=null,c=i)):(g=null,c=i)):(g=null,c=i);if(g!==
null)for(a=[];g!==null;)a.push(g),i=c,g=O(),g!==null?(d=o(),d!==null?(f=Da(),f!==null?(e=s(),e!==null?g=[g,d,f,e]:(g=null,c=i)):(g=null,c=i)):(g=null,c=i)):(g=null,c=i);else a=null;a!==null&&(a=function(a){return a.map(function(a){return new r({type:"declarator",typeAttribute:a[0],declarators:a[2]})})}(a));a===null&&(c=h);l[b]={nextPos:c,result:a};return a}function Za(){var e="struct_definition@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m,j,p,u,t,q;j=q=a=c;g=Ea();g===null&&(g=Fa());g!==
null?(d=o(),d!==null?g=[g,d]:(g=null,c=j)):(g=null,c=j);g=g!==null?g:"";g!==null?(b.substr(c,6)==="struct"?(d="struct",c+=6):(d=null,k===0&&i('"struct"')),d!==null?(j=c,h=o(),h!==null?(m=v(),m!==null?h=[h,m]:(h=null,c=j)):(h=null,c=j),h=h!==null?h:"",h!==null?(m=pa(),m!==null?(j=nb(),j!==null?(p=qa(),p!==null?(u=mb(),u=u!==null?u:"",u!==null?(t=s(),t!==null?g=[g,d,h,m,j,p,u,t]:(g=null,c=q)):(g=null,c=q)):(g=null,c=q)):(g=null,c=q)):(g=null,c=q)):(g=null,c=q)):(g=null,c=q)):(g=null,c=q);if(g!==null){d=
g[0];h=g[2];m=g[6];g=new r({type:"struct_definition",members:g[4]});if(d)g.qualifier=d[0];if(h)g.name=h[1].name,ob[g.name]=g;if(m)g.declarators=m}g===null&&(c=a);l[e]={nextPos:c,result:g};return g}function Q(){var b="precision_type@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e;e=f=a=c;g=Z();g!==null?(d=o(),d!==null?g=[g,d]:(g=null,c=e)):(g=null,c=e);g=g!==null?g:"";g!==null?(d=P(),d!==null?g=[g,d]:(g=null,c=f)):(g=null,c=f);if(g!==null&&(d=g[0],g=new r({type:"type",name:g[1]}),d))g.precision=
d[0];g===null&&(c=a);l[b]={nextPos:c,result:g};return g}function O(){var b="locally_specified_type@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e;k++;e=f=a=c;g=aa();g!==null?(d=o(),d!==null?g=[g,d]:(g=null,c=e)):(g=null,c=e);g=g!==null?g:"";g!==null?(d=Q(),d!==null?g=[g,d]:(g=null,c=f)):(g=null,c=f);if(g!==null&&(d=g[0],g=g[1],d))g.qualifier=d[0];g===null&&(c=a);k--;k===0&&g===null&&i("locally specified type");l[b]={nextPos:c,result:g};return g}function Fa(){var e="attribute_qualifier@"+
c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h;h=d=c;a=N=="vs"?"":null;a!==null?(b.substr(c,9)==="attribute"?(g="attribute",c+=9):(g=null,k===0&&i('"attribute"')),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a="attribute");a===null&&(c=d);l[e]={nextPos:c,result:a};return a}function hb(){var b="attribute_type@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e;k++;e=f=c;a=Fa();a!==null?(g=o(),g!==null?(d=Q(),d!==null?a=[a,g,d]:(a=null,c=e)):(a=null,c=e)):(a=null,c=e);if(a!==null)g=
a[2],g.qualifier=a[0],a=g;a===null&&(c=f);k--;k===0&&a===null&&i("locally specified type");l[b]={nextPos:c,result:a};return a}function gb(){var b="fully_specified_type@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e;k++;e=f=a=c;g=Ea();g!==null?(d=o(),d!==null?g=[g,d]:(g=null,c=e)):(g=null,c=e);g=g!==null?g:"";g!==null?(d=Q(),d!==null?g=[g,d]:(g=null,c=f)):(g=null,c=f);if(g!==null&&(d=g[0],g=g[1],d))g.qualifier=d[0];g===null&&(c=a);k--;k===0&&g===null&&i("fully specified type");l[b]={nextPos:c,
result:g};return g}function Z(){var e="precision_qualifier@"+c,a=l[e];if(a)return c=a.nextPos,a.result;k++;b.substr(c,5)==="highp"?(a="highp",c+=5):(a=null,k===0&&i('"highp"'));a===null&&(b.substr(c,7)==="mediump"?(a="mediump",c+=7):(a=null,k===0&&i('"mediump"')),a===null&&(b.substr(c,4)==="lowp"?(a="lowp",c+=4):(a=null,k===0&&i('"lowp"'))));k--;k===0&&a===null&&i("precision qualifier");l[e]={nextPos:c,result:a};return a}function aa(){var e="const_qualifier@"+c,a=l[e];if(a)return c=a.nextPos,a.result;
b.substr(c,5)==="const"?(a="const",c+=5):(a=null,k===0&&i('"const"'));l[e]={nextPos:c,result:a};return a}function Ea(){var e="type_qualifier@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m;k++;a=aa();a===null&&(b.substr(c,7)==="varying"?(a="varying",c+=7):(a=null,k===0&&i('"varying"')),a===null&&(m=h=c,b.substr(c,9)==="invariant"?(a="invariant",c+=9):(a=null,k===0&&i('"invariant"')),a!==null?(g=o(),g!==null?(b.substr(c,7)==="varying"?(d="varying",c+=7):(d=null,k===0&&i('"varying"')),d!==null?
a=[a,g,d]:(a=null,c=m)):(a=null,c=m)):(a=null,c=m),a!==null&&(a="invariant varying"),a===null&&(c=h),a===null&&(b.substr(c,7)==="uniform"?(a="uniform",c+=7):(a=null,k===0&&i('"uniform"')))));k--;k===0&&a===null&&i("type qualifier");l[e]={nextPos:c,result:a};return a}function kb(){var e="void_type@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g;k++;g=c;b.substr(c,4)==="void"?(a="void",c+=4):(a=null,k===0&&i('"void"'));a!==null&&(a=new r({type:"type",name:"void"}));a===null&&(c=g);k--;k===0&&a===
null&&i("void");l[e]={nextPos:c,result:a};return a}function P(){var e="type_name@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g;k++;b.substr(c,5)==="float"?(a="float",c+=5):(a=null,k===0&&i('"float"'));a===null&&(b.substr(c,3)==="int"?(a="int",c+=3):(a=null,k===0&&i('"int"')),a===null&&(b.substr(c,4)==="bool"?(a="bool",c+=4):(a=null,k===0&&i('"bool"')),a===null&&(b.substr(c,9)==="sampler2D"?(a="sampler2D",c+=9):(a=null,k===0&&i('"sampler2D"')),a===null&&(b.substr(c,11)==="samplerCube"?(a="samplerCube",
c+=11):(a=null,k===0&&i('"samplerCube"')),a===null&&(a=Ga(),a===null&&(a=Ha(),a===null&&(g=c,a=v(),a!==null&&(a=a.name in ob?a.name:null),a===null&&(c=g))))))));k--;k===0&&a===null&&i("type name");l[e]={nextPos:c,result:a};return a}function v(){var e="identifier@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m,j;k++;d=j=m=c;k++;h=c;a=pb();a!==null?(/^[^A-Za-z_0-9]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&i("[^A-Za-z_0-9]")),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);k--;a===null?
a="":(a=null,c=d);if(a!==null)if(/^[A-Za-z_]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&i("[A-Za-z_]")),g!==null){d=[];/^[A-Za-z_0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&i("[A-Za-z_0-9]"));for(;h!==null;)d.push(h),/^[A-Za-z_0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&i("[A-Za-z_0-9]"));d!==null?a=[a,g,d]:(a=null,c=j)}else a=null,c=j;else a=null,c=j;a!==null&&(a=new r({type:"identifier",name:a[1]+a[2].join("")}));a===null&&(c=m);k--;k===0&&a===null&&i("identifier");
l[e]={nextPos:c,result:a};return a}function pb(){var e="keyword@"+c,a=l[e];if(a)return c=a.nextPos,a.result;k++;b.substr(c,9)==="attribute"?(a="attribute",c+=9):(a=null,k===0&&i('"attribute"'));a===null&&(b.substr(c,5)==="const"?(a="const",c+=5):(a=null,k===0&&i('"const"')),a===null&&(b.substr(c,4)==="bool"?(a="bool",c+=4):(a=null,k===0&&i('"bool"')),a===null&&(b.substr(c,5)==="float"?(a="float",c+=5):(a=null,k===0&&i('"float"')),a===null&&(b.substr(c,3)==="int"?(a="int",c+=3):(a=null,k===0&&i('"int"')),
a===null&&(b.substr(c,5)==="break"?(a="break",c+=5):(a=null,k===0&&i('"break"')),a===null&&(b.substr(c,8)==="continue"?(a="continue",c+=8):(a=null,k===0&&i('"continue"')),a===null&&(b.substr(c,2)==="do"?(a="do",c+=2):(a=null,k===0&&i('"do"')),a===null&&(b.substr(c,4)==="else"?(a="else",c+=4):(a=null,k===0&&i('"else"')),a===null&&(b.substr(c,3)==="for"?(a="for",c+=3):(a=null,k===0&&i('"for"')),a===null&&(b.substr(c,2)==="if"?(a="if",c+=2):(a=null,k===0&&i('"if"')),a===null&&(b.substr(c,7)==="discard"?
(a="discard",c+=7):(a=null,k===0&&i('"discard"')),a===null&&(b.substr(c,6)==="return"?(a="return",c+=6):(a=null,k===0&&i('"return"')),a===null&&(a=Ga(),a===null&&(a=Ha(),a===null&&(b.substr(c,2)==="in"?(a="in",c+=2):(a=null,k===0&&i('"in"')),a===null&&(b.substr(c,3)==="out"?(a="out",c+=3):(a=null,k===0&&i('"out"')),a===null&&(b.substr(c,5)==="inout"?(a="inout",c+=5):(a=null,k===0&&i('"inout"')),a===null&&(b.substr(c,7)==="uniform"?(a="uniform",c+=7):(a=null,k===0&&i('"uniform"')),a===null&&(b.substr(c,
7)==="varying"?(a="varying",c+=7):(a=null,k===0&&i('"varying"')),a===null&&(b.substr(c,9)==="sampler2D"?(a="sampler2D",c+=9):(a=null,k===0&&i('"sampler2D"')),a===null&&(b.substr(c,11)==="samplerCube"?(a="samplerCube",c+=11):(a=null,k===0&&i('"samplerCube"')),a===null&&(b.substr(c,6)==="struct"?(a="struct",c+=6):(a=null,k===0&&i('"struct"')),a===null&&(b.substr(c,4)==="void"?(a="void",c+=4):(a=null,k===0&&i('"void"')),a===null&&(b.substr(c,5)==="while"?(a="while",c+=5):(a=null,k===0&&i('"while"')),
a===null&&(b.substr(c,5)==="highp"?(a="highp",c+=5):(a=null,k===0&&i('"highp"')),a===null&&(b.substr(c,7)==="mediump"?(a="mediump",c+=7):(a=null,k===0&&i('"mediump"')),a===null&&(b.substr(c,4)==="lowp"?(a="lowp",c+=4):(a=null,k===0&&i('"lowp"')),a===null&&(b.substr(c,4)==="true"?(a="true",c+=4):(a=null,k===0&&i('"true"')),a===null&&(b.substr(c,5)==="false"?(a="false",c+=5):(a=null,k===0&&i('"false"')))))))))))))))))))))))))))))));k--;k===0&&a===null&&i("keyword");l[e]={nextPos:c,result:a};return a}
function Ga(){var e="vector@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m;m=h=c;/^[bi]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,k===0&&i("[bi]"));a=a!==null?a:"";a!==null?(b.substr(c,3)==="vec"?(g="vec",c+=3):(g=null,k===0&&i('"vec"')),g!==null?(/^[234]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[234]")),d!==null?a=[a,g,d]:(a=null,c=m)):(a=null,c=m)):(a=null,c=m);a!==null&&(a=a.join(""));a===null&&(c=h);l[e]={nextPos:c,result:a};return a}function Ha(){var e="matrix@"+
c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h;h=d=c;b.substr(c,3)==="mat"?(a="mat",c+=3):(a=null,k===0&&i('"mat"'));a!==null?(/^[234]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&i("[234]")),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=a.join(""));a===null&&(c=d);l[e]={nextPos:c,result:a};return a}function Ia(){var e="single_underscore_identifier@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m;m=c;a=[];/^[A-Za-z0-9]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,
k===0&&i("[A-Za-z0-9]"));for(;g!==null;)a.push(g),/^[A-Za-z0-9]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&i("[A-Za-z0-9]"));if(a!==null)if(b.charCodeAt(c)===95?(g="_",c+=1):(g=null,k===0&&i('"_"')),g!==null){/^[A-Za-z0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&i("[A-Za-z0-9]"));if(h!==null)for(d=[];h!==null;)d.push(h),/^[A-Za-z0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&i("[A-Za-z0-9]"));else d=null;d!==null?a=[a,g,d]:(a=null,c=m)}else a=null,c=m;else a=null,
c=m;l[e]={nextPos:c,result:a};return a}function qb(){var e="int_constant@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m,j;j=m=c;/^[1-9]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,k===0&&i("[1-9]"));if(a!==null){g=[];/^[0-9]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[0-9]"));for(;d!==null;)g.push(d),/^[0-9]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[0-9]"));g!==null?a=[a,g]:(a=null,c=j)}else a=null,c=j;a!==null&&(a=new r({type:"int",value:parseInt([a[0]].concat(a[1]).join(""),
10)}));a===null&&(c=m);if(a===null){j=m=c;b.charCodeAt(c)===48?(a="0",c+=1):(a=null,k===0&&i('"0"'));if(a!==null)if(/^[Xx]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&i("[Xx]")),g!==null){/^[0-9A-Fa-f]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&i("[0-9A-Fa-f]"));if(h!==null)for(d=[];h!==null;)d.push(h),/^[0-9A-Fa-f]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&i("[0-9A-Fa-f]"));else d=null;d!==null?a=[a,g,d]:(a=null,c=j)}else a=null,c=j;else a=null,c=j;a!==null&&(a=new r({type:"int",
value:parseInt(a[2].join(""),16)}));a===null&&(c=m);if(a===null){j=m=c;b.charCodeAt(c)===48?(a="0",c+=1):(a=null,k===0&&i('"0"'));if(a!==null){/^[0-7]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[0-7]"));if(d!==null)for(g=[];d!==null;)g.push(d),/^[0-7]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[0-7]"));else g=null;g!==null?a=[a,g]:(a=null,c=j)}else a=null,c=j;a!==null&&(a=new r({type:"int",value:parseInt(a[1].join(""),8)}));a===null&&(c=m);a===null&&(m=c,b.charCodeAt(c)===
48?(a="0",c+=1):(a=null,k===0&&i('"0"')),a!==null&&(a=new r({type:"int",value:0})),a===null&&(c=m))}}l[e]={nextPos:c,result:a};return a}function rb(){var e="float_constant@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m,j;j=a=c;g=[];/^[0-9]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[0-9]"));for(;d!==null;)g.push(d),/^[0-9]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[0-9]"));if(g!==null)if(b.charCodeAt(c)===46?(d=".",c+=1):(d=null,k===0&&i('"."')),d!==null){/^[0-9]/.test(b.charAt(c))?
(m=b.charAt(c),c++):(m=null,k===0&&i("[0-9]"));if(m!==null)for(h=[];m!==null;)h.push(m),/^[0-9]/.test(b.charAt(c))?(m=b.charAt(c),c++):(m=null,k===0&&i("[0-9]"));else h=null;h!==null?(m=ca(),m=m!==null?m:"",m!==null?g=[g,d,h,m]:(g=null,c=j)):(g=null,c=j)}else g=null,c=j;else g=null,c=j;if(g===null){j=c;/^[0-9]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[0-9]"));if(d!==null)for(g=[];d!==null;)g.push(d),/^[0-9]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[0-9]"));else g=null;
if(g!==null)if(b.charCodeAt(c)===46?(d=".",c+=1):(d=null,k===0&&i('"."')),d!==null){h=[];/^[0-9]/.test(b.charAt(c))?(m=b.charAt(c),c++):(m=null,k===0&&i("[0-9]"));for(;m!==null;)h.push(m),/^[0-9]/.test(b.charAt(c))?(m=b.charAt(c),c++):(m=null,k===0&&i("[0-9]"));h!==null?(m=ca(),m=m!==null?m:"",m!==null?g=[g,d,h,m]:(g=null,c=j)):(g=null,c=j)}else g=null,c=j;else g=null,c=j}g!==null&&(g[0]=g[0].join(""),g[2]=g[2].join(""),g=new r({type:"float",value:parseFloat(g.join(""))}));g===null&&(c=a);if(g===
null){j=a=c;/^[0-9]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[0-9]"));if(d!==null)for(g=[];d!==null;)g.push(d),/^[0-9]/.test(b.charAt(c))?(d=b.charAt(c),c++):(d=null,k===0&&i("[0-9]"));else g=null;g!==null?(d=ca(),d!==null?g=[g,d]:(g=null,c=j)):(g=null,c=j);g!==null&&(g=new r({type:"float",value:parseFloat(g[0].join("")+g[1])}));g===null&&(c=a)}l[e]={nextPos:c,result:g};return g}function ca(){var e="float_exponent@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m,j;j=m=c;/^[Ee]/.test(b.charAt(c))?
(a=b.charAt(c),c++):(a=null,k===0&&i("[Ee]"));if(a!==null)if(/^[+\-]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&i("[+\\-]")),g=g!==null?g:"",g!==null){/^[0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&i("[0-9]"));if(h!==null)for(d=[];h!==null;)d.push(h),/^[0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&i("[0-9]"));else d=null;d!==null?a=[a,g,d]:(a=null,c=j)}else a=null,c=j;else a=null,c=j;a!==null&&(a=["e",a[1]].concat(a[2]).join(""));a===null&&(c=m);l[e]={nextPos:c,
result:a};return a}function sb(){var b="paren_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e;e=f=c;a=C();a!==null?(g=y(),g!==null?(d=D(),d!==null?a=[a,g,d]:(a=null,c=e)):(a=null,c=e)):(a=null,c=e);a!==null&&(a=a[1]);a===null&&(c=f);l[b]={nextPos:c,result:a};return a}function tb(){var e="bool_constant@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g;g=c;b.substr(c,4)==="true"?(a="true",c+=4):(a=null,k===0&&i('"true"'));a===null&&(b.substr(c,5)==="false"?(a="false",c+=5):(a=null,
k===0&&i('"false"')));a!==null&&(a=new r({type:"bool",value:a=="true"}));a===null&&(c=g);l[e]={nextPos:c,result:a};return a}function ub(){var b="primary_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;a=vb();a===null&&(a=v(),a===null&&(a=rb(),a===null&&(a=qb(),a===null&&(a=tb(),a===null&&(a=sb())))));l[b]={nextPos:c,result:a};return a}function U(){var b="index_accessor@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e;e=f=c;a=J();a!==null?(g=y(),g!==null?(d=K(),d!==null?a=[a,g,d]:(a=
null,c=e)):(a=null,c=e)):(a=null,c=e);a!==null&&(a=new r({type:"accessor",index:a[1]}));a===null&&(c=f);l[b]={nextPos:c,result:a};return a}function V(){var e="field_selector@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h;h=d=c;b.charCodeAt(c)===46?(a=".",c+=1):(a=null,k===0&&i('"."'));a!==null?(g=v(),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new r({type:"field_selector",selection:a[1].name}));a===null&&(c=d);l[e]={nextPos:c,result:a};return a}function wb(){var b="postfix_expression@"+
c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e;e=a=c;g=ub();if(g!==null){d=[];f=V();for(f===null&&(f=U());f!==null;)d.push(f),f=V(),f===null&&(f=U());d!==null?g=[g,d]:(g=null,c=e)}else g=null,c=e;if(g!==null){d=g[1];g=g[0];for(f=0;f<d.length;f++)g=new r({type:"postfix",operator:d[f],expression:g})}g===null&&(c=a);l[b]={nextPos:c,result:g};return g}function xb(){var e="postfix_expression_no_repeat@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m,j,p;p=a=c;g=wb();if(g!==null)if(d=o(),
d=d!==null?d:"",d!==null)if(b.substr(c,2)==="++"?(h="++",c+=2):(h=null,k===0&&i('"++"')),h===null&&(b.substr(c,2)==="--"?(h="--",c+=2):(h=null,k===0&&i('"--"'))),h=h!==null?h:"",h!==null){m=[];j=V();for(j===null&&(j=U());j!==null;)m.push(j),j=V(),j===null&&(j=U());m!==null?g=[g,d,h,m]:(g=null,c=p)}else g=null,c=p;else g=null,c=p;else g=null,c=p;if(g!==null){h=g[2];d=g[3];g=g[0];h&&(g=new r({type:"postfix",operator:new r({id:yb++,type:"operator",operator:h}),expression:g}));for(h=0;h<d.length;h++)g=
new r({type:"postfix",operator:d[h],expression:g})}g===null&&(c=a);l[e]={nextPos:c,result:g};return g}function zb(){var e="parameter_list@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m,j,o;m=c;b.substr(c,4)==="void"?(a="void",c+=4):(a=null,k===0&&i('"void"'));a!==null&&(a=[]);a===null&&(c=m);if(a===null){j=m=c;a=y();if(a!==null){g=[];o=c;d=w();d!==null?(h=y(),h!==null?d=[d,h]:(d=null,c=o)):(d=null,c=o);for(;d!==null;)g.push(d),o=c,d=w(),d!==null?(h=y(),h!==null?d=[d,h]:(d=null,c=o)):(d=null,
c=o);g!==null?a=[a,g]:(a=null,c=j)}else a=null,c=j;a!==null&&(a=function(a,b){return[a].concat(b.map(function(a){return a[1]}))}(a[0],a[1]));a===null&&(c=m)}l[e]={nextPos:c,result:a};return a}function vb(){var b="function_call@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h;h=a=c;g=Ab();g!==null?(d=C(),d!==null?(f=zb(),f=f!==null?f:"",f!==null?(e=D(),e!==null?g=[g,d,f,e]:(g=null,c=h)):(g=null,c=h)):(g=null,c=h)):(g=null,c=h);if(g!==null&&(d=g[2],g=new r({type:"function_call",function_name:g[0],
parameters:d}),!d))g.parameters=[];g===null&&(c=a);l[b]={nextPos:c,result:g};return g}function Ab(){var b="function_identifier@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g;g=c;a=v();a!==null&&(a=a.name);a===null&&(c=g);a===null&&(a=P());l[b]={nextPos:c,result:a};return a}function da(){var e="unary_expression@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m;m=h=c;b.substr(c,2)==="++"?(a="++",c+=2):(a=null,k===0&&i('"++"'));a===null&&(b.substr(c,2)==="--"?(a="--",c+=2):(a=null,k===0&&i('"--"')),
a===null&&(b.charCodeAt(c)===33?(a="!",c+=1):(a=null,k===0&&i('"!"')),a===null&&(b.charCodeAt(c)===126?(a="~",c+=1):(a=null,k===0&&i('"~"')),a===null&&(b.charCodeAt(c)===43?(a="+",c+=1):(a=null,k===0&&i('"+"')),a===null&&(b.charCodeAt(c)===45?(a="-",c+=1):(a=null,k===0&&i('"-"')))))));a=a!==null?a:"";a!==null?(g=o(),g=g!==null?g:"",g!==null?(d=xb(),d!==null?a=[a,g,d]:(a=null,c=m)):(a=null,c=m)):(a=null,c=m);a!==null&&(g=a[0],x=a[2],g&&(x=new r({type:"unary",expression:x,operator:new r({type:"operator",
operator:g})})),a=x);a===null&&(c=h);l[e]={nextPos:c,result:a};return a}function Ja(){var e="multiplicative_operator@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m;h=d=c;b.charCodeAt(c)===42?(a="*",c+=1):(a=null,k===0&&i('"*"'));a===null&&(b.charCodeAt(c)===47?(a="/",c+=1):(a=null,k===0&&i('"/"')),a===null&&(b.charCodeAt(c)===37?(a="%",c+=1):(a=null,k===0&&i('"%"'))));a!==null?(m=c,k++,b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&i('"="')),k--,g===null?g="":(g=null,c=m),g!==null?a=[a,
g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new r({type:"operator",operator:a[0]}));a===null&&(c=d);l[e]={nextPos:c,result:a};return a}function ea(){var b="multiplicative_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i,k,j;k=i=c;a=da();if(a!==null){g=[];j=c;d=o();d=d!==null?d:"";d!==null?(f=Ja(),f!==null?(e=o(),e=e!==null?e:"",e!==null?(h=da(),h!==null?d=[d,f,e,h]:(d=null,c=j)):(d=null,c=j)):(d=null,c=j)):(d=null,c=j);for(;d!==null;)g.push(d),j=c,d=o(),d=d!==null?d:"",d!==null?
(f=Ja(),f!==null?(e=o(),e=e!==null?e:"",e!==null?(h=da(),h!==null?d=[d,f,e,h]:(d=null,c=j)):(d=null,c=j)):(d=null,c=j)):(d=null,c=j);g!==null?a=[a,g]:(a=null,c=k)}else a=null,c=k;a!==null&&(a=z(a[0],a[1]));a===null&&(c=i);l[b]={nextPos:c,result:a};return a}function Ka(){var e="additive_operator@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m;h=d=c;b.charCodeAt(c)===43?(a="+",c+=1):(a=null,k===0&&i('"+"'));a!==null?(m=c,k++,b.charCodeAt(c)===43?(g="+",c+=1):(g=null,k===0&&i('"+"')),g===null&&
(b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&i('"="'))),k--,g===null?g="":(g=null,c=m),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new r({type:"operator",operator:"+"}));a===null&&(c=d);a===null&&(h=d=c,b.charCodeAt(c)===45?(a="-",c+=1):(a=null,k===0&&i('"-"')),a!==null?(m=c,k++,b.charCodeAt(c)===45?(g="-",c+=1):(g=null,k===0&&i('"-"')),g===null&&(b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&i('"="'))),k--,g===null?g="":(g=null,c=m),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h),
a!==null&&(a=new r({type:"operator",operator:"-"})),a===null&&(c=d));l[e]={nextPos:c,result:a};return a}function fa(){var b="additive_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i,k,j;k=i=c;a=ea();if(a!==null){g=[];j=c;d=o();d=d!==null?d:"";d!==null?(f=Ka(),f!==null?(e=o(),e=e!==null?e:"",e!==null?(h=ea(),h!==null?d=[d,f,e,h]:(d=null,c=j)):(d=null,c=j)):(d=null,c=j)):(d=null,c=j);for(;d!==null;)g.push(d),j=c,d=o(),d=d!==null?d:"",d!==null?(f=Ka(),f!==null?(e=o(),e=e!==null?
e:"",e!==null?(h=ea(),h!==null?d=[d,f,e,h]:(d=null,c=j)):(d=null,c=j)):(d=null,c=j)):(d=null,c=j);g!==null?a=[a,g]:(a=null,c=k)}else a=null,c=k;a!==null&&(a=z(a[0],a[1]));a===null&&(c=i);l[b]={nextPos:c,result:a};return a}function La(){var e="shift_operator@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m;h=d=c;b.substr(c,2)==="<<"?(a="<<",c+=2):(a=null,k===0&&i('"<<"'));a===null&&(b.substr(c,2)===">>"?(a=">>",c+=2):(a=null,k===0&&i('">>"')));a!==null?(m=c,k++,b.charCodeAt(c)===61?(g="=",c+=
1):(g=null,k===0&&i('"="')),k--,g===null?g="":(g=null,c=m),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new r({type:"operator",operator:a[0]}));a===null&&(c=d);l[e]={nextPos:c,result:a};return a}function ga(){var b="shift_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i,k,j;k=i=c;a=fa();if(a!==null){g=[];j=c;d=o();d=d!==null?d:"";d!==null?(f=La(),f!==null?(e=o(),e=e!==null?e:"",e!==null?(h=fa(),h!==null?d=[d,f,e,h]:(d=null,c=j)):(d=null,c=j)):(d=null,c=j)):(d=null,
c=j);for(;d!==null;)g.push(d),j=c,d=o(),d=d!==null?d:"",d!==null?(f=La(),f!==null?(e=o(),e=e!==null?e:"",e!==null?(h=fa(),h!==null?d=[d,f,e,h]:(d=null,c=j)):(d=null,c=j)):(d=null,c=j)):(d=null,c=j);g!==null?a=[a,g]:(a=null,c=k)}else a=null,c=k;a!==null&&(a=z(a[0],a[1]));a===null&&(c=i);l[b]={nextPos:c,result:a};return a}function Ma(){var e="relational_operator@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,m;m=h=c;b.charCodeAt(c)===60?(a="<",c+=1):(a=null,k===0&&i('"<"'));a!==null?(d=c,k++,
b.charCodeAt(c)===60?(g="<",c+=1):(g=null,k===0&&i('"<"')),k--,g===null?g="":(g=null,c=d),g!==null?(b.charCodeAt(c)===61?(d="=",c+=1):(d=null,k===0&&i('"="')),d=d!==null?d:"",d!==null?a=[a,g,d]:(a=null,c=m)):(a=null,c=m)):(a=null,c=m);a!==null&&(a=new r({type:"operator",operator:"<"+a[2]}));a===null&&(c=h);a===null&&(m=h=c,b.charCodeAt(c)===62?(a=">",c+=1):(a=null,k===0&&i('">"')),a!==null?(d=c,k++,b.charCodeAt(c)===62?(g=">",c+=1):(g=null,k===0&&i('">"')),k--,g===null?g="":(g=null,c=d),g!==null?
(b.charCodeAt(c)===61?(d="=",c+=1):(d=null,k===0&&i('"="')),d=d!==null?d:"",d!==null?a=[a,g,d]:(a=null,c=m)):(a=null,c=m)):(a=null,c=m),a!==null&&(a=new r({type:"operator",operator:">"+a[2]})),a===null&&(c=h));l[e]={nextPos:c,result:a};return a}function ha(){var b="relational_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i,j,k;j=i=c;a=ga();if(a!==null){g=[];k=c;d=o();d=d!==null?d:"";d!==null?(f=Ma(),f!==null?(e=o(),e=e!==null?e:"",e!==null?(h=ga(),h!==null?d=[d,f,e,h]:(d=null,
c=k)):(d=null,c=k)):(d=null,c=k)):(d=null,c=k);for(;d!==null;)g.push(d),k=c,d=o(),d=d!==null?d:"",d!==null?(f=Ma(),f!==null?(e=o(),e=e!==null?e:"",e!==null?(h=ga(),h!==null?d=[d,f,e,h]:(d=null,c=k)):(d=null,c=k)):(d=null,c=k)):(d=null,c=k);g!==null?a=[a,g]:(a=null,c=j)}else a=null,c=j;a!==null&&(a=z(a[0],a[1]));a===null&&(c=i);l[b]={nextPos:c,result:a};return a}function Na(){var e="equality_operator@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g;g=c;b.substr(c,2)==="=="?(a="==",c+=2):(a=null,k===
0&&i('"=="'));a===null&&(b.substr(c,2)==="!="?(a="!=",c+=2):(a=null,k===0&&i('"!="')));a!==null&&(a=new r({type:"operator",operator:a}));a===null&&(c=g);l[e]={nextPos:c,result:a};return a}function ia(){var b="equality_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i,k,j;k=i=c;a=ha();if(a!==null){g=[];j=c;d=o();d=d!==null?d:"";d!==null?(f=Na(),f!==null?(e=o(),e=e!==null?e:"",e!==null?(h=ha(),h!==null?d=[d,f,e,h]:(d=null,c=j)):(d=null,c=j)):(d=null,c=j)):(d=null,c=j);for(;d!==
null;)g.push(d),j=c,d=o(),d=d!==null?d:"",d!==null?(f=Na(),f!==null?(e=o(),e=e!==null?e:"",e!==null?(h=ha(),h!==null?d=[d,f,e,h]:(d=null,c=j)):(d=null,c=j)):(d=null,c=j)):(d=null,c=j);g!==null?a=[a,g]:(a=null,c=k)}else a=null,c=k;a!==null&&(a=z(a[0],a[1]));a===null&&(c=i);l[b]={nextPos:c,result:a};return a}function Oa(){var e="bitwise_and_operator@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,j;h=d=c;b.charCodeAt(c)===38?(a="&",c+=1):(a=null,k===0&&i('"&"'));a!==null?(j=c,k++,b.charCodeAt(c)===
61?(g="=",c+=1):(g=null,k===0&&i('"="')),g===null&&(b.charCodeAt(c)===38?(g="&",c+=1):(g=null,k===0&&i('"&"'))),k--,g===null?g="":(g=null,c=j),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new r({type:"operator",operator:"&"}));a===null&&(c=d);l[e]={nextPos:c,result:a};return a}function ja(){var b="bitwise_and_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i,j,k;j=i=c;a=ia();if(a!==null){g=[];k=c;d=o();d=d!==null?d:"";d!==null?(f=Oa(),f!==null?(e=o(),e=e!==null?e:
"",e!==null?(h=ia(),h!==null?d=[d,f,e,h]:(d=null,c=k)):(d=null,c=k)):(d=null,c=k)):(d=null,c=k);for(;d!==null;)g.push(d),k=c,d=o(),d=d!==null?d:"",d!==null?(f=Oa(),f!==null?(e=o(),e=e!==null?e:"",e!==null?(h=ia(),h!==null?d=[d,f,e,h]:(d=null,c=k)):(d=null,c=k)):(d=null,c=k)):(d=null,c=k);g!==null?a=[a,g]:(a=null,c=j)}else a=null,c=j;a!==null&&(a=z(a[0],a[1]));a===null&&(c=i);l[b]={nextPos:c,result:a};return a}function Pa(){var e="bitwise_xor_operator@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,
d,h,j;h=d=c;b.charCodeAt(c)===94?(a="^",c+=1):(a=null,k===0&&i('"^"'));a!==null?(j=c,k++,b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&i('"="')),g===null&&(b.charCodeAt(c)===94?(g="^",c+=1):(g=null,k===0&&i('"^"'))),k--,g===null?g="":(g=null,c=j),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new r({type:"operator",operator:"^"}));a===null&&(c=d);l[e]={nextPos:c,result:a};return a}function ka(){var b="bitwise_xor_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,e,f,h,i,
j,k;j=i=c;a=ja();if(a!==null){g=[];k=c;d=o();d=d!==null?d:"";d!==null?(e=Pa(),e!==null?(f=o(),f=f!==null?f:"",f!==null?(h=ja(),h!==null?d=[d,e,f,h]:(d=null,c=k)):(d=null,c=k)):(d=null,c=k)):(d=null,c=k);for(;d!==null;)g.push(d),k=c,d=o(),d=d!==null?d:"",d!==null?(e=Pa(),e!==null?(f=o(),f=f!==null?f:"",f!==null?(h=ja(),h!==null?d=[d,e,f,h]:(d=null,c=k)):(d=null,c=k)):(d=null,c=k)):(d=null,c=k);g!==null?a=[a,g]:(a=null,c=j)}else a=null,c=j;a!==null&&(a=z(a[0],a[1]));a===null&&(c=i);l[b]={nextPos:c,
result:a};return a}function Qa(){var e="bitwise_or_operator@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,j;h=d=c;b.charCodeAt(c)===124?(a="|",c+=1):(a=null,k===0&&i('"|"'));a!==null?(j=c,k++,b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&i('"="')),g===null&&(b.charCodeAt(c)===124?(g="|",c+=1):(g=null,k===0&&i('"|"'))),k--,g===null?g="":(g=null,c=j),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new r({type:"operator",operator:"|"}));a===null&&(c=d);l[e]={nextPos:c,result:a};return a}
function la(){var b="bitwise_or_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,f,e,h,i,k,j;k=i=c;a=ka();if(a!==null){g=[];j=c;d=o();d=d!==null?d:"";d!==null?(f=Qa(),f!==null?(e=o(),e=e!==null?e:"",e!==null?(h=ka(),h!==null?d=[d,f,e,h]:(d=null,c=j)):(d=null,c=j)):(d=null,c=j)):(d=null,c=j);for(;d!==null;)g.push(d),j=c,d=o(),d=d!==null?d:"",d!==null?(f=Qa(),f!==null?(e=o(),e=e!==null?e:"",e!==null?(h=ka(),h!==null?d=[d,f,e,h]:(d=null,c=j)):(d=null,c=j)):(d=null,c=j)):(d=null,c=j);g!==
null?a=[a,g]:(a=null,c=k)}else a=null,c=k;a!==null&&(a=z(a[0],a[1]));a===null&&(c=i);l[b]={nextPos:c,result:a};return a}function Ra(){var e="logical_and_operator@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g;g=c;b.substr(c,2)==="&&"?(a="&&",c+=2):(a=null,k===0&&i('"&&"'));a!==null&&(a=new r({type:"operator",operator:"&&"}));a===null&&(c=g);l[e]={nextPos:c,result:a};return a}function ma(){var b="logical_and_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,e,f,h,i,j,k;j=i=c;a=la();
if(a!==null){g=[];k=c;d=o();d=d!==null?d:"";d!==null?(e=Ra(),e!==null?(f=o(),f=f!==null?f:"",f!==null?(h=la(),h!==null?d=[d,e,f,h]:(d=null,c=k)):(d=null,c=k)):(d=null,c=k)):(d=null,c=k);for(;d!==null;)g.push(d),k=c,d=o(),d=d!==null?d:"",d!==null?(e=Ra(),e!==null?(f=o(),f=f!==null?f:"",f!==null?(h=la(),h!==null?d=[d,e,f,h]:(d=null,c=k)):(d=null,c=k)):(d=null,c=k)):(d=null,c=k);g!==null?a=[a,g]:(a=null,c=j)}else a=null,c=j;a!==null&&(a=z(a[0],a[1]));a===null&&(c=i);l[b]={nextPos:c,result:a};return a}
function Sa(){var e="logical_xor_operator@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g;g=c;b.substr(c,2)==="^^"?(a="^^",c+=2):(a=null,k===0&&i('"^^"'));a!==null&&(a=new r({type:"operator",operator:"^^"}));a===null&&(c=g);l[e]={nextPos:c,result:a};return a}function na(){var b="logical_xor_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,e,f,h,i,k,j;k=i=c;a=ma();if(a!==null){g=[];j=c;d=o();d=d!==null?d:"";d!==null?(e=Sa(),e!==null?(f=o(),f=f!==null?f:"",f!==null?(h=ma(),h!==null?
d=[d,e,f,h]:(d=null,c=j)):(d=null,c=j)):(d=null,c=j)):(d=null,c=j);for(;d!==null;)g.push(d),j=c,d=o(),d=d!==null?d:"",d!==null?(e=Sa(),e!==null?(f=o(),f=f!==null?f:"",f!==null?(h=ma(),h!==null?d=[d,e,f,h]:(d=null,c=j)):(d=null,c=j)):(d=null,c=j)):(d=null,c=j);g!==null?a=[a,g]:(a=null,c=k)}else a=null,c=k;a!==null&&(a=z(a[0],a[1]));a===null&&(c=i);l[b]={nextPos:c,result:a};return a}function Ta(){var e="logical_or_operator@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g;g=c;b.substr(c,2)==="||"?(a=
"||",c+=2):(a=null,k===0&&i('"||"'));a!==null&&(a=new r({type:"operator",operator:"||"}));a===null&&(c=g);l[e]={nextPos:c,result:a};return a}function Bb(){var b="logical_or_expression@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var g,d,e,f,h,i,j,k;j=i=c;a=na();if(a!==null){g=[];k=c;d=o();d=d!==null?d:"";d!==null?(e=Ta(),e!==null?(f=o(),f=f!==null?f:"",f!==null?(h=na(),h!==null?d=[d,e,f,h]:(d=null,c=k)):(d=null,c=k)):(d=null,c=k)):(d=null,c=k);for(;d!==null;)g.push(d),k=c,d=o(),d=d!==null?d:"",d!==
null?(e=Ta(),e!==null?(f=o(),f=f!==null?f:"",f!==null?(h=na(),h!==null?d=[d,e,f,h]:(d=null,c=k)):(d=null,c=k)):(d=null,c=k)):(d=null,c=k);g!==null?a=[a,g]:(a=null,c=j)}else a=null,c=j;a!==null&&(a=z(a[0],a[1]));a===null&&(c=i);l[b]={nextPos:c,result:a};return a}function G(){var e="conditional_expression@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,j,p,q,u,t,s,w,v;w=a=c;g=Bb();g!==null?(v=c,d=o(),d=d!==null?d:"",d!==null?(b.charCodeAt(c)===63?(h="?",c+=1):(h=null,k===0&&i('"?"')),h!==null?
(j=o(),j=j!==null?j:"",j!==null?(p=y(),p!==null?(q=o(),q=q!==null?q:"",q!==null?(b.charCodeAt(c)===58?(u=":",c+=1):(u=null,k===0&&i('":"')),u!==null?(t=o(),t=t!==null?t:"",t!==null?(s=y(),s!==null?d=[d,h,j,p,q,u,t,s]:(d=null,c=v)):(d=null,c=v)):(d=null,c=v)):(d=null,c=v)):(d=null,c=v)):(d=null,c=v)):(d=null,c=v)):(d=null,c=v),d=d!==null?d:"",d!==null?g=[g,d]:(g=null,c=w)):(g=null,c=w);g!==null&&(d=g[0],g=g[1],x=d,g&&(x=new r({type:"ternary",condition:d,is_true:g[3],is_false:g[7]})),g=x);g===null&&
(c=a);l[e]={nextPos:c,result:g};return g}function y(){var e="assignment_expression@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,j,p,q;q=p=c;a=G();a!==null?(g=o(),g=g!==null?g:"",g!==null?(b.charCodeAt(c)===61?(d="=",c+=1):(d=null,k===0&&i('"="')),d===null&&(b.substr(c,2)==="*="?(d="*=",c+=2):(d=null,k===0&&i('"*="')),d===null&&(b.substr(c,2)==="/="?(d="/=",c+=2):(d=null,k===0&&i('"/="')),d===null&&(b.substr(c,2)==="%="?(d="%=",c+=2):(d=null,k===0&&i('"%="')),d===null&&(b.substr(c,2)==="+="?
(d="+=",c+=2):(d=null,k===0&&i('"+="')),d===null&&(b.substr(c,2)==="-="?(d="-=",c+=2):(d=null,k===0&&i('"-="')),d===null&&(b.substr(c,3)==="<<="?(d="<<=",c+=3):(d=null,k===0&&i('"<<="')),d===null&&(b.substr(c,3)===">>="?(d=">>=",c+=3):(d=null,k===0&&i('">>="')),d===null&&(b.substr(c,2)==="&="?(d="&=",c+=2):(d=null,k===0&&i('"&="')),d===null&&(b.substr(c,2)==="^="?(d="^=",c+=2):(d=null,k===0&&i('"^="')),d===null&&(b.substr(c,2)==="|="?(d="|=",c+=2):(d=null,k===0&&i('"|="')))))))))))),d!==null?(h=o(),
h=h!==null?h:"",h!==null?(j=y(),j!==null?a=[a,g,d,h,j]:(a=null,c=q)):(a=null,c=q)):(a=null,c=q)):(a=null,c=q)):(a=null,c=q);a!==null&&(a=new r({type:"binary",operator:new r({type:"operator",operator:a[2]}),left:a[0],right:a[4]}));a===null&&(c=p);a===null&&(a=G());l[e]={nextPos:c,result:a};return a}function Aa(){var e="condition@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,j,p,q,r;r=c;a=O();a!==null?(g=o(),g!==null?(d=v(),d!==null?(h=o(),h=h!==null?h:"",h!==null?(b.charCodeAt(c)===61?(j="=",
c+=1):(j=null,k===0&&i('"="')),j!==null?(p=o(),p=p!==null?p:"",p!==null?(q=y(),q!==null?a=[a,g,d,h,j,p,q]:(a=null,c=r)):(a=null,c=r)):(a=null,c=r)):(a=null,c=r)):(a=null,c=r)):(a=null,c=r)):(a=null,c=r);a===null&&(a=y());l[e]={nextPos:c,result:a};return a}function Fb(){var e;a:{e=oa;e.sort();for(var a=null,g=[],d=0;d<e.length;d++)e[d]!==a&&(g.push(e[d]),a=e[d]);switch(g.length){case 0:e="end of input";break a;case 1:e=g[0];break a;default:e=g.slice(0,g.length-1).join(", ")+" or "+g[g.length-1]}}a=
Math.max(c,I);a=a<b.length?j(b.charAt(a)):"end of input";return"Expected "+e+" but "+a+" found."}function Cb(){for(var e=1,a=1,g=false,d=0;d<Math.max(c,I);d++){var h=b.charAt(d);h==="\n"?(g||e++,a=1,g=false):h==="\r"||h==="\u2028"||h==="\u2029"?(e++,a=1,g=true):(a++,g=false)}return{line:e,column:a}}function r(b){this.id=yb++;this.line=Cb().line;for(var a in b)b.hasOwnProperty(a)&&(this[a]=b[a])}function z(b,a){for(var c=b,d=0;d<a.length;d++)c=new r({type:"binary",operator:a[d][1],left:c,right:a[d][3]});
return c}function $a(b,a,c){c&&(a=a.concat([c]));c=b[0];c.guarded_statements=b[1].statements;for(var b=c,d=0;d<a.length;d++)b.elseBody=a[d][0],b.elseBody.guarded_statements=a[d][1].statements,b=b.elseBody;return c}var Db={EOF:q,_:o,additive_expression:fa,additive_operator:Ka,assignment_expression:y,attribute_qualifier:Fa,attribute_type:hb,bitwise_and_expression:ja,bitwise_and_operator:Oa,bitwise_or_expression:la,bitwise_or_operator:Qa,bitwise_xor_expression:ka,bitwise_xor_operator:Pa,bool_constant:tb,
comma:w,comment:B,compound_statement:W,condition:Aa,conditional_expression:G,const_qualifier:aa,declaration:Y,declarator:R,declarator_array_with_size:T,declarator_list:mb,declarator_list_arrays_have_size:Da,declarator_list_no_array:ib,declarator_no_array:S,do_while:fb,equality_expression:ia,equality_operator:Na,equals:Ua,expression_statement:za,external_declaration:Wa,external_statement:ra,external_statement_list:E,field_selector:V,float_constant:rb,float_exponent:ca,for_loop:db,fragment_start:function(){var b=
"fragment_start@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var e,d,f;f=d=c;N="fs";a="";a!==null?(e=E(),e!==null?a=[a,e]:(a=null,c=f)):(a=null,c=f);a!==null&&(a=a[1]);a===null&&(c=d);l[b]={nextPos:c,result:a};return a},fully_specified_type:gb,function_call:vb,function_definition:Xa,function_identifier:Ab,function_prototype:xa,function_prototype_parameter_list:jb,global_declaration:Ya,identifier:v,index_accessor:U,init_declarator:ba,init_declarator_list:Ca,int_constant:qb,iteration_statement:bb,jump_statement:cb,
keyword:pb,left_brace:pa,left_bracket:J,left_paren:C,locally_specified_type:O,logical_and_expression:ma,logical_and_operator:Ra,logical_or_expression:Bb,logical_or_operator:Ta,logical_xor_expression:na,logical_xor_operator:Sa,matrix:Ha,member_list:nb,multiplicative_expression:ea,multiplicative_operator:Ja,newLine:p,noNewlineComment:A,noNewlineWhitespace:H,parameter_declaration:$,parameter_list:zb,parameter_qualifier:lb,paren_expression:sb,postfix_expression:wb,postfix_expression_no_repeat:xb,precision_qualifier:Z,
precision_type:Q,preprocessor_else:ua,preprocessor_else_if:L,preprocessor_end:va,preprocessor_external_branch:Va,preprocessor_if:ta,preprocessor_operator:sa,preprocessor_statement_branch:wa,primary_expression:ub,relational_expression:ha,relational_operator:Ma,reserved:function(){var e="reserved@"+c,a=l[e];if(a)return c=a.nextPos,a.result;var g,d,h,j;k++;j=c;a=[];for(g=Ia();g!==null;)a.push(g),g=Ia();if(a!==null)if(b.substr(c,2)==="__"?(g="__",c+=2):(g=null,k===0&&i('"__"')),g!==null){d=[];/^[A-Za-z_0-9]/.test(b.charAt(c))?
(h=b.charAt(c),c++):(h=null,k===0&&i("[A-Za-z_0-9]"));for(;h!==null;)d.push(h),/^[A-Za-z_0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&i("[A-Za-z_0-9]"));d!==null?a=[a,g,d]:(a=null,c=j)}else a=null,c=j;else a=null,c=j;k--;k===0&&a===null&&i("reserved name");l[e]={nextPos:c,result:a};return a},right_brace:qa,right_bracket:K,right_paren:D,selection_statement:ab,semicolon:s,shift_expression:ga,shift_operator:La,simple_statement:ya,single_underscore_identifier:Ia,statement_list:F,statement_no_new_scope:M,
statement_with_scope:X,struct_definition:Za,type_name:P,type_qualifier:Ea,unary_expression:da,vector:Ga,vertex_start:function(){var b="vertex_start@"+c,a=l[b];if(a)return c=a.nextPos,a.result;var e,d,f;f=d=c;N="vs";a="";a!==null?(e=E(),e!==null?a=[a,e]:(a=null,c=f)):(a=null,c=f);a!==null&&(a=a[1]);a===null&&(c=d);l[b]={nextPos:c,result:a};return a},void_type:kb,while_loop:eb,while_statement:Ba};if(e!==void 0){if(Db[e]===void 0)throw Error("Invalid rule name: "+j(e)+".");}else e="external_statement_list";
var c=0,k=0,I=0,oa=[],l={},ob={},yb=0,N="vs",x=Db[e]();if(x===null||c!==b.length){var Eb=Cb();throw new this.SyntaxError(Fb(),Eb.line,Eb.column);}return x},toSource:function(){return this._source},SyntaxError:function(b,e,h){this.name="SyntaxError";this.message=b;this.line=e;this.column=h}};b.SyntaxError.prototype=Error.prototype;return b}();glslunit.compiler.ConstructorMinifier=function(){glslunit.ASTTransformer.call(this);this.nodeStack_=[]};goog.inherits(glslunit.compiler.ConstructorMinifier,glslunit.ASTTransformer);glslunit.compiler.ConstructorMinifier.CONVERSION_FUNCTIONS_={vec2:2,vec3:3,vec4:4,bvec2:2,bvec3:3,bvec4:4,ivec2:2,ivec3:3,ivec4:4,mat2:4,mat3:9,mat4:16,"float":1,"int":1,bool:1};glslunit.compiler.ConstructorMinifier.prototype.getBeforeTransformFunction=function(b){this.nodeStack_.push(b)};
glslunit.compiler.ConstructorMinifier.prototype.getAfterTransformFunction=function(){this.nodeStack_.pop()};glslunit.compiler.ConstructorMinifier.prototype.parentIsConstructor_=function(){var b=this.nodeStack_.slice(-2)[0];return b.type=="function_call"&&b.function_name in glslunit.compiler.ConstructorMinifier.CONVERSION_FUNCTIONS_};
glslunit.compiler.ConstructorMinifier.prototype.maybeConvertToInt_=function(b){if(this.parentIsConstructor_()&&Math.abs(b.value)<65536&&b.value==Math.round(b.value)){var f=glslunit.ASTTransformer.cloneNode(b);f.type="int";f.value=Number(b.value);return f}return b};glslunit.compiler.ConstructorMinifier.prototype.transformFloat=glslunit.compiler.ConstructorMinifier.prototype.maybeConvertToInt_;glslunit.compiler.ConstructorMinifier.prototype.transformBool=glslunit.compiler.ConstructorMinifier.prototype.maybeConvertToInt_;
glslunit.compiler.ConstructorMinifier.prototype.transformFunctionCall=function(b){var f=glslunit.compiler.ConstructorMinifier.CONVERSION_FUNCTIONS_[b.function_name];if(f){if(this.parentIsConstructor_()&&b.parameters.length==f)return b.parameters;if(b.parameters&&b.parameters.length>1){var e=glslunit.Generator.getSourceCode(b.parameters[0]),h=false;if(b.function_name.slice(0,3)=="mat"){if(b.parameters.length==f){for(var f=true,j=parseInt(b.function_name.slice(-1),10),i=0;i<j&&f;i++)for(var p=0;p<j&&
f;p++)f=glslunit.Generator.getSourceCode(b.parameters[i*j+p])==(i==p?e:"0");f&&(h=true)}}else goog.array.every(b.parameters,function(b){return glslunit.Generator.getSourceCode(b)==e})&&(h=true);if(h)return h=glslunit.ASTTransformer.cloneNode(b),h.parameters=[b.parameters[0]],h}}return b};glslunit.compiler.ConstructorMinifier.NAME="ConstructorMinifier";glslunit.compiler.ConstructorMinifier.prototype.getName=function(){return glslunit.compiler.ConstructorMinifier.NAME};
glslunit.compiler.ConstructorMinifier.prototype.getDependencies=function(){return[]};glslunit.compiler.ConstructorMinifier.prototype.performStep=function(b,f){var e=new glslunit.compiler.ConstructorMinifier,h=new glslunit.compiler.ConstructorMinifier;f.vertexAst=e.transformNode(f.vertexAst);f.fragmentAst=h.transformNode(f.fragmentAst);return[]};glslunit.compiler.DeclarationConsolidation=function(b){glslunit.ASTTransformer.call(this);this.scopeIdToDeclarators_={};this.currentDeclarator_=null;this.typeMapStack_=[];this.forInitializerNodes_=[];this.structDeclaratorNodes_=[];this.consolidateAttributes_=b};goog.inherits(glslunit.compiler.DeclarationConsolidation,glslunit.ASTTransformer);
glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformRoot=function(b){var f=glslunit.NodeCollector.collectNodes(b,function(b){return b.type=="for_statement"});goog.array.forEach(f,function(b){this.forInitializerNodes_[b.initializer.id]=true},this);this.structDeclaratorNodes_=glslunit.compiler.Utils.getStructDeclarations(b);var f=glslunit.VariableScopeVisitor.getScopeToDeclarationMap(b),e;for(e in f){var h={};goog.array.forEach(f[e],function(f){if(f.type=="declarator"&&this.shouldConsolidateDeclarator_(f,
e==b.id)){var i=glslunit.Generator.getSourceCode(f.typeAttribute);h[i]||(h[i]=[]);goog.array.forEach(f.declarators,function(b){var e=b;e.initializer&&(e=glslunit.ASTTransformer.cloneNode(b),delete e.initializer);h[i].push(e)},this)}},this);this.scopeIdToDeclarators_[e]=h}this.beforeTransformScope(b)};glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformDeclarator=function(b){this.currentDeclarator_=b};
glslunit.compiler.DeclarationConsolidation.prototype.afterTransformDeclarator=function(){this.currentDeclarator_=null};glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformScope=function(b){this.typeMapStack_.push(this.scopeIdToDeclarators_[b.id])};glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformPreprocessor=glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformScope;glslunit.compiler.DeclarationConsolidation.prototype.afterTransformScope=function(){this.typeMapStack_.pop()};
glslunit.compiler.DeclarationConsolidation.prototype.afterTransformPreprocessor=glslunit.compiler.DeclarationConsolidation.prototype.afterTransformScope;
glslunit.compiler.DeclarationConsolidation.prototype.shouldConsolidateDeclarator_=function(b,f){var e=glslunit.Generator.getSourceCode(b.typeAttribute),h=null;this.typeMapStack_.length>0&&(h=this.typeMapStack_.slice(-1)[0][e]);return b!=null&&(this.consolidateAttributes_||b.typeAttribute.qualifier!="attribute")&&b.typeAttribute.qualifier!="const"&&(!h||h.length>1)&&!(b.id in this.forInitializerNodes_)&&!(b.id in this.structDeclaratorNodes_)&&!(f&&!goog.array.every(b.declarators,function(b){return!goog.isDef(b.initializer)}))};
glslunit.compiler.DeclarationConsolidation.prototype.transformDeclaratorItem=function(b){return!this.shouldConsolidateDeclarator_(this.currentDeclarator_,this.typeMapStack_.length==1)?b:b.initializer?{id:glslunit.ASTTransformer.getNextId(),type:"expression",expression:{id:glslunit.ASTTransformer.getNextId(),type:"binary",operator:{id:glslunit.ASTTransformer.getNextId(),type:"operator",operator:"="},left:b.name,right:b.initializer}}:null};
glslunit.compiler.DeclarationConsolidation.prototype.transformDeclarator=function(b){if(!this.shouldConsolidateDeclarator_(b,this.typeMapStack_.length==1))return b;var f=[],e=glslunit.Generator.getSourceCode(b.typeAttribute),h=this.typeMapStack_.slice(-1)[0],j=h[e];if(j)f=glslunit.ASTTransformer.cloneNode(b),f.declarators=j,f=[f],delete h[e];b.declarators&&b.declarators.length!=0&&Array.prototype.push.apply(f,b.declarators);return f};glslunit.compiler.DeclarationConsolidation.NAME="DeclarationConsolidation";
glslunit.compiler.DeclarationConsolidation.prototype.getName=function(){return glslunit.compiler.DeclarationConsolidation.NAME};glslunit.compiler.DeclarationConsolidation.prototype.getDependencies=function(){return[]};
glslunit.compiler.DeclarationConsolidation.prototype.performStep=function(b,f){var e=new glslunit.compiler.DeclarationConsolidation(this.consolidateAttributes_),h=new glslunit.compiler.DeclarationConsolidation(this.consolidateAttributes_);f.vertexAst=e.transformNode(f.vertexAst);f.fragmentAst=h.transformNode(f.fragmentAst);return[]};glslunit.compiler.DemoCompiler=function(b,f){this.fragmentSource_=f;this.vertexSource_=b};
glslunit.compiler.DemoCompiler.prototype.compileProgram=function(){var b=new glslunit.compiler.ShaderProgram;b.vertexAst=glslunit.glsl.parser.parse(this.vertexSource_,"vertex_start");b.fragmentAst=glslunit.glsl.parser.parse(this.fragmentSource_,"fragment_start");b=new glslunit.compiler.Compiler(b);b.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.BraceReducer);b.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.ConstructorMinifier);
b.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.DeadFunctionRemover);b.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.DeclarationConsolidation(true));b.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.VariableMinifier(false));b.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.FunctionMinifier);return b=b.compileProgram()};
